(self.webpackChunk_lamnhan_nguix_starter=self.webpackChunk_lamnhan_nguix_starter||[]).push([[179],{8255:t=>{function e(t){return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=()=>[],e.resolve=e,e.id=8255,t.exports=e},1116:(t,e,n)=>{"use strict";n.d(e,{mr:()=>w,Ov:()=>Ct,ez:()=>Ot,H9:()=>At,K0:()=>u,uU:()=>xt,Do:()=>S,V_:()=>h,Ye:()=>E,S$:()=>y,sg:()=>gt,O5:()=>vt,tP:()=>wt,b0:()=>_,lw:()=>c,EM:()=>Rt,JF:()=>Mt,NF:()=>Dt,PM:()=>Nt,w_:()=>a,bD:()=>kt,q:()=>o,Mx:()=>dt,HT:()=>s});var r=n(7368);let i=null;function o(){return i}function s(t){i||(i=t)}class a{}const u=new r.OlP("DocumentToken");let c=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:l,token:t,providedIn:"platform"}),t})();function l(){return(0,r.LFG)(f)}const h=new r.OlP("Location Initialized");let f=(()=>{class t extends c{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){const e=o().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",t,!1),()=>e.removeEventListener("popstate",t)}onHashChange(t){const e=o().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",t,!1),()=>e.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){d()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){d()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(u))},t.\u0275prov=(0,r.Yz7)({factory:p,token:t,providedIn:"platform"}),t})();function d(){return!!window.history.pushState}function p(){return new f((0,r.LFG)(u))}function g(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function m(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function v(t){return t&&"?"!==t[0]?"?"+t:t}let y=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:b,token:t,providedIn:"root"}),t})();function b(t){const e=(0,r.LFG)(u).location;return new _((0,r.LFG)(c),e&&e.origin||"")}const w=new r.OlP("appBaseHref");let _=(()=>{class t extends y{constructor(t,e){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return g(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+v(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+v(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+v(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(c),r.LFG(w,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),S=(()=>{class t extends y{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=e&&(this._baseHref=e)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=g(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+v(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+v(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(c),r.LFG(w,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),E=(()=>{class t{constructor(t,e){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=m(I(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+v(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,I(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+v(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+v(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformStrategy).historyGo)||void 0===n||n.call(e,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(y),r.LFG(c))},t.normalizeQueryParams=v,t.joinWithSlash=g,t.stripTrailingSlash=m,t.\u0275prov=(0,r.Yz7)({factory:T,token:t,providedIn:"root"}),t})();function T(){return new E((0,r.LFG)(y),(0,r.LFG)(c))}function I(t){return t.replace(/\/index.html$/,"")}const C={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var x=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),A=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),O=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),k=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),D=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),N=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function R(t,e){return j((0,r.cg1)(t)[r.wAp.DateFormat],e)}function P(t,e){return j((0,r.cg1)(t)[r.wAp.TimeFormat],e)}function L(t,e){return j((0,r.cg1)(t)[r.wAp.DateTimeFormat],e)}function M(t,e){const n=(0,r.cg1)(t),i=n[r.wAp.NumberSymbols][e];if(void 0===i){if(e===N.CurrencyDecimal)return n[r.wAp.NumberSymbols][N.Decimal];if(e===N.CurrencyGroup)return n[r.wAp.NumberSymbols][N.Group]}return i}const F=r.kL8;function U(t){if(!t[r.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[r.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function j(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function V(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const q=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,B={},G=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var z=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),H=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),$=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function K(t,e,n,r){let i=function(t){if(st(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[e,n=1,r=1]=t.split("-").map(t=>+t);return Z(e,n-1,r)}const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let n;if(n=t.match(q))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,u,c),e}(n)}const e=new Date(t);if(!st(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=W(n,e)||e;let o,s=[];for(;e;){if(o=G.exec(e),!o){s.push(e);break}{s=s.concat(o.slice(1));const t=s.pop();if(!t)break;e=t}}let a=i.getTimezoneOffset();r&&(a=ot(r,a),i=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(ot(e,r)-r))}(i,r));let u="";return s.forEach(t=>{const e=function(t){if(it[t])return it[t];let e;switch(t){case"G":case"GG":case"GGG":e=X($.Eras,k.Abbreviated);break;case"GGGG":e=X($.Eras,k.Wide);break;case"GGGGG":e=X($.Eras,k.Narrow);break;case"y":e=J(H.FullYear,1,0,!1,!0);break;case"yy":e=J(H.FullYear,2,0,!0,!0);break;case"yyy":e=J(H.FullYear,3,0,!1,!0);break;case"yyyy":e=J(H.FullYear,4,0,!1,!0);break;case"Y":e=rt(1);break;case"YY":e=rt(2,!0);break;case"YYY":e=rt(3);break;case"YYYY":e=rt(4);break;case"M":case"L":e=J(H.Month,1,1);break;case"MM":case"LL":e=J(H.Month,2,1);break;case"MMM":e=X($.Months,k.Abbreviated);break;case"MMMM":e=X($.Months,k.Wide);break;case"MMMMM":e=X($.Months,k.Narrow);break;case"LLL":e=X($.Months,k.Abbreviated,O.Standalone);break;case"LLLL":e=X($.Months,k.Wide,O.Standalone);break;case"LLLLL":e=X($.Months,k.Narrow,O.Standalone);break;case"w":e=nt(1);break;case"ww":e=nt(2);break;case"W":e=nt(1,!0);break;case"d":e=J(H.Date,1);break;case"dd":e=J(H.Date,2);break;case"c":case"cc":e=J(H.Day,1);break;case"ccc":e=X($.Days,k.Abbreviated,O.Standalone);break;case"cccc":e=X($.Days,k.Wide,O.Standalone);break;case"ccccc":e=X($.Days,k.Narrow,O.Standalone);break;case"cccccc":e=X($.Days,k.Short,O.Standalone);break;case"E":case"EE":case"EEE":e=X($.Days,k.Abbreviated);break;case"EEEE":e=X($.Days,k.Wide);break;case"EEEEE":e=X($.Days,k.Narrow);break;case"EEEEEE":e=X($.Days,k.Short);break;case"a":case"aa":case"aaa":e=X($.DayPeriods,k.Abbreviated);break;case"aaaa":e=X($.DayPeriods,k.Wide);break;case"aaaaa":e=X($.DayPeriods,k.Narrow);break;case"b":case"bb":case"bbb":e=X($.DayPeriods,k.Abbreviated,O.Standalone,!0);break;case"bbbb":e=X($.DayPeriods,k.Wide,O.Standalone,!0);break;case"bbbbb":e=X($.DayPeriods,k.Narrow,O.Standalone,!0);break;case"B":case"BB":case"BBB":e=X($.DayPeriods,k.Abbreviated,O.Format,!0);break;case"BBBB":e=X($.DayPeriods,k.Wide,O.Format,!0);break;case"BBBBB":e=X($.DayPeriods,k.Narrow,O.Format,!0);break;case"h":e=J(H.Hours,1,-12);break;case"hh":e=J(H.Hours,2,-12);break;case"H":e=J(H.Hours,1);break;case"HH":e=J(H.Hours,2);break;case"m":e=J(H.Minutes,1);break;case"mm":e=J(H.Minutes,2);break;case"s":e=J(H.Seconds,1);break;case"ss":e=J(H.Seconds,2);break;case"S":e=J(H.FractionalSeconds,1);break;case"SS":e=J(H.FractionalSeconds,2);break;case"SSS":e=J(H.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=tt(z.Short);break;case"ZZZZZ":e=tt(z.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=tt(z.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=tt(z.Long);break;default:return null}return it[t]=e,e}(t);u+=e?e(i,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Z(t,e,n){const r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function W(t,e){const n=function(t){return(0,r.cg1)(t)[r.wAp.LocaleId]}(t);if(B[n]=B[n]||{},B[n][e])return B[n][e];let i="";switch(e){case"shortDate":i=R(t,D.Short);break;case"mediumDate":i=R(t,D.Medium);break;case"longDate":i=R(t,D.Long);break;case"fullDate":i=R(t,D.Full);break;case"shortTime":i=P(t,D.Short);break;case"mediumTime":i=P(t,D.Medium);break;case"longTime":i=P(t,D.Long);break;case"fullTime":i=P(t,D.Full);break;case"short":const e=W(t,"shortTime"),n=W(t,"shortDate");i=Y(L(t,D.Short),[e,n]);break;case"medium":const r=W(t,"mediumTime"),o=W(t,"mediumDate");i=Y(L(t,D.Medium),[r,o]);break;case"long":const s=W(t,"longTime"),a=W(t,"longDate");i=Y(L(t,D.Long),[s,a]);break;case"full":const u=W(t,"fullTime"),c=W(t,"fullDate");i=Y(L(t,D.Full),[u,c])}return i&&(B[n][e]=i),i}function Y(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function Q(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.substr(s.length-e)),o+s}function J(t,e,n=0,r=!1,i=!1){return function(o,s){let a=function(t,e){switch(t){case H.FullYear:return e.getFullYear();case H.Month:return e.getMonth();case H.Date:return e.getDate();case H.Hours:return e.getHours();case H.Minutes:return e.getMinutes();case H.Seconds:return e.getSeconds();case H.FractionalSeconds:return e.getMilliseconds();case H.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((n>0||a>-n)&&(a+=n),t===H.Hours)0===a&&-12===n&&(a=12);else if(t===H.FractionalSeconds)return u=e,Q(a,3).substr(0,u);var u;const c=M(s,N.MinusSign);return Q(a,e,c,r,i)}}function X(t,e,n=O.Format,i=!1){return function(o,s){return function(t,e,n,i,o,s){switch(n){case $.Months:return function(t,e,n){const i=(0,r.cg1)(t),o=j([i[r.wAp.MonthsFormat],i[r.wAp.MonthsStandalone]],e);return j(o,n)}(e,o,i)[t.getMonth()];case $.Days:return function(t,e,n){const i=(0,r.cg1)(t),o=j([i[r.wAp.DaysFormat],i[r.wAp.DaysStandalone]],e);return j(o,n)}(e,o,i)[t.getDay()];case $.DayPeriods:const a=t.getHours(),u=t.getMinutes();if(s){const t=function(t){const e=(0,r.cg1)(t);return U(e),(e[r.wAp.ExtraData][2]||[]).map(t=>"string"==typeof t?V(t):[V(t[0]),V(t[1])])}(e),n=function(t,e,n){const i=(0,r.cg1)(t);U(i);const o=j([i[r.wAp.ExtraData][0],i[r.wAp.ExtraData][1]],e)||[];return j(o,n)||[]}(e,o,i),s=t.findIndex(t=>{if(Array.isArray(t)){const[e,n]=t,r=a>=e.hours&&u>=e.minutes,i=a<n.hours||a===n.hours&&u<n.minutes;if(e.hours<n.hours){if(r&&i)return!0}else if(r||i)return!0}else if(t.hours===a&&t.minutes===u)return!0;return!1});if(-1!==s)return n[s]}return function(t,e,n){const i=(0,r.cg1)(t),o=j([i[r.wAp.DayPeriodsFormat],i[r.wAp.DayPeriodsStandalone]],e);return j(o,n)}(e,o,i)[a<12?0:1];case $.Eras:return function(t,e){return j((0,r.cg1)(t)[r.wAp.Eras],e)}(e,i)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(o,s,t,e,n,i)}}function tt(t){return function(e,n,r){const i=-1*r,o=M(n,N.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case z.Short:return(i>=0?"+":"")+Q(s,2,o)+Q(Math.abs(i%60),2,o);case z.ShortGMT:return"GMT"+(i>=0?"+":"")+Q(s,1,o);case z.Long:return"GMT"+(i>=0?"+":"")+Q(s,2,o)+":"+Q(Math.abs(i%60),2,o);case z.Extended:return 0===r?"Z":(i>=0?"+":"")+Q(s,2,o)+":"+Q(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}function et(t){return Z(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function nt(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=et(n),e=function(t){const e=Z(t,0,1).getDay();return Z(t,0,1+(e<=4?4:11)-e)}(t.getFullYear()),r=t.getTime()-e.getTime();i=1+Math.round(r/6048e5)}return Q(i,t,M(r,N.MinusSign))}}function rt(t,e=!1){return function(n,r){return Q(et(n).getFullYear(),t,M(r,N.MinusSign),e)}}const it={};function ot(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function st(t){return t instanceof Date&&!isNaN(t.valueOf())}const at=/^(\d+)?\.((\d+)(-(\d+))?)?$/,ut=".",ct="0";function lt(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class ht{}let ft=(()=>{class t extends ht{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(F(e||this.locale)(t)){case A.Zero:return"zero";case A.One:return"one";case A.Two:return"two";case A.Few:return"few";case A.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.soG))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function dt(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class pt{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let gt=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new pt(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new mt(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new mt(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class mt{constructor(t,e){this.record=t,this.view=e}}let vt=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new yt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){bt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){bt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class yt{constructor(){this.$implicit=null,this.ngIf=null}}function bt(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,r.AaK)(e)}'.`)}let wt=(()=>{class t{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[r.TTD]}),t})();function _t(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${(0,r.AaK)(t)}'`)}class St{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class Et{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const Tt=new Et,It=new St;let Ct=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if((0,r.QGY)(e))return Tt;if((0,r.F4k)(e))return It;throw _t(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.sBO,16))},t.\u0275pipe=r.Yjl({name:"async",type:t,pure:!1}),t})(),xt=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",r,i){if(null==e||""===e||e!=e)return null;try{return K(e,n,i||this.locale,r)}catch(o){throw _t(t,o.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.soG,16))},t.\u0275pipe=r.Yjl({name:"date",type:t,pure:!0}),t})(),At=(()=>{class t{constructor(t,e="USD"){this._locale=t,this._defaultCurrencyCode=e}transform(e,n,i="symbol",o,s){if(!function(t){return!(null==t||""===t||t!=t)}(e))return null;s=s||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let a=n||this._defaultCurrencyCode;"code"!==i&&(a="symbol"===i||"symbol-narrow"===i?function(t,e,n="en"){const i=function(t){return(0,r.cg1)(t)[r.wAp.Currencies]}(n)[t]||C[t]||[],o=i[1];return"narrow"===e&&"string"==typeof o?o:i[0]||t}(a,"symbol"===i?"wide":"narrow",s):i);try{return function(t,e,n,i,o){const s=function(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],o=r[1],s=-1!==i.indexOf(ut)?i.split(ut):[i.substring(0,i.lastIndexOf(ct)+1),i.substring(i.lastIndexOf(ct)+1)],a=s[0],u=s[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let l=0;l<u.length;l++){const t=u.charAt(l);t===ct?n.minFrac=n.maxFrac=l+1:"#"===t?n.maxFrac=l+1:n.posSuf+=t}const c=a.split(",");if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){const t=i.length-n.posPre.length-n.posSuf.length,e=o.indexOf("#");n.negPre=o.substr(0,e).replace(/'/g,""),n.negSuf=o.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return(0,r.cg1)(t)[r.wAp.NumberFormats][e]}(e,x.Currency),M(e,N.MinusSign));return s.minFrac=function(t){let e;const n=C[t];return n&&(e=n[2]),"number"==typeof e?e:2}(i),s.maxFrac=s.minFrac,function(t,e,n,r,i,o,s=!1){let a="",u=!1;if(isFinite(t)){let c=function(t){let e,n,r,i,o,s=Math.abs(t)+"",a=0;for((n=s.indexOf(ut))>-1&&(s=s.replace(ut,"")),(r=s.search(/e/i))>0?(n<0&&(n=r),n+=+s.slice(r+1),s=s.substring(0,r)):n<0&&(n=s.length),r=0;s.charAt(r)===ct;r++);if(r===(o=s.length))e=[0],n=1;else{for(o--;s.charAt(o)===ct;)o--;for(n-=r,e=[],i=0;r<=o;r++,i++)e[i]=Number(s.charAt(r))}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);s&&(c=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));let l=e.minInt,h=e.minFrac,f=e.maxFrac;if(o){const t=o.match(at);if(null===t)throw new Error(`${o} is not a valid digit info`);const e=t[1],n=t[3],r=t[5];null!=e&&(l=lt(e)),null!=n&&(h=lt(n)),null!=r?f=lt(r):null!=n&&h>f&&(f=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const o=Math.min(Math.max(e,i),n);let s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let t=s;t<r.length;t++)r[t]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let t=1;t<s;t++)r[t]=0}if(a>=5)if(s-1<0){for(let e=0;e>s;e--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=0!==o;const c=e+t.integerLen,l=r.reduceRight(function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,u&&(0===r[n]&&n>=c?r.pop():u=!1),e>=10?1:0},0);l&&(r.unshift(l),t.integerLen++)}(c,h,f);let d=c.digits,p=c.integerLen;const g=c.exponent;let m=[];for(u=d.every(t=>!t);p<l;p++)d.unshift(0);for(;p<0;p++)d.unshift(0);p>0?m=d.splice(p,d.length):(m=d,d=[0]);const v=[];for(d.length>=e.lgSize&&v.unshift(d.splice(-e.lgSize,d.length).join(""));d.length>e.gSize;)v.unshift(d.splice(-e.gSize,d.length).join(""));d.length&&v.unshift(d.join("")),a=v.join(M(n,r)),m.length&&(a+=M(n,i)+m.join("")),g&&(a+=M(n,N.Exponential)+"+"+g)}else a=M(n,N.Infinity);return a=t<0&&!u?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,s,e,N.CurrencyGroup,N.CurrencyDecimal,o).replace("\xa4",n).replace("\xa4","").trim()}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(e),s,a,n,o)}catch(u){throw _t(t,u.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.soG,16),r.Y36(r.EJc,16))},t.\u0275pipe=r.Yjl({name:"currency",type:t,pure:!0}),t})(),Ot=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[{provide:ht,useClass:ft}]}),t})();const kt="browser";function Dt(t){return t===kt}function Nt(t){return"server"===t}let Rt=(()=>{class t{}return t.\u0275prov=(0,r.Yz7)({token:t,providedIn:"root",factory:()=>new Pt((0,r.LFG)(u),window)}),t})();class Pt{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Lt(this.window.history)||Lt(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Lt(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Mt{}},7368:(t,e,n)=>{"use strict";n.d(e,{deG:()=>An,tb:()=>Od,AFp:()=>Td,ip1:()=>Sd,CZH:()=>Ed,hGG:()=>Sp,z2F:()=>fp,sBO:()=>Ih,Sil:()=>Vd,wA2:()=>gd,_Vd:()=>Wl,EJc:()=>Nd,SBq:()=>Xl,qLn:()=>Ti,vpe:()=>If,gxx:()=>Os,tBr:()=>or,XFs:()=>R,OlP:()=>xn,zs3:()=>zs,IIB:()=>md,ZZ4:()=>yh,aQg:()=>wh,soG:()=>Dd,LVF:()=>wd,YKP:()=>Lh,v3s:()=>pp,h0i:()=>Ph,PXZ:()=>ap,R0b:()=>Gd,FiY:()=>sr,r_U:()=>vd,Lbi:()=>Ad,g9A:()=>xd,Qsj:()=>nh,FYo:()=>eh,JOm:()=>Ni,Tiy:()=>ih,q3G:()=>ci,tp0:()=>ur,EAV:()=>vp,Rgc:()=>kh,dDg:()=>Yd,DyG:()=>kn,q4F:()=>sh,GfV:()=>oh,s_b:()=>Fh,ifc:()=>j,eFA:()=>up,Ez6:()=>T,G48:()=>op,f3M:()=>nr,X6Q:()=>ip,_c5:()=>wp,VLi:()=>Xd,c2e:()=>kd,zSh:()=>Ds,wAp:()=>Nc,vHH:()=>y,EiD:()=>ai,mCW:()=>Gr,qzn:()=>Dr,JVY:()=>Rr,pB0:()=>Fr,eBb:()=>Lr,L6k:()=>Pr,LAX:()=>Mr,cg1:()=>Oc,Tjo:()=>bp,kL8:()=>kc,yhl:()=>Nr,dqk:()=>z,sIi:()=>ia,CqO:()=>$a,QGY:()=>za,F4k:()=>Ha,zlt:()=>Wh,RDi:()=>Rt,AaK:()=>f,z3N:()=>kr,TTD:()=>It,xp6:()=>Oo,uIk:()=>fa,Tol:()=>xu,ekj:()=>Tu,Suo:()=>jf,Xpm:()=>et,lG2:()=>ct,Yz7:()=>E,cJS:()=>I,oAB:()=>st,Yjl:()=>lt,Y36:()=>Ra,_UZ:()=>ja,GkF:()=>Ba,qZA:()=>Ua,TgZ:()=>Fa,EpF:()=>Ga,Ikx:()=>Tc,LFG:()=>tr,$8M:()=>yn,NdJ:()=>Ka,CRH:()=>Vf,oxw:()=>Ja,ALo:()=>mf,lcZ:()=>vf,xi3:()=>yf,Hsn:()=>eu,F$t:()=>tu,Q6J:()=>La,DdM:()=>Xh,iGM:()=>Ff,MAs:()=>Na,CHM:()=>te,oJD:()=>li,uOi:()=>di,LSH:()=>fi,kYT:()=>at,YNc:()=>Da,W1O:()=>zf,_uU:()=>Vu,Oqu:()=>qu});var r=n(5959),i=n(7570),o=n(8318),s=n(1906),a=n(2875),u=n(1564);function c(){return new r.xQ}function l(t){for(let e in t)if(t[e]===l)return e;throw Error("Could not find renamed property on target object.")}function h(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function f(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(f).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function d(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const p=l({__forward_ref__:l});function g(t){return t.__forward_ref__=g,t.toString=function(){return f(this())},t}function m(t){return v(t)?t():t}function v(t){return"function"==typeof t&&t.hasOwnProperty(p)&&t.__forward_ref__===g}class y extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function b(t){return"string"==typeof t?t:null==t?"":String(t)}function w(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():b(t)}function _(t,e){const n=e?` in ${e}`:"";throw new y("201",`No provider for ${w(t)} found${n}`)}function S(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function E(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}const T=E;function I(t){return{providers:t.providers||[],imports:t.imports||[]}}function C(t){return x(t,O)||x(t,D)}function x(t,e){return t.hasOwnProperty(e)?t[e]:null}function A(t){return t&&(t.hasOwnProperty(k)||t.hasOwnProperty(N))?t[k]:null}const O=l({"\u0275prov":l}),k=l({"\u0275inj":l}),D=l({ngInjectableDef:l}),N=l({ngInjectorDef:l});var R=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let P;function L(t){const e=P;return P=t,e}function M(t,e,n){const r=C(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&R.Optional?null:void 0!==e?e:void _(f(t),"Injector")}function F(t){return{toString:t}.toString()}var U=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),j=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const V="undefined"!=typeof globalThis&&globalThis,q="undefined"!=typeof window&&window,B="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,G="undefined"!=typeof global&&global,z=V||G||q||B,H={},$=[],K=l({"\u0275cmp":l}),Z=l({"\u0275dir":l}),W=l({"\u0275pipe":l}),Y=l({"\u0275mod":l}),Q=l({"\u0275loc":l}),J=l({"\u0275fac":l}),X=l({__NG_ELEMENT_ID__:l});let tt=0;function et(t){return F(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===U.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||$,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||j.Emulated,id:"c",styles:t.styles||$,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=tt++,n.inputs=ut(t.inputs,e),n.outputs=ut(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(rt):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(it):null,n})}function nt(t,e,n){const r=t.\u0275cmp;r.directiveDefs=()=>e.map(rt),r.pipeDefs=()=>n.map(it)}function rt(t){return ht(t)||ft(t)}function it(t){return dt(t)}const ot={};function st(t){const e={type:t.type,bootstrap:t.bootstrap||$,declarations:t.declarations||$,imports:t.imports||$,exports:t.exports||$,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&F(()=>{ot[t.id]=t.type}),e}function at(t,e){return F(()=>{const n=pt(t,!0);n.declarations=e.declarations||$,n.imports=e.imports||$,n.exports=e.exports||$})}function ut(t,e){if(null==t)return H;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const ct=et;function lt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ht(t){return t[K]||null}function ft(t){return t[Z]||null}function dt(t){return t[W]||null}function pt(t,e){const n=t[Y]||null;if(!n&&!0===e)throw new Error(`Type ${f(t)} does not have '\u0275mod' property.`);return n}const gt=20,mt=10;function vt(t){return Array.isArray(t)&&"object"==typeof t[1]}function yt(t){return Array.isArray(t)&&!0===t[1]}function bt(t){return 0!=(8&t.flags)}function wt(t){return 2==(2&t.flags)}function _t(t){return 1==(1&t.flags)}function St(t){return null!==t.template}function Et(t,e){return t.hasOwnProperty(J)?t[J]:null}class Tt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function It(){return Ct}function Ct(t){return t.type.prototype.ngOnChanges&&(t.setInput=At),xt}function xt(){const t=Ot(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===H)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function At(t,e,n,r){const i=Ot(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:H,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new Tt(u&&u.currentValue,e,s===H),t[r]=e}function Ot(t){return t.__ngSimpleChanges__||null}It.ngInherit=!0;const kt="http://www.w3.org/2000/svg",Dt="http://www.w3.org/1998/MathML/";let Nt;function Rt(t){Nt=t}function Pt(){return void 0!==Nt?Nt:"undefined"!=typeof document?document:void 0}function Lt(t){return!!t.listen}const Mt={createRenderer:(t,e)=>Pt()};function Ft(t){for(;Array.isArray(t);)t=t[0];return t}function Ut(t,e){return Ft(e[t])}function jt(t,e){return Ft(e[t.index])}function Vt(t,e){return t.data[e]}function qt(t,e){return t[e]}function Bt(t,e){const n=e[t];return vt(n)?n:n[0]}function Gt(t){return 4==(4&t[2])}function zt(t){return 128==(128&t[2])}function Ht(t,e){return null==e?null:t[e]}function $t(t){t[18]=0}function Kt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Zt={lFrame:Te(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Wt(){return Zt.bindingsEnabled}function Yt(){Zt.bindingsEnabled=!0}function Qt(){Zt.bindingsEnabled=!1}function Jt(){return Zt.lFrame.lView}function Xt(){return Zt.lFrame.tView}function te(t){return Zt.lFrame.contextLView=t,t[8]}function ee(){let t=ne();for(;null!==t&&64===t.type;)t=t.parent;return t}function ne(){return Zt.lFrame.currentTNode}function re(){const t=Zt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ie(t,e){const n=Zt.lFrame;n.currentTNode=t,n.isParent=e}function oe(){return Zt.lFrame.isParent}function se(){Zt.lFrame.isParent=!1}function ae(){return Zt.isInCheckNoChangesMode}function ue(t){Zt.isInCheckNoChangesMode=t}function ce(){const t=Zt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function le(){return Zt.lFrame.bindingIndex}function he(t){return Zt.lFrame.bindingIndex=t}function fe(){return Zt.lFrame.bindingIndex++}function de(t){const e=Zt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function pe(t){Zt.lFrame.inI18n=t}function ge(t,e){const n=Zt.lFrame;n.bindingIndex=n.bindingRootIndex=t,me(e)}function me(t){Zt.lFrame.currentDirectiveIndex=t}function ve(t){const e=Zt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function ye(){return Zt.lFrame.currentQueryIndex}function be(t){Zt.lFrame.currentQueryIndex=t}function we(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function _e(t,e,n){if(n&R.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&R.Host||(r=we(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Zt.lFrame=Ee();return r.currentTNode=e,r.lView=t,!0}function Se(t){const e=Ee(),n=t[1];Zt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Ee(){const t=Zt.lFrame,e=null===t?null:t.child;return null===e?Te(t):e}function Te(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Ie(){const t=Zt.lFrame;return Zt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Ce=Ie;function xe(){const t=Ie();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ae(){return Zt.lFrame.selectedIndex}function Oe(t){Zt.lFrame.selectedIndex=t}function ke(){const t=Zt.lFrame;return Vt(t.tView,t.selectedIndex)}function De(){Zt.lFrame.currentNamespace=kt}function Ne(){Zt.lFrame.currentNamespace=Dt}function Re(){Zt.lFrame.currentNamespace=null}function Pe(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Le(t,e,n){Ue(t,e,3,n)}function Me(t,e,n,r){(3&t[2])===n&&Ue(t,e,n,r)}function Fe(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ue(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(je(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function je(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(s)}finally{}}}else try{o.call(s)}finally{}}const Ve=-1;class qe{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Be(t,e,n){const r=Lt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];ze(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Ge(t){return 3===t||4===t||6===t}function ze(t){return 64===t.charCodeAt(0)}function He(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||$e(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function $e(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Ke(t){return t!==Ve}function Ze(t){return 32767&t}function We(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Ye=!0;function Qe(t){const e=Ye;return Ye=t,e}let Je=0;function Xe(t,e){const n=en(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,tn(r.data,t),tn(e,null),tn(r.blueprint,null));const i=nn(t,e),o=t.injectorIndex;if(Ke(i)){const t=Ze(i),n=We(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function tn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function en(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function nn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Ve;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ve}function rn(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(X)&&(r=n[X]),null==r&&(r=n[X]=Je++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function on(t,e,n){if(n&R.Optional)return t;_(e,"NodeInjector")}function sn(t,e,n,r){if(n&R.Optional&&void 0===r&&(r=null),0==(n&(R.Self|R.Host))){const i=t[9],o=L(void 0);try{return i?i.get(e,r,n&R.Optional):M(e,r,n&R.Optional)}finally{L(o)}}return on(r,e,n)}function an(t,e,n,r=R.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(X)?t[X]:void 0;return"number"==typeof e?e>=0?255&e:cn:e}(n);if("function"==typeof o){if(!_e(e,t,r))return r&R.Host?on(i,n,r):sn(e,n,r,i);try{const t=o(r);if(null!=t||r&R.Optional)return t;_(n)}finally{Ce()}}else if("number"==typeof o){let i=null,s=en(t,e),a=Ve,u=r&R.Host?e[16][6]:null;for((-1===s||r&R.SkipSelf)&&(a=-1===s?nn(t,e):e[s+8],a!==Ve&&pn(r,!1)?(i=e[1],s=Ze(a),e=We(a,e)):s=-1);-1!==s;){const t=e[1];if(dn(o,s,t.data)){const t=ln(s,e,n,i,r,u);if(t!==un)return t}a=e[s+8],a!==Ve&&pn(r,e[1].data[s+8]===u)&&dn(o,s,e)?(i=t,s=Ze(a),e=We(a,e)):s=-1}}}return sn(e,n,r,i)}const un={};function cn(){return new gn(ee(),Jt())}function ln(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=hn(a,s,n,null==r?wt(a)&&Ye:r!=s&&0!=(3&a.type),i&R.Host&&o===a);return null!==u?fn(e,s,u,a):un}function hn(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&St(t)&&t.type===n)return u}return null}function fn(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof qe){const s=i;s.resolving&&function(t,e){throw new y("200",`Circular dependency in DI detected for ${t}`)}(w(o[n]));const a=Qe(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?L(s.injectImpl):null;_e(t,r,R.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=Ct(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&L(u),Qe(a),s.resolving=!1,Ce()}}return i}function dn(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function pn(t,e){return!(t&R.Self||t&R.Host&&e)}class gn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return an(this._tNode,this._lView,t,void 0,e)}}function mn(t){return F(()=>{const e=t.prototype.constructor,n=e[J]||vn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[J]||vn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function vn(t){return v(t)?()=>{const e=vn(m(t));return e&&e()}:Et(t)}function yn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ge(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(ee(),t)}const bn="__annotations__",wn="__parameters__",_n="__prop__metadata__";function Sn(t,e,n,r,i){return F(()=>{const o=En(e);function s(...t){if(this instanceof s)return o.call(this,...t),this;const e=new s(...t);return function(n){return i&&i(n,...t),(n.hasOwnProperty(bn)?n[bn]:Object.defineProperty(n,bn,{value:[]})[bn]).push(e),r&&r(n),n}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=t,s.annotationCls=s,s})}function En(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}function Tn(t,e,n){return F(()=>{const r=En(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(wn)?t[wn]:Object.defineProperty(t,wn,{value:[]})[wn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function In(t,e,n,r){return F(()=>{const i=En(e);function o(...t){if(this instanceof o)return i.apply(this,t),this;const e=new o(...t);return function(n,i){const o=n.constructor,s=o.hasOwnProperty(_n)?o[_n]:Object.defineProperty(o,_n,{value:{}})[_n];s[i]=s.hasOwnProperty(i)&&s[i]||[],s[i].unshift(e),r&&r(n,i,...t)}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}const Cn=function(){return Tn("Attribute",t=>({attributeName:t,__NG_ELEMENT_ID__:()=>yn(t)}))}();class xn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=E({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const An=new xn("AnalyzeForEntryComponents");function On(){const t=z.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}const kn=Function;function Dn(t){return"function"==typeof t}function Nn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),Nn(r,e)):e!==t&&e.push(r)}return e}function Rn(t,e){t.forEach(t=>Array.isArray(t)?Rn(t,e):e(t))}function Pn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ln(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Mn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function Fn(t,e,n){let r=jn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Un(t,e){const n=jn(t,e);if(n>=0)return t[1|n]}function jn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const Vn=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\))\)/,qn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Bn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Gn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s*super\(\.\.\.arguments\)/;class zn{constructor(t){this._reflect=t||z.Reflect}isReflectionEnabled(){return!0}factory(t){return(...e)=>new t(...e)}_zipTypesAndAnnotations(t,e){let n;n=Mn(void 0===t?e.length:t.length);for(let r=0;r<n.length;r++)n[r]=void 0===t?[]:t[r]&&t[r]!=Object?[t[r]]:[],e&&null!=e[r]&&(n[r]=n[r].concat(e[r]));return n}_ownParameters(t,e){if(n=t.toString(),Vn.test(n)||Gn.test(n)||qn.test(n)&&!Bn.test(n))return null;var n;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;const r=t.ctorParameters;if(r&&r!==e.ctorParameters){const t="function"==typeof r?r():r,e=t.map(t=>t&&t.type),n=t.map(t=>t&&Hn(t.decorators));return this._zipTypesAndAnnotations(e,n)}const i=t.hasOwnProperty(wn)&&t[wn],o=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return o||i?this._zipTypesAndAnnotations(o,i):Mn(t.length)}parameters(t){if(!Dn(t))return[];const e=$n(t);let n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]}_ownAnnotations(t,e){if(t.annotations&&t.annotations!==e.annotations){let e=t.annotations;return"function"==typeof e&&e.annotations&&(e=e.annotations),e}return t.decorators&&t.decorators!==e.decorators?Hn(t.decorators):t.hasOwnProperty(bn)?t[bn]:null}annotations(t){if(!Dn(t))return[];const e=$n(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)}_ownPropMetadata(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){let e=t.propMetadata;return"function"==typeof e&&e.propMetadata&&(e=e.propMetadata),e}if(t.propDecorators&&t.propDecorators!==e.propDecorators){const e=t.propDecorators,n={};return Object.keys(e).forEach(t=>{n[t]=Hn(e[t])}),n}return t.hasOwnProperty(_n)?t[_n]:null}propMetadata(t){if(!Dn(t))return{};const e=$n(t),n={};if(e!==Object){const t=this.propMetadata(e);Object.keys(t).forEach(e=>{n[e]=t[e]})}const r=this._ownPropMetadata(t,e);return r&&Object.keys(r).forEach(t=>{const e=[];n.hasOwnProperty(t)&&e.push(...n[t]),e.push(...r[t]),n[t]=e}),n}ownPropMetadata(t){return Dn(t)&&this._ownPropMetadata(t,$n(t))||{}}hasLifecycleHook(t,e){return t instanceof kn&&e in t.prototype}guards(t){return{}}getter(t){return new Function("o","return o."+t+";")}setter(t){return new Function("o","v","return o."+t+" = v;")}method(t){return new Function("o","args",`if (!o.${t}) throw new Error('"${t}" is undefined');\n        return o.${t}.apply(o, args);`)}importUri(t){return"object"==typeof t&&t.filePath?t.filePath:`./${f(t)}`}resourceUri(t){return`./${f(t)}`}resolveIdentifier(t,e,n,r){return r}resolveEnum(t,e){return t[e]}}function Hn(t){return t?t.map(t=>new(0,t.type.annotationCls)(...t.args?t.args:[])):[]}function $n(t){const e=t.prototype?Object.getPrototypeOf(t.prototype):null;return(e?e.constructor:null)||Object}const Kn={},Zn=/\n/gm,Wn="__source",Yn=l({provide:String,useValue:l});let Qn;function Jn(t){const e=Qn;return Qn=t,e}function Xn(t,e=R.Default){if(void 0===Qn)throw new Error("inject() must be called from an injection context");return null===Qn?M(t,void 0,e):Qn.get(t,e&R.Optional?null:void 0,e)}function tr(t,e=R.Default){return(P||Xn)(m(t),e)}function er(t){throw new Error("invalid")}const nr=tr;function rr(t){const e=[];for(let n=0;n<t.length;n++){const r=m(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=R.Default;for(let e=0;e<r.length;e++){const i=r[e],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(tr(t,n))}else e.push(tr(r))}return e}function ir(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const or=ir(Tn("Inject",t=>({token:t})),-1),sr=ir(Tn("Optional"),8),ar=ir(Tn("Self"),2),ur=ir(Tn("SkipSelf"),4),cr=ir(Tn("Host"),1);let lr=null;function hr(){return lr=lr||new zn}function fr(t){return hr().parameters(t).map(t=>function(t){const e={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(t)&&t.length>0)for(let n=0;n<t.length;n++){const r=t[n];if(void 0===r)continue;const i=Object.getPrototypeOf(r);if(r instanceof sr||"Optional"===i.ngMetadataName)e.optional=!0;else if(r instanceof ur||"SkipSelf"===i.ngMetadataName)e.skipSelf=!0;else if(r instanceof ar||"Self"===i.ngMetadataName)e.self=!0;else if(r instanceof cr||"Host"===i.ngMetadataName)e.host=!0;else if(r instanceof or)e.token=r.token;else if(r instanceof Cn){if(void 0===r.attributeName)throw new Error("Attribute name must be defined.");e.attribute=r.attributeName}else e.token=r}else e.token=void 0===t||Array.isArray(t)&&0===t.length?null:t;return e}(t))}let dr=new Map;const pr=new Set;function gr(t){return!!(t.templateUrl&&!t.hasOwnProperty("template")||t.styleUrls&&t.styleUrls.length)}let mr,vr;function yr(){if(void 0===mr&&(mr=null,z.trustedTypes))try{mr=z.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return mr}function br(t){var e;return(null===(e=yr())||void 0===e?void 0:e.createHTML(t))||t}function wr(){if(void 0===vr&&(vr=null,z.trustedTypes))try{vr=z.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return vr}function _r(t){var e;return(null===(e=wr())||void 0===e?void 0:e.createHTML(t))||t}function Sr(t){var e;return(null===(e=wr())||void 0===e?void 0:e.createScript(t))||t}function Er(t){var e;return(null===(e=wr())||void 0===e?void 0:e.createScriptURL(t))||t}class Tr{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ir extends Tr{getTypeName(){return"HTML"}}class Cr extends Tr{getTypeName(){return"Style"}}class xr extends Tr{getTypeName(){return"Script"}}class Ar extends Tr{getTypeName(){return"URL"}}class Or extends Tr{getTypeName(){return"ResourceURL"}}function kr(t){return t instanceof Tr?t.changingThisBreaksApplicationSecurity:t}function Dr(t,e){const n=Nr(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Nr(t){return t instanceof Tr&&t.getTypeName()||null}function Rr(t){return new Ir(t)}function Pr(t){return new Cr(t)}function Lr(t){return new xr(t)}function Mr(t){return new Ar(t)}function Fr(t){return new Or(t)}function Ur(t){const e=new Vr(t);return function(){try{return!!(new window.DOMParser).parseFromString(br(""),"text/html")}catch(t){return!1}}()?new jr(e):e}class jr{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(br(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Vr{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=br(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=br(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const qr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Br=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Gr(t){return(t=String(t)).match(qr)||t.match(Br)?t:"unsafe:"+t}function zr(t){return(t=String(t)).split(",").map(t=>Gr(t.trim())).join(", ")}function Hr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function $r(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Kr=Hr("area,br,col,hr,img,wbr"),Zr=Hr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Wr=Hr("rp,rt"),Yr=$r(Wr,Zr),Qr=$r(Kr,$r(Zr,Hr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$r(Wr,Hr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Yr),Jr=Hr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Xr=Hr("srcset"),ti=$r(Jr,Xr,Hr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Hr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ei=Hr("script,style,template");class ni{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Qr.hasOwnProperty(e))return this.sanitizedSomething=!0,!ei.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,i=e.toLowerCase();if(!ti.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let o=t.value;Jr[i]&&(o=Gr(o)),Xr[i]&&(o=zr(o)),this.buf.push(" ",e,'="',oi(o),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Qr.hasOwnProperty(e)&&!Kr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(oi(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const ri=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ii=/([^\#-~ |!])/g;function oi(t){return t.replace(/&/g,"&amp;").replace(ri,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(ii,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let si;function ai(t,e){let n=null;try{si=si||Ur(t);let r=e?String(e):"";n=si.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=si.getInertBodyElement(r)}while(r!==o);return br((new ni).sanitizeChildren(ui(n)||n))}finally{if(n){const t=ui(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function ui(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ci=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function li(t){const e=yi();return e?_r(e.sanitize(ci.HTML,t)||""):Dr(t,"HTML")?_r(kr(t)):ai(Pt(),b(t))}function hi(t){const e=yi();return e?e.sanitize(ci.STYLE,t)||"":Dr(t,"Style")?kr(t):b(t)}function fi(t){const e=yi();return e?e.sanitize(ci.URL,t)||"":Dr(t,"URL")?kr(t):Gr(b(t))}function di(t){const e=yi();if(e)return Er(e.sanitize(ci.RESOURCE_URL,t)||"");if(Dr(t,"ResourceURL"))return Er(kr(t));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function pi(t){const e=yi();if(e)return Sr(e.sanitize(ci.SCRIPT,t)||"");if(Dr(t,"Script"))return Sr(kr(t));throw new Error("unsafe value used in a script context")}function gi(t){return br(t[0])}function mi(t){return function(t){var e;return(null===(e=yr())||void 0===e?void 0:e.createScriptURL(t))||t}(t[0])}function vi(t,e,n){return function(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?di:fi}(e,n)(t)}function yi(){const t=Jt();return t&&t[12]}function bi(t,e){t.__ngContext__=e}function wi(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function _i(t){return t.ngDebugContext}function Si(t){return t.ngOriginalError}function Ei(t,...e){t.error(...e)}class Ti{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Ei}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?_i(t)?_i(t):this._findContext(Si(t)):null}_findOriginalError(t){let e=Si(t);for(;e&&Si(e);)e=Si(e);return e}}const Ii=/^>|^->|<!--|-->|--!>|<!-$/g,Ci=/(<|>)/,xi=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(z))();function Ai(t){return t.ownerDocument.defaultView}function Oi(t){return t.ownerDocument}function ki(t){return t.ownerDocument.body}function Di(t){return t instanceof Function?t():t}var Ni=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let Ri;function Pi(t,e){return Ri(t,e)}function Li(t){const e=t[3];return yt(e)?e[3]:e}function Mi(t){return Ui(t[13])}function Fi(t){return Ui(t[4])}function Ui(t){for(;null!==t&&!yt(t);)t=t[4];return t}function ji(t,e,n,r,i){if(null!=r){let o,s=!1;yt(r)?o=r:vt(r)&&(s=!0,r=r[0]);const a=Ft(r);0===t&&null!==n?null==i?Qi(e,n,a):Yi(e,n,a,i||null,!0):1===t&&null!==n?Yi(e,n,a,i||null,!0):2===t?co(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Ft(n)&&ji(e,t,r,o,i);for(let s=mt;s<n.length;s++){const i=n[s];ho(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Vi(t,e){return Lt(t)?t.createText(e):t.createTextNode(e)}function qi(t,e,n){Lt(t)?t.setValue(e,n):e.textContent=n}function Bi(t,e){return t.createComment(function(t){return t.replace(Ii,t=>t.replace(Ci,"\u200b$1\u200b"))}(e))}function Gi(t,e,n){return Lt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function zi(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Kt(i,-1)),n.splice(r,1)}function Hi(t,e){if(t.length<=mt)return;const n=mt+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&zi(o,r),e>0&&(t[n-1][4]=r[4]);const s=Ln(t,mt+e);ho(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function $i(t,e){if(!(256&e[2])){const n=e[11];Lt(n)&&n.destroyNode&&ho(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Ki(t[1],t);for(;e;){let n=null;if(vt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)vt(e)&&Ki(e[1],e),e=e[3];null===e&&(e=t),vt(e)&&Ki(e[1],e),n=e&&e[4]}e=n}}(e)}}function Ki(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof qe)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const r=t[e[n]],i=e[n+1];try{i.call(r)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):Ft(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&Lt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&yt(e[3])){n!==e[3]&&zi(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Zi(t,e,n){return Wi(t,e.parent,n)}function Wi(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===j.None||e===j.Emulated)return null}return jt(r,n)}function Yi(t,e,n,r,i){Lt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Qi(t,e,n){Lt(t)?t.appendChild(e,n):e.appendChild(n)}function Ji(t,e,n,r,i){null!==r?Yi(t,e,n,r,i):Qi(t,e,n)}function Xi(t,e){return Lt(t)?t.parentNode(e):e.parentNode}function to(t,e,n){return ro(t,e,n)}function eo(t,e,n){return 40&t.type?jt(t,n):null}let no,ro=eo;function io(t,e){ro=t,no=e}function oo(t,e,n,r){const i=Zi(t,r,e),o=e[11],s=to(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Ji(o,i,n[a],s,!1);else Ji(o,i,n,s,!1);void 0!==no&&no(o,r,e,n,i)}function so(t,e){if(null!==e){const n=e.type;if(3&n)return jt(e,t);if(4&n)return uo(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return so(t,n);{const n=t[e.index];return yt(n)?uo(-1,n):Ft(n)}}if(32&n)return Pi(e,t)()||Ft(t[e.index]);{const n=ao(t,e);return null!==n?Array.isArray(n)?n[0]:so(Li(t[16]),n):so(t,e.next)}}return null}function ao(t,e){return null!==e?t[16][6].projection[e.projection]:null}function uo(t,e){const n=mt+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return so(t,r)}return e[7]}function co(t,e,n){const r=Xi(t,e);r&&function(t,e,n,r){Lt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function lo(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&bi(Ft(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)lo(t,e,n.child,r,i,o,!1),ji(e,t,i,a,o);else if(32&u){const s=Pi(n,r);let u;for(;u=s();)ji(e,t,i,u,o);ji(e,t,i,a,o)}else 16&u?fo(t,e,r,n,i,o):ji(e,t,i,a,o);n=s?n.projectionNext:n.next}}function ho(t,e,n,r,i,o){lo(n,r,t.firstChild,e,i,o,!1)}function fo(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)ji(e,t,i,a[u],o);else lo(t,e,a,s[3],i,o,!0)}function po(t,e,n){Lt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function go(t,e,n){Lt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function mo(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const vo="ng-template";function yo(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==mo(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function bo(t){return 4===t.type&&t.value!==vo}function wo(t,e,n){return e===(4!==t.type||n?t.value:vo)}function _o(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Ge(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!wo(t,u,n)||""===u&&1===e.length){if(So(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!yo(t.attrs,c,n)){if(So(r))return!1;s=!0}continue}const l=Eo(8&r?"class":u,i,bo(t),n);if(-1===l){if(So(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==mo(e,c,0)||2&r&&c!==t){if(So(r))return!1;s=!0}}}}else{if(!s&&!So(r)&&!So(u))return!1;if(s&&So(u))continue;s=!1,r=u|1&r}}return So(r)||s}function So(t){return 0==(1&t)}function Eo(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function To(t,e,n=!1){for(let r=0;r<e.length;r++)if(_o(t,e[r],n))return!0;return!1}function Io(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function Co(t,e){return t?":not("+e.trim()+")":e}function xo(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||So(s)||(e+=Co(o,i),i=""),r=s,o=o||!So(r);n++}return""!==i&&(e+=Co(o,i)),e}const Ao={};function Oo(t){ko(Xt(),Jt(),Ae()+t,ae())}function ko(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Le(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Me(e,r,0,n)}Oe(n)}function Do(t,e){return t<<17|e<<2}function No(t){return t>>17&32767}function Ro(t){return 2|t}function Po(t){return(131068&t)>>2}function Lo(t,e){return-131069&t|e<<2}function Mo(t){return 1|t}function Fo(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];be(i),n.contentQueries(2,e[o],o)}}}function Uo(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,$t(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function jo(t,e,n,r,i){let o=t.data[e];if(null===o)o=Vo(t,e,n,r,i),Zt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=re();o.injectorIndex=null===t?-1:t.injectorIndex}return ie(o,!0),o}function Vo(t,e,n,r,i){const o=ne(),s=oe(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}function qo(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Bo(t,e,n){Se(e);try{const r=t.viewQuery;null!==r&&ws(1,r,n);const i=t.template;null!==i&&Ho(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Fo(t,e),t.staticViewQueries&&ws(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)gs(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,xe()}}function Go(t,e,n,r){const i=e[2];if(256==(256&i))return;Se(e);const o=ae();try{$t(e),he(t.bindingStartIndex),null!==n&&Ho(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&Le(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Me(e,n,0,null),Fe(e,0)}if(function(t){for(let e=Mi(t);null!==e;e=Fi(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Kt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Mi(t);null!==e;e=Fi(e))for(let t=mt;t<e.length;t++){const n=e[t],r=n[1];zt(n)&&Go(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Fo(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&Le(e,n)}else{const n=t.contentHooks;null!==n&&Me(e,n,1),Fe(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)Oe(~r);else{const i=r,o=n[++t],s=n[++t];ge(o,i),s(2,e[i])}}}finally{Oe(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)ds(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&ws(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&Le(e,n)}else{const n=t.viewHooks;null!==n&&Me(e,n,2),Fe(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Kt(e[3],-1))}finally{xe()}}function zo(t,e,n,r){const i=e[10],o=!ae(),s=Gt(e);try{o&&!s&&i.begin&&i.begin(),s&&Bo(t,e,r),Go(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Ho(t,e,n,r,i){const o=Ae(),s=2&r;try{Oe(-1),s&&e.length>gt&&ko(t,e,gt,ae()),n(r,i)}finally{Oe(o)}}function $o(t,e,n){if(bt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Ko(t,e,n){Wt()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Xe(n,e),bi(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=St(r);o&&as(e,n,r);const u=fn(e,t,a,n);bi(u,e),null!==s&&ls(0,a-i,u,r,0,s),o&&(Bt(n.index,e)[8]=u)}}(t,e,n,jt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Zt.lFrame.currentDirectiveIndex;try{Oe(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];me(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||ns(r,i)}}finally{Oe(-1),me(s)}}(t,e,n))}function Zo(t,e,n=jt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Wo(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Yo(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Yo(t,e,n,r,i,o,s,a,u,c){const l=gt+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ao);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Qo(t,e,n,r){const i=Ss(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Es(t).push(r,i.length-1))}function Jo(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Xo(t,e,n,r,i,o,s,a){const u=jt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(Cs(t,n,c,r,i),wt(e)&&function(t,e){const n=Bt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,Lt(o)?o.setProperty(u,r,i):ze(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function ts(t,e,n,r){let i=!1;if(Wt()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];To(n,s.selectors,!1)&&(i||(i=[]),rn(Xe(n,e),t,s.type),St(s)?(rs(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,os(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=qo(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=He(n.mergedAttrs,c.hostAttrs),ss(t,n,e,u,c),is(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||bo(e)?null:hs(n,i);o.push(c),s=Jo(n,u,s),a=Jo(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new y("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=He(n.mergedAttrs,n.attrs),i}function es(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function ns(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function rs(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function is(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;St(e)&&(n[""]=t)}}function os(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ss(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=Et(i.type)),s=new qe(o,St(i),null);t.blueprint[r]=s,n[r]=s,es(t,e,0,r,qo(t,n,i.hostVars,Ao),i)}function as(t,e,n){const r=jt(e,t),i=Wo(n),o=t[10],s=ms(t,Uo(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function us(t,e,n,r,i,o){const s=jt(t,e);cs(e[11],s,o,t.value,n,r,i)}function cs(t,e,n,r,i,o,s){if(null==o)Lt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?b(o):s(o,r||"",i);Lt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}function ls(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function hs(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function fs(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function ds(t,e){const n=Bt(e,t);if(zt(n)){const t=n[1];80&n[2]?Go(t,n,t.template,n[8]):n[5]>0&&ps(n)}}function ps(t){for(let n=Mi(t);null!==n;n=Fi(n))for(let t=mt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Go(t,e,t.template,e[8])}else e[5]>0&&ps(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Bt(e[n],t);zt(r)&&r[5]>0&&ps(r)}}function gs(t,e){const n=Bt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Bo(r,n,n[8])}function ms(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function vs(t){for(;t;){t[2]|=64;const e=Li(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function ys(t,e,n){const r=e[10];r.begin&&r.begin();try{Go(t,e,t.template,n)}catch(i){throw Is(e,i),i}finally{r.end&&r.end()}}function bs(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=wi(n),i=r[1];zo(i,r,i.template,n)}}(t[8])}function ws(t,e,n){be(0),e(t,n)}const _s=(()=>Promise.resolve(null))();function Ss(t){return t[7]||(t[7]=[])}function Es(t){return t.cleanup||(t.cleanup=[])}function Ts(t,e,n){return(null===t||St(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function Is(t,e){const n=t[9],r=n?n.get(Ti,null):null;r&&r.handleError(e)}function Cs(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function xs(t,e,n){const r=Ut(e,t);qi(t[11],r,n)}function As(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=d(i,t):2==o&&(r=d(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Os=new xn("INJECTOR",-1);class ks{get(t,e=Kn){if(e===Kn){const e=new Error(`NullInjectorError: No provider for ${f(t)}!`);throw e.name="NullInjectorError",e}return e}}const Ds=new xn("Set Injector scope."),Ns={},Rs={};let Ps;function Ls(){return void 0===Ps&&(Ps=new ks),Ps}function Ms(t,e=null,n=null,r){return new Fs(t,n,e||Ls(),r)}class Fs{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&Rn(e,n=>this.processProvider(n,t,e)),Rn([t],t=>this.processInjectorType(t,[],i)),this.records.set(Os,Vs(void 0,this));const o=this.records.get(Ds);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:f(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Kn,n=R.Default){this.assertNotDestroyed();const r=Jn(this);try{if(!(n&R.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof xn)&&C(t);e=n&&this.injectableDefInScope(n)?Vs(Us(t),Ns):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&R.Self?Ls():this.parent).get(t,e=n&R.Optional&&e===Kn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(f(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[Wn]&&i.unshift(e[Wn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=f(e);if(Array.isArray(e))i=e.map(f).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):f(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Zn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{Jn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(f(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=m(t)))return!1;let r=A(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=A(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{Rn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];Rn(r,t=>this.processProvider(t,n,r||$))}}this.injectorDefTypes.add(o);const a=Et(o)||(()=>new o);this.records.set(o,Vs(a,Ns));const u=r.providers;if(null!=u&&!s){const e=t;Rn(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Bs(t=m(t))?t:m(t&&t.provide);const i=function(t,e,n){return qs(t)?Vs(void 0,t.useValue):Vs(js(t),Ns)}(t);if(Bs(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Vs(void 0,Ns,!0),e.factory=()=>rr(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Ns&&(e.value=Rs,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=m(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function Us(t){const e=C(t),n=null!==e?e.factory:Et(t);if(null!==n)return n;if(t instanceof xn)throw new Error(`Token ${f(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=Mn(e,"?");throw new Error(`Can't resolve all parameters for ${f(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[O]||t[D]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function js(t,e,n){let r;if(Bs(t)){const e=m(t);return Et(e)||Us(e)}if(qs(t))r=()=>m(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...rr(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>tr(m(t.useExisting));else{const e=m(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Et(e)||Us(e);r=()=>new e(...rr(t.deps))}var i;return r}function Vs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function qs(t){return null!==t&&"object"==typeof t&&Yn in t}function Bs(t){return"function"==typeof t}const Gs=function(t,e,n){return function(t,e=null,n=null,r){const i=Ms(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let zs=(()=>{class t{static create(t,e){return Array.isArray(t)?Gs(t,e,""):Gs(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Kn,t.NULL=new ks,t.\u0275prov=E({token:t,providedIn:"any",factory:()=>tr(Os)}),t.__NG_ELEMENT_ID__=-1,t})();function Hs(t,e){Pe(wi(t)[1],ee())}function $s(t){return Object.getPrototypeOf(t.prototype).constructor}function Ks(t){let e=$s(t.type),n=!0;const r=[t];for(;e;){let i;if(St(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Zs(t.inputs),e.declaredInputs=Zs(t.declaredInputs),e.outputs=Zs(t.outputs);const n=i.hostBindings;n&&Qs(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&Ws(t,o),s&&Ys(t,s),h(t.inputs,i.inputs),h(t.declaredInputs,i.declaredInputs),h(t.outputs,i.outputs),St(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Ks&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=He(i.hostAttrs,n=He(n,i.hostAttrs))}}(r)}function Zs(t){return t===H?{}:t===$?[]:t}function Ws(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Ys(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Qs(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}const Js=["providersResolver"],Xs=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function ta(t){let e,n=$s(t.type);e=St(t)?n.\u0275cmp:n.\u0275dir;const r=t;for(const i of Js)r[i]=e[i];if(St(e))for(const i of Xs)r[i]=e[i]}let ea=null;function na(){if(!ea){const t=z.Symbol;if(t&&t.iterator)ea=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(ea=n)}}}return ea}class ra{constructor(t){this.wrapped=t}static wrap(t){return new ra(t)}static unwrap(t){return ra.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof ra}}function ia(t){return!!oa(t)&&(Array.isArray(t)||!(t instanceof Map)&&na()in t)}function oa(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function sa(t,e,n){return t[e]=n}function aa(t,e){return t[e]}function ua(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ca(t,e,n,r){const i=ua(t,e,n);return ua(t,e+1,r)||i}function la(t,e,n,r,i){const o=ca(t,e,n,r);return ua(t,e+2,i)||o}function ha(t,e,n,r,i,o){const s=ca(t,e,n,r);return ca(t,e+2,i,o)||s}function fa(t,e,n,r){const i=Jt();return ua(i,fe(),e)&&(Xt(),us(ke(),i,t,e,n,r)),fa}function da(t,e){let n=!1,r=le();for(let o=1;o<e.length;o+=2)n=ua(t,r++,e[o])||n;if(he(r),!n)return Ao;let i=e[0];for(let o=1;o<e.length;o+=2)i+=b(e[o])+e[o+1];return i}function pa(t,e,n,r){return ua(t,fe(),n)?e+b(n)+r:Ao}function ga(t,e,n,r,i,o){const s=ca(t,le(),n,i);return de(2),s?e+b(n)+r+b(i)+o:Ao}function ma(t,e,n,r,i,o,s,a){const u=la(t,le(),n,i,s);return de(3),u?e+b(n)+r+b(i)+o+b(s)+a:Ao}function va(t,e,n,r,i,o,s,a,u,c){const l=ha(t,le(),n,i,s,u);return de(4),l?e+b(n)+r+b(i)+o+b(s)+a+b(u)+c:Ao}function ya(t,e,n,r,i,o,s,a,u,c,l,h){const f=le();let d=ha(t,f,n,i,s,u);return d=ua(t,f+4,l)||d,de(5),d?e+b(n)+r+b(i)+o+b(s)+a+b(u)+c+b(l)+h:Ao}function ba(t,e,n,r,i,o,s,a,u,c,l,h,f,d){const p=le();let g=ha(t,p,n,i,s,u);return g=ca(t,p+4,l,f)||g,de(6),g?e+b(n)+r+b(i)+o+b(s)+a+b(u)+c+b(l)+h+b(f)+d:Ao}function wa(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g){const m=le();let v=ha(t,m,n,i,s,u);return v=la(t,m+4,l,f,p)||v,de(7),v?e+b(n)+r+b(i)+o+b(s)+a+b(u)+c+b(l)+h+b(f)+d+b(p)+g:Ao}function _a(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,v){const y=le();let w=ha(t,y,n,i,s,u);return w=ha(t,y+4,l,f,p,m)||w,de(8),w?e+b(n)+r+b(i)+o+b(s)+a+b(u)+c+b(l)+h+b(f)+d+b(p)+g+b(m)+v:Ao}function Sa(t,e,n,r,i,o){const s=Jt(),a=pa(s,e,n,r);return a!==Ao&&us(ke(),s,t,a,i,o),Sa}function Ea(t,e,n,r,i,o,s,a){const u=Jt(),c=ga(u,e,n,r,i,o);return c!==Ao&&us(ke(),u,t,c,s,a),Ea}function Ta(t,e,n,r,i,o,s,a,u,c){const l=Jt(),h=ma(l,e,n,r,i,o,s,a);return h!==Ao&&us(ke(),l,t,h,u,c),Ta}function Ia(t,e,n,r,i,o,s,a,u,c,l,h){const f=Jt(),d=va(f,e,n,r,i,o,s,a,u,c);return d!==Ao&&us(ke(),f,t,d,l,h),Ia}function Ca(t,e,n,r,i,o,s,a,u,c,l,h,f,d){const p=Jt(),g=ya(p,e,n,r,i,o,s,a,u,c,l,h);return g!==Ao&&us(ke(),p,t,g,f,d),Ca}function xa(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g){const m=Jt(),v=ba(m,e,n,r,i,o,s,a,u,c,l,h,f,d);return v!==Ao&&us(ke(),m,t,v,p,g),xa}function Aa(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,v){const y=Jt(),b=wa(y,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g);return b!==Ao&&us(ke(),y,t,b,m,v),Aa}function Oa(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,v,y,b){const w=Jt(),_=_a(w,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,v);return _!==Ao&&us(ke(),w,t,_,y,b),Oa}function ka(t,e,n,r){const i=Jt(),o=da(i,e);return o!==Ao&&us(ke(),i,t,o,n,r),ka}function Da(t,e,n,r,i,o,s,a){const u=Jt(),c=Xt(),l=t+gt,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=jo(e,t,4,s||null,Ht(c,a));ts(e,n,l,Ht(c,u)),Pe(e,l);const h=l.tViews=Yo(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];ie(h,!1);const f=u[11].createComment("");oo(c,u,f,h),bi(f,u),ms(u,u[l]=fs(f,u,f,h)),_t(h)&&Ko(c,u,h),null!=s&&Zo(u,h,a)}function Na(t){return qt(Zt.lFrame.contextLView,gt+t)}function Ra(t,e=R.Default){const n=Jt();return null===n?tr(t,e):an(ee(),n,m(t),e)}function Pa(){throw new Error("invalid")}function La(t,e,n){const r=Jt();return ua(r,fe(),e)&&Xo(Xt(),ke(),r,t,e,r[11],n,!1),La}function Ma(t,e,n,r,i){const o=i?"class":"style";Cs(t,n,e.inputs[o],o,r)}function Fa(t,e,n,r){const i=Jt(),o=Xt(),s=gt+t,a=i[11],u=i[s]=Gi(a,e,Zt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=jo(e,t,2,i,Ht(a,o));return ts(e,n,u,Ht(a,s)),null!==u.attrs&&As(u,u.attrs,!1),null!==u.mergedAttrs&&As(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];ie(c,!0);const l=c.mergedAttrs;null!==l&&Be(a,u,l);const h=c.classes;null!==h&&go(a,u,h);const f=c.styles;null!==f&&po(a,u,f),64!=(64&c.flags)&&oo(o,i,u,c),0===Zt.lFrame.elementDepthCount&&bi(u,i),Zt.lFrame.elementDepthCount++,_t(c)&&(Ko(o,i,c),$o(o,c,i)),null!==r&&Zo(i,c)}function Ua(){let t=ee();oe()?se():(t=t.parent,ie(t,!1));const e=t;Zt.lFrame.elementDepthCount--;const n=Xt();n.firstCreatePass&&(Pe(n,t),bt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Ma(n,e,Jt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Ma(n,e,Jt(),e.stylesWithoutHost,!1)}function ja(t,e,n,r){Fa(t,e,n,r),Ua()}function Va(t,e,n){const r=Jt(),i=Xt(),o=t+gt,s=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=Ht(o,r),a=jo(e,t,8,"ng-container",s);return null!==s&&As(a,s,!0),ts(e,n,a,Ht(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];ie(s,!0);const a=r[o]=r[11].createComment("");oo(i,r,a,s),bi(a,r),_t(s)&&(Ko(i,r,s),$o(i,s,r)),null!=n&&Zo(r,s)}function qa(){let t=ee();const e=Xt();oe()?se():(t=t.parent,ie(t,!1)),e.firstCreatePass&&(Pe(e,t),bt(t)&&e.queries.elementEnd(t))}function Ba(t,e,n){Va(t,e,n),qa()}function Ga(){return Jt()}function za(t){return!!t&&"function"==typeof t.then}function Ha(t){return!!t&&"function"==typeof t.subscribe}const $a=Ha;function Ka(t,e,n,r){const i=Jt(),o=Xt(),s=ee();return Wa(o,i,i[11],s,t,e,!!n,r),Ka}function Za(t,e){const n=ee(),r=Jt(),i=Xt();return Wa(i,r,Ts(ve(i.data),n,r),n,t,e,!1),Za}function Wa(t,e,n,r,i,o,s,a){const u=_t(r),c=t.firstCreatePass&&Es(t),l=Ss(e);let h=!0;if(3&r.type||a){const f=jt(r,e),d=a?a(f):f,p=l.length,g=a?t=>a(Ft(t[r.index])):r.index;if(Lt(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Qa(r,e,0,o,!1);const t=n.listen(d,i,o);l.push(o,t),c&&c.push(i,g,p,p+1)}}else o=Qa(r,e,0,o,!0),d.addEventListener(i,o,s),l.push(o),c&&c.push(i,g,p,s)}else o=Qa(r,e,0,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}function Ya(t,e,n,r){try{return!1!==n(r)}catch(i){return Is(t,i),!1}}function Qa(t,e,n,r,i){return function n(o){if(o===Function)return r;const s=2&t.flags?Bt(t.index,e):e;0==(32&e[2])&&vs(s);let a=Ya(e,0,r,o),u=n.__ngNextListenerFn__;for(;u;)a=Ya(e,0,u,o)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Ja(t=1){return function(t){return(Zt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Zt.lFrame.contextLView))[8]}(t)}function Xa(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?To(t,o,!0):Io(r,o))return i}else n=i}return n}function tu(t){const e=Jt()[16][6];if(!e.projection){const n=e.projection=Mn(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?Xa(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function eu(t,e=0,n){const r=Jt(),i=Xt(),o=jo(i,gt+t,16,null,n||null);null===o.projection&&(o.projection=e),se(),64!=(64&o.flags)&&function(t,e,n){fo(e[11],0,e,n,Zi(t,n,e),to(n.parent||e[6],n,e))}(i,r,o)}function nu(t,e,n){return ru(t,"",e,"",n),nu}function ru(t,e,n,r,i){const o=Jt(),s=pa(o,e,n,r);return s!==Ao&&Xo(Xt(),ke(),o,t,s,o[11],i,!1),ru}function iu(t,e,n,r,i,o,s){const a=Jt(),u=ga(a,e,n,r,i,o);return u!==Ao&&Xo(Xt(),ke(),a,t,u,a[11],s,!1),iu}function ou(t,e,n,r,i,o,s,a,u){const c=Jt(),l=ma(c,e,n,r,i,o,s,a);return l!==Ao&&Xo(Xt(),ke(),c,t,l,c[11],u,!1),ou}function su(t,e,n,r,i,o,s,a,u,c,l){const h=Jt(),f=va(h,e,n,r,i,o,s,a,u,c);return f!==Ao&&Xo(Xt(),ke(),h,t,f,h[11],l,!1),su}function au(t,e,n,r,i,o,s,a,u,c,l,h,f){const d=Jt(),p=ya(d,e,n,r,i,o,s,a,u,c,l,h);return p!==Ao&&Xo(Xt(),ke(),d,t,p,d[11],f,!1),au}function uu(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p){const g=Jt(),m=ba(g,e,n,r,i,o,s,a,u,c,l,h,f,d);return m!==Ao&&Xo(Xt(),ke(),g,t,m,g[11],p,!1),uu}function cu(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m){const v=Jt(),y=wa(v,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g);return y!==Ao&&Xo(Xt(),ke(),v,t,y,v[11],m,!1),cu}function lu(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,v,y){const b=Jt(),w=_a(b,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,v);return w!==Ao&&Xo(Xt(),ke(),b,t,w,b[11],y,!1),lu}function hu(t,e,n){const r=Jt(),i=da(r,e);return i!==Ao&&Xo(Xt(),ke(),r,t,i,r[11],n,!1),hu}function fu(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?No(o):Po(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];du(t[a],e)&&(u=!0,t[a+1]=r?Mo(n):Ro(n)),a=r?No(n):Po(n)}u&&(t[n+1]=r?Ro(o):Mo(o))}function du(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&jn(t,e)>=0}const pu={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function gu(t){return t.substring(pu.key,pu.keyEnd)}function mu(t){return t.substring(pu.value,pu.valueEnd)}function vu(t,e){const n=pu.textEnd;return n===e?-1:(e=pu.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,pu.key=e,n),wu(t,e,n))}function yu(t,e){const n=pu.textEnd;let r=pu.key=wu(t,e,n);return n===r?-1:(r=pu.keyEnd=function(t,e,n){let r;for(;e<n&&(45===(r=t.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(t,r,n),r=_u(t,r,n),r=pu.value=wu(t,r,n),r=pu.valueEnd=function(t,e,n){let r=-1,i=-1,o=-1,s=e,a=s;for(;s<n;){const u=t.charCodeAt(s++);if(59===u)return a;34===u||39===u?a=s=Su(t,u,s,n):e===s-4&&85===o&&82===i&&76===r&&40===u?a=s=Su(t,41,s,n):u>32&&(a=s),o=i,i=r,r=-33&u}return a}(t,r,n),_u(t,r,n))}function bu(t){pu.key=0,pu.keyEnd=0,pu.value=0,pu.valueEnd=0,pu.textEnd=t.length}function wu(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function _u(t,e,n,r){return(e=wu(t,e,n))<n&&e++,e}function Su(t,e,n,r){let i=-1,o=n;for(;o<r;){const n=t.charCodeAt(o++);if(n==e&&92!==i)return o;i=92==n&&92===i?0:n}throw new Error}function Eu(t,e,n){return Ou(t,e,n,!1),Eu}function Tu(t,e){return Ou(t,e,null,!0),Tu}function Iu(t){ku(Lu,Cu,t,!1)}function Cu(t,e){for(let n=function(t){return bu(t),yu(t,wu(t,0,pu.textEnd))}(e);n>=0;n=yu(e,n))Lu(t,gu(e),mu(e))}function xu(t){ku(Fn,Au,t,!0)}function Au(t,e){for(let n=function(t){return bu(t),vu(t,wu(t,0,pu.textEnd))}(e);n>=0;n=vu(e,n))Fn(t,gu(e),!0)}function Ou(t,e,n,r){const i=Jt(),o=Xt(),s=de(2);o.firstUpdatePass&&Nu(o,t,s,r),e!==Ao&&ua(i,s,e)&&Mu(o,o.data[Ae()],i,i[11],t,i[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=f(kr(t)))),t}(e,n),r,s)}function ku(t,e,n,r){const i=Xt(),o=de(2);i.firstUpdatePass&&Nu(i,null,o,r);const s=Jt();if(n!==Ao&&ua(s,o,n)){const a=i.data[Ae()];if(ju(a,r)&&!Du(i,o)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=d(t,n||"")),Ma(i,a,s,n,r)}else!function(t,e,n,r,i,o,s,a){i===Ao&&(i=$);let u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const f=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0;let p,g=null;l===h?(u+=2,c+=2,f!==d&&(g=h,p=d)):null===h||null!==l&&l<h?(u+=2,g=l):(c+=2,g=h,p=d),null!==g&&Mu(t,e,n,r,g,p,s,a),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return $;const r=[],i=kr(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}function Du(t,e){return e>=t.expandoStartIndex}function Nu(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[Ae()],s=Du(t,n);ju(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=ve(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Pu(n=Ru(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Ru(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Po(r))return t[No(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Ru(null,t,e,n[1],r),n=Pu(n,e.attrs,r),function(t,e,n,r){t[No(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Pu(r,t[o].hostAttrs,n);return Pu(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=No(s),u=Po(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||jn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=No(t[a+1]);t[r+1]=Do(e,a),0!==e&&(t[e+1]=Lo(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Do(a,0),0!==a&&(t[a+1]=Lo(t[a+1],r)),a=r;else t[r+1]=Do(u,0),0===a?a=r:t[u+1]=Lo(t[u+1],r),u=r;l&&(t[r+1]=Ro(t[r+1])),fu(t,c,r,!0),fu(t,c,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&jn(o,e)>=0&&(n[r+1]=Mo(n[r+1]))}(e,c,t,r,o),s=Do(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function Ru(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Pu(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Pu(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Fn(t,s,!!n||e[++o]))}return void 0===t?null:t}function Lu(t,e,n){Fn(t,e,kr(n))}function Mu(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];Uu(1==(1&c)?Fu(u,e,n,i,Po(c),s):void 0)||(Uu(o)||2==(2&c)&&(o=Fu(u,null,n,i,a,s)),function(t,e,n,r,i){const o=Lt(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Ni.DashCase;if(null==i)o?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),e|=Ni.Important),o?t.setStyle(n,r,i,e):n.style.setProperty(r,i,s?"important":"")}}}(r,s,Ut(Ae(),n),i,o))}function Fu(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===Ao&&(l=c?$:void 0);let h=c?Un(l,r):u===r?l:void 0;if(o&&!Uu(h)&&(h=Un(e,r)),Uu(h)&&(a=h,s))return a;const f=t[i+1];i=s?No(f):Po(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=Un(t,r))}return a}function Uu(t){return void 0!==t}function ju(t,e){return 0!=(t.flags&(e?16:32))}function Vu(t,e=""){const n=Jt(),r=Xt(),i=t+gt,o=r.firstCreatePass?jo(r,i,1,e,null):r.data[i],s=n[i]=Vi(n[11],e);oo(r,n,s,o),ie(o,!1)}function qu(t){return Bu("",t,""),qu}function Bu(t,e,n){const r=Jt(),i=pa(r,t,e,n);return i!==Ao&&xs(r,Ae(),i),Bu}function Gu(t,e,n,r,i){const o=Jt(),s=ga(o,t,e,n,r,i);return s!==Ao&&xs(o,Ae(),s),Gu}function zu(t,e,n,r,i,o,s){const a=Jt(),u=ma(a,t,e,n,r,i,o,s);return u!==Ao&&xs(a,Ae(),u),zu}function Hu(t,e,n,r,i,o,s,a,u){const c=Jt(),l=va(c,t,e,n,r,i,o,s,a,u);return l!==Ao&&xs(c,Ae(),l),Hu}function $u(t,e,n,r,i,o,s,a,u,c,l){const h=Jt(),f=ya(h,t,e,n,r,i,o,s,a,u,c,l);return f!==Ao&&xs(h,Ae(),f),$u}function Ku(t,e,n,r,i,o,s,a,u,c,l,h,f){const d=Jt(),p=ba(d,t,e,n,r,i,o,s,a,u,c,l,h,f);return p!==Ao&&xs(d,Ae(),p),Ku}function Zu(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p){const g=Jt(),m=wa(g,t,e,n,r,i,o,s,a,u,c,l,h,f,d,p);return m!==Ao&&xs(g,Ae(),m),Zu}function Wu(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m){const v=Jt(),y=_a(v,t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m);return y!==Ao&&xs(v,Ae(),y),Wu}function Yu(t){const e=Jt(),n=da(e,t);return n!==Ao&&xs(e,Ae(),n),Yu}function Qu(t,e,n){ku(Fn,Au,pa(Jt(),t,e,n),!0)}function Ju(t,e,n,r,i){ku(Fn,Au,ga(Jt(),t,e,n,r,i),!0)}function Xu(t,e,n,r,i,o,s){ku(Fn,Au,ma(Jt(),t,e,n,r,i,o,s),!0)}function tc(t,e,n,r,i,o,s,a,u){ku(Fn,Au,va(Jt(),t,e,n,r,i,o,s,a,u),!0)}function ec(t,e,n,r,i,o,s,a,u,c,l){ku(Fn,Au,ya(Jt(),t,e,n,r,i,o,s,a,u,c,l),!0)}function nc(t,e,n,r,i,o,s,a,u,c,l,h,f){ku(Fn,Au,ba(Jt(),t,e,n,r,i,o,s,a,u,c,l,h,f),!0)}function rc(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p){ku(Fn,Au,wa(Jt(),t,e,n,r,i,o,s,a,u,c,l,h,f,d,p),!0)}function ic(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m){ku(Fn,Au,_a(Jt(),t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m),!0)}function oc(t){ku(Fn,Au,da(Jt(),t),!0)}function sc(t,e,n){Iu(pa(Jt(),t,e,n))}function ac(t,e,n,r,i){Iu(ga(Jt(),t,e,n,r,i))}function uc(t,e,n,r,i,o,s){Iu(ma(Jt(),t,e,n,r,i,o,s))}function cc(t,e,n,r,i,o,s,a,u){Iu(va(Jt(),t,e,n,r,i,o,s,a,u))}function lc(t,e,n,r,i,o,s,a,u,c,l){Iu(ya(Jt(),t,e,n,r,i,o,s,a,u,c,l))}function hc(t,e,n,r,i,o,s,a,u,c,l,h,f){Iu(ba(Jt(),t,e,n,r,i,o,s,a,u,c,l,h,f))}function fc(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p){Iu(wa(Jt(),t,e,n,r,i,o,s,a,u,c,l,h,f,d,p))}function dc(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m){Iu(_a(Jt(),t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m))}function pc(t){Iu(da(Jt(),t))}function gc(t,e,n,r,i){return Ou(t,pa(Jt(),e,n,r),i,!1),gc}function mc(t,e,n,r,i,o,s){return Ou(t,ga(Jt(),e,n,r,i,o),s,!1),mc}function vc(t,e,n,r,i,o,s,a,u){return Ou(t,ma(Jt(),e,n,r,i,o,s,a),u,!1),vc}function yc(t,e,n,r,i,o,s,a,u,c,l){return Ou(t,va(Jt(),e,n,r,i,o,s,a,u,c),l,!1),yc}function bc(t,e,n,r,i,o,s,a,u,c,l,h,f){return Ou(t,ya(Jt(),e,n,r,i,o,s,a,u,c,l,h),f,!1),bc}function wc(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p){return Ou(t,ba(Jt(),e,n,r,i,o,s,a,u,c,l,h,f,d),p,!1),wc}function _c(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m){return Ou(t,wa(Jt(),e,n,r,i,o,s,a,u,c,l,h,f,d,p,g),m,!1),_c}function Sc(t,e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,v,y){return Ou(t,_a(Jt(),e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,v),y,!1),Sc}function Ec(t,e,n){return Ou(t,da(Jt(),e),n,!1),Ec}function Tc(t,e,n){const r=Jt();return ua(r,fe(),e)&&Xo(Xt(),ke(),r,t,e,r[11],n,!0),Tc}function Ic(t,e,n){const r=Jt();if(ua(r,fe(),e)){const i=Xt(),o=ke();Xo(i,o,r,t,e,Ts(ve(i.data),o,r),n,!0)}return Ic}const Cc=void 0;var xc=["en",[["a","p"],["AM","PM"],Cc],[["AM","PM"],Cc,Cc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Cc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Cc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Cc,"{1} 'at' {0}",Cc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Ac={};function Oc(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Dc(e);if(n)return n;const r=e.split("-")[0];if(n=Dc(r),n)return n;if("en"===r)return xc;throw new Error(`Missing locale data for the locale "${t}".`)}function kc(t){return Oc(t)[Nc.PluralCase]}function Dc(t){return t in Ac||(Ac[t]=z.ng&&z.ng.common&&z.ng.common.locales&&z.ng.common.locales[t]),Ac[t]}var Nc=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Rc=["zero","one","two","few","many"],Pc="en-US",Lc={marker:"element"},Mc={marker:"ICU"};var Fc=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}({});let Uc=Pc;function jc(t){var e;null==(e=t)&&S("Expected localeId to be defined",e,null,"!="),"string"==typeof t&&(Uc=t.toLowerCase().replace(/_/g,"-"))}function Vc(t,e,n){const r=e.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?eo(t,0,n):Ft(n[i])}function qc(t,e,n,r,i){const o=e.insertBeforeIndex;if(Array.isArray(o)){let s=r,a=null;if(3&e.type||(a=s,s=i),null!==s&&0==(2&e.flags))for(let e=1;e<o.length;e++)Yi(t,s,n[o[e]],a,!1)}}function Bc(t,e){if(t.push(e),t.length>1)for(let n=t.length-2;n>=0;n--){const r=t[n];Gc(r)||zc(r,e)&&null===Hc(r)&&$c(r,e.index)}}function Gc(t){return!(64&t.type)}function zc(t,e){return Gc(e)||t.index>e.index}function Hc(t){const e=t.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function $c(t,e){const n=t.insertBeforeIndex;Array.isArray(n)?n[0]=e:(io(Vc,qc),t.insertBeforeIndex=e)}function Kc(t,e){const n=t.data[e];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function Zc(t,e,n){const r=Vo(t,n,64,null,null);return Bc(e,r),r}function Wc(t,e){const n=e[t.currentCaseLViewIndex];return null===n?n:n<0?~n:n}let Yc=0,Qc=0;function Jc(t,e,n,r){const i=n[11];let o,s=null;for(let a=0;a<e.length;a++){const u=e[a];if("string"==typeof u){const t=e[++a];null===n[t]&&(n[t]=Vi(i,u))}else if("number"==typeof u)switch(1&u){case 0:const c=u>>>17;let l,h;if(null===s&&(s=c,o=Xi(i,r)),c===s?(l=r,h=o):(l=null,h=Ft(n[c])),null!==h){const e=(131070&u)>>>1;Yi(i,h,n[e],l,!1);const r=Kc(t,e);if(null!==r&&"object"==typeof r){const e=Wc(r,n);null!==e&&Jc(t,r.create[e],n,n[r.anchorIdx])}}break;case 1:const f=e[++a],d=e[++a];cs(i,Ut(u>>>1,n),null,null,f,d,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${u}"`)}else switch(u){case Mc:const t=e[++a],r=e[++a];null===n[r]&&bi(n[r]=Bi(i,t),n);break;case Lc:const o=e[++a],s=e[++a];null===n[s]&&bi(n[s]=Gi(i,o,null),n)}}}function Xc(t,e,n,r,i){for(let o=0;o<n.length;o++){const s=n[o],a=n[++o];if(s&i){let i="";for(let s=o+1;s<=o+a;s++){const o=n[s];if("string"==typeof o)i+=o;else if("number"==typeof o)if(o<0)i+=b(e[r-o]);else{const a=o>>>2;switch(3&o){case 1:const o=n[++s],u=n[++s],c=t.data[a];"string"==typeof c?cs(e[11],e[a],null,c,o,i,u):Xo(t,c,e,o,i,e[11],u,!1);break;case 0:const l=e[a];null!==l&&qi(e[11],l,i);break;case 2:el(t,Kc(t,a),e,i);break;case 3:tl(t,Kc(t,a),r,e)}}}}else{const i=n[o+1];if(i>0&&3==(3&i)){const n=Kc(t,i>>>2);e[n.currentCaseLViewIndex]<0&&tl(t,n,r,e)}}o+=a}}function tl(t,e,n,r){let i=r[e.currentCaseLViewIndex];if(null!==i){let o=Yc;i<0&&(i=r[e.currentCaseLViewIndex]=~i,o=-1),Xc(t,r,e.update[i],n,o)}}function el(t,e,n,r){const i=function(t,e){let n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:{const r=function(t,e){const n=kc(e)(parseInt(t,10)),r=Rc[n];return void 0!==r?r:"other"}(e,Uc);n=t.cases.indexOf(r),-1===n&&"other"!==r&&(n=t.cases.indexOf("other"));break}case 0:n=t.cases.indexOf("other")}return-1===n?null:n}(e,r);if(Wc(e,n)!==i&&(nl(t,e,n),n[e.currentCaseLViewIndex]=null===i?null:~i,null!==i)){const r=n[e.anchorIdx];r&&Jc(t,e.create[i],n,r)}}function nl(t,e,n){let r=Wc(e,n);if(null!==r){const i=e.remove[r];for(let e=0;e<i.length;e++){const r=i[e];if(r>0){const t=Ut(r,n);null!==t&&co(n[11],t)}else nl(t,Kc(t,~r),n)}}}const rl=/\ufffd(\d+):?\d*\ufffd/gi,il=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,ol=/\ufffd(\d+)\ufffd/,sl=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,al=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,ul=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,cl=/\uE500/g;function ll(t,e,n,r,i,o,s){const a=qo(t,r,1,null);let u=a<<Fc.SHIFT,c=re();e===c&&(c=null),null===c&&(u|=Fc.APPEND_EAGERLY),s&&(u|=Fc.COMMENT,void 0===Ri&&(Ri=function(){const t=[];let e,n,r=-1;function i(t,e){r=0;const i=Wc(t,e);n=null!==i?t.remove[i]:$}function o(){if(r<n.length){const s=n[r++];return s>0?e[s]:(t.push(r,n),i(e[1].data[~s],e),o())}return 0===t.length?null:(n=t.pop(),r=t.pop(),o())}return function(n,r){for(e=r;t.length;)t.pop();return i(n.value,r),o}}())),i.push(u,null===o?"":o);const l=Vo(t,a,s?32:1,null===o?"":o,null);Bc(n,l);const h=l.index;return ie(l,!1),null!==c&&e!==c&&function(t,e){let n=t.insertBeforeIndex;var r;null===n?(io(Vc,qc),n=t.insertBeforeIndex=[null,e]):("Expecting array here",(r=Array.isArray(n))!=!0&&S("Expecting array here",r,true,"=="),n.push(e))}(c,h),l}function hl(t,e,n,r,i,o,s){const a=s.match(rl),u=ll(t,e,n,o,r,a?null:s,!1);a&&fl(i,s,u.index,null,0,null)}function fl(t,e,n,r,i,o){const s=t.length,a=s+1;t.push(null,null);const u=s+2,c=e.split(rl);let l=0;for(let h=0;h<c.length;h++){const e=c[h];if(1&h){const n=i+parseInt(e,10);t.push(-1-n),l|=pl(n)}else""!==e&&t.push(e)}return t.push(n<<2|(r?1:0)),r&&t.push(r,o),t[s]=l,t[a]=t.length-u,l}function dl(t){let e=0;for(let n=0;n<t.length;n++){const r=t[n];"number"==typeof r&&r<0&&e++}return e}function pl(t){return 1<<Math.min(t,31)}function gl(t){let e,n,r="",i=0,o=!1;for(;null!==(e=al.exec(t));)o?e[0]===`\ufffd/*${n}\ufffd`&&(i=e.index,o=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],o=!0);return r+=t.substr(i),r}function ml(t,e,n,r,i,o){let s=0;const a={type:i.type,currentCaseLViewIndex:qo(t,e,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};!function(t,e,n){t.push(pl(e.mainBinding),2,-1-e.mainBinding,n<<2|2)}(n,i,o),function(t,e,n){const r=t.data[e];null===r?t.data[e]=n:r.value=n}(t,o,a);const u=i.values;for(let c=0;c<u.length;c++){const o=u[c],l=[];for(let t=0;t<o.length;t++){const e=o[t];if("string"!=typeof e){const n=l.push(e)-1;o[t]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}s=bl(t,a,e,n,r,i.cases[c],o.join(""),l)|s}s&&function(t,e,n){t.push(e,1,n<<2|3)}(n,s,o)}function vl(t){const e=[],n=[];let r=1,i=0;const o=yl(t=t.replace(sl,function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""}));for(let s=0;s<o.length;){let t=o[s++].trim();1===r&&(t=t.replace(/\s*(?:=)?(\w+)\s*/,"$1")),t.length&&e.push(t);const i=yl(o[s++]);e.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:e,values:n}}function yl(t){if(!t)return[];let e=0;const n=[],r=[],i=/[{}]/g;let o;for(i.lastIndex=0;o=i.exec(t);){const i=o.index;if("}"==o[0]){if(n.pop(),0==n.length){const n=t.substring(e,i);sl.test(n)?r.push(vl(n)):r.push(n),e=i+1}}else{if(0==n.length){const n=t.substring(e,i);r.push(n),e=i+1}n.push("{")}}const s=t.substring(e);return r.push(s),r}function bl(t,e,n,r,i,o,s,a){const u=[],c=[],l=[];e.cases.push(o),e.create.push(u),e.remove.push(c),e.update.push(l);const h=Ur(Pt()).getInertBodyElement(s),f=ui(h)||h;return f?wl(t,e,n,r,u,c,l,f,i,a,0):0}function wl(t,e,n,r,i,o,s,a,u,c,l){let h=0,f=a.firstChild;for(;f;){const a=qo(t,n,1,null);switch(f.nodeType){case Node.ELEMENT_NODE:const d=f,p=d.tagName.toLowerCase();if(Qr.hasOwnProperty(p)){El(i,Lc,p,u,a),t.data[a]=p;const g=d.attributes;for(let t=0;t<g.length;t++){const e=g.item(t),n=e.name.toLowerCase();e.value.match(rl)?ti.hasOwnProperty(n)&&fl(s,e.value,a,e.name,0,Jr[n]?Gr:Xr[n]?zr:null):Tl(i,a,e)}h=wl(t,e,n,r,i,o,s,f,a,c,l+1)|h,_l(o,a,l)}break;case Node.TEXT_NODE:const g=f.textContent||"",m=g.match(rl);El(i,null,m?"":g,u,a),_l(o,a,l),m&&(h=fl(s,g,a,null,0,null)|h);break;case Node.COMMENT_NODE:const v=ol.exec(f.textContent||"");if(v){const e=c[parseInt(v[1],10)];El(i,Mc,"",u,a),ml(t,n,r,u,e,a),Sl(o,a,l)}}f=f.nextSibling}return h}function _l(t,e,n){0===n&&t.push(e)}function Sl(t,e,n){0===n&&(t.push(~e),t.push(e))}function El(t,e,n,r,i){null!==e&&t.push(e),t.push(n,i,0|r<<17|i<<1)}function Tl(t,e,n){t.push(e<<1|1,n.name,n.value)}const Il=/\[(\ufffd.+?\ufffd?)\]/,Cl=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,xl=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,Al=/{([A-Z0-9_]+)}/g,Ol=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,kl=/\/\*/,Dl=/\d+\:(\d+)/;function Nl(t,e,n=-1){const r=Xt(),i=Jt(),o=gt+t,s=Ht(r.consts,e),a=re();r.firstCreatePass&&function(t,e,n,r,i,o){const s=re(),a=[],u=[],c=[[]],l=(h=i=function(t,e){if(function(t){return-1===t}(e))return gl(t);{const n=t.indexOf(`:${e}\ufffd`)+2+e.toString().length,r=t.search(new RegExp(`\ufffd\\/\\*\\d+:${e}\ufffd`));return gl(t.substring(n,r))}}(i,o),h.replace(cl," ")).split(ul);var h;for(let f=0;f<l.length;f++){let r=l[f];if(0==(1&f)){const o=yl(r);for(let r=0;r<o.length;r++){let l=o[r];if(0==(1&r)){const e=l;""!==e&&hl(t,s,c[0],a,u,n,e)}else{const r=l;if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${i}" message.`);ml(t,n,u,e,r,ll(t,s,c[0],n,a,"",!0).index)}}}else{const e=47===r.charCodeAt(0),n=(r.charCodeAt(e?1:0),gt+Number.parseInt(r.substring(e?2:1)));if(e)c.shift(),ie(re(),!1);else{const e=Zc(t,c[0],n);c.unshift([]),ie(e,!0)}}}t.data[r]={create:a,update:u}}(r,null===a?0:a.index,i,o,s,n);const u=r.data[o],c=Wi(r,a===i[6]?null:a,i);!function(t,e,n,r){const i=t[11];for(let o=0;o<e.length;o++){const s=e[o++],a=e[o],u=(s&Fc.COMMENT)===Fc.COMMENT,c=(s&Fc.APPEND_EAGERLY)===Fc.APPEND_EAGERLY,l=s>>>Fc.SHIFT;let h=t[l];null===h&&(h=t[l]=u?i.createComment(a):Vi(i,a)),c&&null!==n&&Yi(i,n,h,r,!1)}}(i,u.create,c,a&&8&a.type?i[a.index]:null),pe(!0)}function Rl(){pe(!1)}function Pl(t,e,n){Nl(t,e,n),Rl()}function Ll(t,e){const n=Xt(),r=Ht(n.consts,e);!function(t,e,n){const r=ee().index,i=[];if(t.firstCreatePass&&null===t.data[e]){for(let t=0;t<n.length;t+=2){const e=n[t],o=n[t+1];if(""!==o){if(il.test(o))throw new Error(`ICU expressions are not supported in attributes. Message: "${o}".`);fl(i,o,r,e,dl(i),null)}}t.data[e]=i}}(n,t+gt,r)}function Ml(t){return ua(Jt(),fe(),t)&&(Yc|=1<<Math.min(Qc,31)),Qc++,Ml}function Fl(t){!function(t,e,n){if(Qc>0){const r=t.data[n];Xc(t,e,Array.isArray(r)?r:r.update,le()-Qc-1,Yc)}Yc=0,Qc=0}(Xt(),Jt(),t+gt)}function Ul(t,e={}){return function(t,e={}){let n=t;if(Il.test(t)){const t={},e=[0];n=n.replace(Cl,(n,r,i)=>{const o=r||i,s=t[o]||[];if(s.length||(o.split("|").forEach(t=>{const e=t.match(Dl),n=e?parseInt(e[1],10):0,r=kl.test(t);s.push([n,r,t])}),t[o]=s),!s.length)throw new Error(`i18n postprocess: unmatched placeholder - ${o}`);const a=e[e.length-1];let u=0;for(let t=0;t<s.length;t++)if(s[t][0]===a){u=t;break}const[c,l,h]=s[u];return l?e.pop():a!==c&&e.push(c),s.splice(u,1),h})}return Object.keys(e).length?(n=n.replace(xl,(t,n,r,i,o,s)=>e.hasOwnProperty(r)?`${n}${e[r]}${s}`:t),n=n.replace(Al,(t,n)=>e.hasOwnProperty(n)?e[n]:t),n=n.replace(Ol,(t,n)=>{if(e.hasOwnProperty(n)){const r=e[n];if(!r.length)throw new Error(`i18n postprocess: unmatched ICU - ${t} with key: ${n}`);return r.shift()}return t}),n):n}(t,e)}function jl(t,e,n,r,i){if(t=m(t),Array.isArray(t))for(let o=0;o<t.length;o++)jl(t[o],e,n,r,i);else{const o=Xt(),s=Jt();let a=Bs(t)?t:m(t.provide),u=js(t);const c=ee(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(Bs(t)||!t.multi){const r=new qe(u,i,Ra),d=Bl(a,e,i?l:l+f,h);-1===d?(rn(Xe(c,s),o,a),Vl(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=Bl(a,e,l+f,h),p=Bl(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){rn(Xe(c,s),o,a);const l=function(t,e,n,r,i){const o=new qe(t,n,Ra);return o.multi=[],o.index=e,o.componentProviders=0,ql(o,i,r&&!n),o}(i?zl:Gl,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),Vl(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else Vl(o,t,d>-1?d:p,ql(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Vl(t,e,n,r){const i=Bs(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function ql(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Bl(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Gl(t,e,n,r){return Hl(this.multi,[])}function zl(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=fn(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),Hl(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],Hl(i,o);return o}function Hl(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function $l(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Xt();if(r.firstCreatePass){const i=St(t);jl(n,r.data,r.blueprint,i,!0),jl(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Kl{}class Zl{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${f(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Wl=(()=>{class t{}return t.NULL=new Zl,t})();function Yl(...t){}function Ql(t,e){return new Xl(jt(t,e))}const Jl=function(){return Ql(ee(),Jt())};let Xl=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Jl,t})();function th(t){return t instanceof Xl?t.nativeElement:t}class eh{}let nh=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>rh(),t})();const rh=function(){const t=Jt(),e=Bt(ee().index,t);return function(t){return t[11]}(vt(e)?e:t)};let ih=(()=>{class t{}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>null}),t})();class oh{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const sh=new oh("12.0.1");class ah{constructor(){}supports(t){return ia(t)}create(t){return new ch(t)}}const uh=(t,e)=>e;class ch{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||uh}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<dh(n,r,i)?e:n,s=dh(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!ia(t))throw new Error(`Error trying to diff '${f(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[na()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new lh(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new fh),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new fh),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class lh{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class hh{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class fh{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new hh,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function dh(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class ph{constructor(){}supports(t){return t instanceof Map||oa(t)}create(){return new gh}}class gh{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||oa(t)))throw new Error(`Error trying to diff '${f(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new mh(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class mh{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function vh(){return new yh([new ah])}let yh=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||vh()),deps:[[t,new ur,new sr]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=E({token:t,providedIn:"root",factory:vh}),t})();function bh(){return new wh([new ph])}let wh=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||bh()),deps:[[t,new ur,new sr]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=E({token:t,providedIn:"root",factory:bh}),t})();function _h(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(Ft(o)),yt(o))for(let t=mt;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&_h(e[1],e,n,r)}const s=n.type;if(8&s)_h(t,e,n.child,r);else if(32&s){const t=Pi(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=ao(e,n);if(Array.isArray(t))r.push(...t);else{const n=Li(e[16]);_h(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class Sh{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return _h(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(yt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Hi(t,n),Ln(e,n))}this._attachedToViewContainer=!1}$i(this._lView[1],this._lView)}onDestroy(t){Qo(this._lView[1],this._lView,null,t)}markForCheck(){vs(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ys(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){ue(!0);try{ys(t,e,n)}finally{ue(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,ho(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Eh extends Sh{constructor(t){super(t),this._view=t}detectChanges(){bs(this._view)}checkNoChanges(){!function(t){ue(!0);try{bs(t)}finally{ue(!1)}}(this._view)}get context(){return null}}const Th=function(t){return function(t,e,n){if(wt(t)&&!n){const n=Bt(t.index,e);return new Sh(n,n)}return 47&t.type?new Sh(e[16],e):null}(ee(),Jt(),16==(16&t))};let Ih=(()=>{class t{}return t.__NG_ELEMENT_ID__=Th,t})();const Ch=[new ph],xh=new yh([new ah]),Ah=new wh(Ch),Oh=function(){return Rh(ee(),Jt())};let kh=(()=>{class t{}return t.__NG_ELEMENT_ID__=Oh,t})();const Dh=kh,Nh=class extends Dh{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Uo(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Bo(e,n,t),new Sh(n)}};function Rh(t,e){return 4&t.type?new Nh(e,t,Ql(t,e)):null}class Ph{}class Lh{}const Mh=function(){return Bh(ee(),Jt())};let Fh=(()=>{class t{}return t.__NG_ELEMENT_ID__=Mh,t})();const Uh=Fh,jh=class extends Uh{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Ql(this._hostTNode,this._hostLView)}get injector(){return new gn(this._hostTNode,this._hostLView)}get parentInjector(){const t=nn(this._hostTNode,this._hostLView);if(Ke(t)){const e=We(t,this._hostLView),n=Ze(t);return new gn(e[1].data[n+8],e)}return new gn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Vh(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-mt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(Ph,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(yt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new jh(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=mt+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-mt?(e[4]=n[i],Pn(n,mt+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=uo(i,o),a=n[11],u=Xi(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,ho(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(),Pn(qh(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Vh(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Hi(this._lContainer,e);n&&(Ln(qh(this._lContainer),e),$i(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Hi(this._lContainer,e);return n&&null!=Ln(qh(this._lContainer),e)?new Sh(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Vh(t){return t[8]}function qh(t){return t[8]||(t[8]=[])}function Bh(t,e){let n;const r=e[t.index];if(yt(r))n=r;else{let i;if(8&t.type)i=Ft(r);else{const n=e[11];i=n.createComment("");const r=jt(t,e);Yi(n,Xi(n,r),i,function(t,e){return Lt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=fs(r,e,i,t),ms(e,n)}return new jh(n,t,e)}const Gh={};class zh extends Wl{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ht(t);return new Kh(e,this.ngModule)}}function Hh(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const $h=new xn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>xi});class Kh extends Kl{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(xo).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Hh(this.componentDef.inputs)}get outputs(){return Hh(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Gh,i);return o!==Gh||r===Gh?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(eh,Mt),s=i.get(ih,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Lt(t))return t.selectRootElement(e,n===j.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Gi(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?kt:"math"===e?Dt:null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:xi,clean:_s,playerHandler:null,flags:0},f=Yo(0,null,null,1,0,null,null,null,null,null),d=Uo(null,f,h,l,null,null,o,a,s,i);let p,g;Se(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=jo(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(As(a,u,!0),null!==t&&(Be(i,t,u),null!==a.classes&&go(i,t,a.classes),null!==a.styles&&po(i,t,a.styles)));const c=r.createRenderer(t,e),l=Uo(n,Wo(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(rn(Xe(a,n),s,e.type),rs(s,a),os(a,n.length,1)),ms(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)Be(a,c,["ng-version",sh.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!So(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Be(a,c,t),e&&e.length>0&&go(a,c,e.join(" "))}if(g=Vt(f,gt),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=ee();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ss(t,r,e,qo(t,e,1,null),n));const i=fn(e,t,r.directiveStart,r);bi(i,e);const o=jt(r,e);return o&&bi(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=ee();e.contentQueries(1,s,t.directiveStart)}const a=ee();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Oe(a.index),es(n[1],a,0,a.directiveStart,a.directiveEnd,e),ns(e,s)),s}(t,this.componentDef,d,h,[Hs]),Bo(f,d,null)}finally{xe()}return new Zh(this.componentType,p,Ql(g,d),d,g)}}class Zh extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Eh(r),this.componentType=t}get injector(){return new gn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function Wh(t,e,n,r){return F(()=>{const i=t;null!==e&&(i.hasOwnProperty("decorators")&&void 0!==i.decorators?i.decorators.push(...e):i.decorators=e),null!==n&&(i.ctorParameters=n),null!==r&&(i.propDecorators=i.hasOwnProperty("propDecorators")&&void 0!==i.propDecorators?Object.assign(Object.assign({},i.propDecorators),r):r)})}const Yh=new Map;class Qh extends Ph{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new zh(this);const n=pt(t),r=t[Q]||null;r&&jc(r),this._bootstrapComponents=Di(n.bootstrap),this._r3Injector=Ms(t,e,[{provide:Ph,useValue:this},{provide:Wl,useValue:this.componentFactoryResolver}],f(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=zs.THROW_IF_NOT_FOUND,n=R.Default){return t===zs||t===Ph||t===Os?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Jh extends Lh{constructor(t){super(),this.moduleType=t,null!==pt(t)&&function(t){const e=new Set;!function t(n){const r=pt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${f(e)} vs ${f(e.name)}`)}(i,Yh.get(i),n),Yh.set(i,n));const o=Di(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Qh(this.moduleType,t)}}function Xh(t,e,n){const r=ce()+t,i=Jt();return i[r]===Ao?sa(i,r,n?e.call(n):e()):aa(i,r)}function tf(t,e,n,r){return hf(Jt(),ce(),t,e,n,r)}function ef(t,e,n,r,i){return ff(Jt(),ce(),t,e,n,r,i)}function nf(t,e,n,r,i,o){return df(Jt(),ce(),t,e,n,r,i,o)}function rf(t,e,n,r,i,o,s){return pf(Jt(),ce(),t,e,n,r,i,o,s)}function of(t,e,n,r,i,o,s,a){const u=ce()+t,c=Jt(),l=ha(c,u,n,r,i,o);return ua(c,u+4,s)||l?sa(c,u+5,a?e.call(a,n,r,i,o,s):e(n,r,i,o,s)):aa(c,u+5)}function sf(t,e,n,r,i,o,s,a,u){const c=ce()+t,l=Jt(),h=ha(l,c,n,r,i,o);return ca(l,c+4,s,a)||h?sa(l,c+6,u?e.call(u,n,r,i,o,s,a):e(n,r,i,o,s,a)):aa(l,c+6)}function af(t,e,n,r,i,o,s,a,u,c){const l=ce()+t,h=Jt();let f=ha(h,l,n,r,i,o);return la(h,l+4,s,a,u)||f?sa(h,l+7,c?e.call(c,n,r,i,o,s,a,u):e(n,r,i,o,s,a,u)):aa(h,l+7)}function uf(t,e,n,r,i,o,s,a,u,c,l){const h=ce()+t,f=Jt(),d=ha(f,h,n,r,i,o);return ha(f,h+4,s,a,u,c)||d?sa(f,h+8,l?e.call(l,n,r,i,o,s,a,u,c):e(n,r,i,o,s,a,u,c)):aa(f,h+8)}function cf(t,e,n,r){return gf(Jt(),ce(),t,e,n,r)}function lf(t,e){const n=t[e];return n===Ao?void 0:n}function hf(t,e,n,r,i,o){const s=e+n;return ua(t,s,i)?sa(t,s+1,o?r.call(o,i):r(i)):lf(t,s+1)}function ff(t,e,n,r,i,o,s){const a=e+n;return ca(t,a,i,o)?sa(t,a+2,s?r.call(s,i,o):r(i,o)):lf(t,a+2)}function df(t,e,n,r,i,o,s,a){const u=e+n;return la(t,u,i,o,s)?sa(t,u+3,a?r.call(a,i,o,s):r(i,o,s)):lf(t,u+3)}function pf(t,e,n,r,i,o,s,a,u){const c=e+n;return ha(t,c,i,o,s,a)?sa(t,c+4,u?r.call(u,i,o,s,a):r(i,o,s,a)):lf(t,c+4)}function gf(t,e,n,r,i,o){let s=e+n,a=!1;for(let u=0;u<i.length;u++)ua(t,s++,i[u])&&(a=!0);return a?sa(t,s,r.apply(o,i)):lf(t,s)}function mf(t,e){const n=Xt();let r;const i=t+gt;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new y("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=Et(r.type)),s=L(Ra);try{const t=Qe(!1),e=o();return Qe(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Jt(),i,e),e}finally{L(s)}}function vf(t,e,n){const r=t+gt,i=Jt(),o=qt(i,r);return Ef(i,Sf(i,r)?hf(i,ce(),e,o.transform,n,o):o.transform(n))}function yf(t,e,n,r){const i=t+gt,o=Jt(),s=qt(o,i);return Ef(o,Sf(o,i)?ff(o,ce(),e,s.transform,n,r,s):s.transform(n,r))}function bf(t,e,n,r,i){const o=t+gt,s=Jt(),a=qt(s,o);return Ef(s,Sf(s,o)?df(s,ce(),e,a.transform,n,r,i,a):a.transform(n,r,i))}function wf(t,e,n,r,i,o){const s=t+gt,a=Jt(),u=qt(a,s);return Ef(a,Sf(a,s)?pf(a,ce(),e,u.transform,n,r,i,o,u):u.transform(n,r,i,o))}function _f(t,e,n){const r=t+gt,i=Jt(),o=qt(i,r);return Ef(i,Sf(i,r)?gf(i,ce(),e,o.transform,n,o):o.transform.apply(o,n))}function Sf(t,e){return t[1].data[e].pure}function Ef(t,e){return ra.isWrapped(e)&&(e=ra.unwrap(e),t[le()]=Ao),e}function Tf(t){return e=>{setTimeout(t,void 0,e)}}const If=class extends r.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,o,s;let a=t,u=e||(()=>null),c=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),u=null===(o=e.error)||void 0===o?void 0:o.bind(e),c=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}this.__isAsync&&(u=Tf(u),a&&(a=Tf(a)),c&&(c=Tf(c)));const l=super.subscribe({next:a,error:u,complete:c});return t instanceof i.w&&t.add(l),l}};function Cf(){return this._results[na()]()}class xf{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=na(),n=xf.prototype;n[e]||(n[e]=Cf)}get changes(){return this._changes||(this._changes=new If)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=Nn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Af{constructor(t){this.queryList=t,this.matches=null}clone(){return new Af(this.queryList)}setDirty(){this.queryList.setDirty()}}class Of{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Of(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Gf(t,e).matches&&this.queries[e].setDirty()}}class kf{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Df{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Df(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Nf{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Nf(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Rf(e,i)),this.matchTNodeWithReadOption(t,e,hn(e,t,i,!1,!1))}else n===kh?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,hn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Xl||r===Fh||r===kh&&4&e.type)this.addMatch(e.index,-2);else{const n=hn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Rf(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Pf(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Ql(t,e):4&t.type?Rh(t,e):null}(e,t):-2===n?function(t,e,n){return n===Xl?Ql(e,t):n===kh?Rh(e,t):n===Fh?Bh(e,t):void 0}(t,e,r):fn(t,t[1],n,e)}function Lf(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Pf(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Mf(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Lf(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=mt;t<s.length;t++){const e=s[t];e[17]===e[3]&&Mf(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Mf(n[1],n,i,r)}}}}}return r}function Ff(t){const e=Jt(),n=Xt(),r=ye();be(r+1);const i=Gf(n,r);if(t.dirty&&Gt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Mf(n,e,r,[]):Lf(n,e,i,r);t.reset(o,th),t.notifyOnChanges()}return!0}return!1}function Uf(t,e,n){const r=Xt();r.firstCreatePass&&(Bf(r,new kf(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),qf(r,Jt(),e)}function jf(t,e,n,r){const i=Xt();if(i.firstCreatePass){const o=ee();Bf(i,new kf(e,n,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}qf(i,Jt(),n)}function Vf(){return t=Jt(),e=ye(),t[19].queries[e].queryList;var t,e}function qf(t,e,n){const r=new xf(4==(4&n));Qo(t,e,r,r.destroy),null===e[19]&&(e[19]=new Of),e[19].queries.push(new Af(r))}function Bf(t,e,n){null===t.queries&&(t.queries=new Df),t.queries.track(new Nf(e,n))}function Gf(t,e){return t.queries.getByIndex(e)}function zf(t,e){return Rh(t,e)}const Hf=(()=>({"\u0275\u0275attribute":fa,"\u0275\u0275attributeInterpolate1":Sa,"\u0275\u0275attributeInterpolate2":Ea,"\u0275\u0275attributeInterpolate3":Ta,"\u0275\u0275attributeInterpolate4":Ia,"\u0275\u0275attributeInterpolate5":Ca,"\u0275\u0275attributeInterpolate6":xa,"\u0275\u0275attributeInterpolate7":Aa,"\u0275\u0275attributeInterpolate8":Oa,"\u0275\u0275attributeInterpolateV":ka,"\u0275\u0275defineComponent":et,"\u0275\u0275defineDirective":ct,"\u0275\u0275defineInjectable":E,"\u0275\u0275defineInjector":I,"\u0275\u0275defineNgModule":st,"\u0275\u0275definePipe":lt,"\u0275\u0275directiveInject":Ra,"\u0275\u0275getInheritedFactory":mn,"\u0275\u0275inject":tr,"\u0275\u0275injectAttribute":yn,"\u0275\u0275invalidFactory":Pa,"\u0275\u0275invalidFactoryDep":er,"\u0275\u0275templateRefExtractor":zf,"\u0275\u0275NgOnChangesFeature":It,"\u0275\u0275ProvidersFeature":$l,"\u0275\u0275CopyDefinitionFeature":ta,"\u0275\u0275InheritDefinitionFeature":Ks,"\u0275\u0275nextContext":Ja,"\u0275\u0275namespaceHTML":Re,"\u0275\u0275namespaceMathML":Ne,"\u0275\u0275namespaceSVG":De,"\u0275\u0275enableBindings":Yt,"\u0275\u0275disableBindings":Qt,"\u0275\u0275elementStart":Fa,"\u0275\u0275elementEnd":Ua,"\u0275\u0275element":ja,"\u0275\u0275elementContainerStart":Va,"\u0275\u0275elementContainerEnd":qa,"\u0275\u0275elementContainer":Ba,"\u0275\u0275pureFunction0":Xh,"\u0275\u0275pureFunction1":tf,"\u0275\u0275pureFunction2":ef,"\u0275\u0275pureFunction3":nf,"\u0275\u0275pureFunction4":rf,"\u0275\u0275pureFunction5":of,"\u0275\u0275pureFunction6":sf,"\u0275\u0275pureFunction7":af,"\u0275\u0275pureFunction8":uf,"\u0275\u0275pureFunctionV":cf,"\u0275\u0275getCurrentView":Ga,"\u0275\u0275restoreView":te,"\u0275\u0275listener":Ka,"\u0275\u0275projection":eu,"\u0275\u0275syntheticHostProperty":Ic,"\u0275\u0275syntheticHostListener":Za,"\u0275\u0275pipeBind1":vf,"\u0275\u0275pipeBind2":yf,"\u0275\u0275pipeBind3":bf,"\u0275\u0275pipeBind4":wf,"\u0275\u0275pipeBindV":_f,"\u0275\u0275projectionDef":tu,"\u0275\u0275hostProperty":Tc,"\u0275\u0275property":La,"\u0275\u0275propertyInterpolate":nu,"\u0275\u0275propertyInterpolate1":ru,"\u0275\u0275propertyInterpolate2":iu,"\u0275\u0275propertyInterpolate3":ou,"\u0275\u0275propertyInterpolate4":su,"\u0275\u0275propertyInterpolate5":au,"\u0275\u0275propertyInterpolate6":uu,"\u0275\u0275propertyInterpolate7":cu,"\u0275\u0275propertyInterpolate8":lu,"\u0275\u0275propertyInterpolateV":hu,"\u0275\u0275pipe":mf,"\u0275\u0275queryRefresh":Ff,"\u0275\u0275viewQuery":Uf,"\u0275\u0275loadQuery":Vf,"\u0275\u0275contentQuery":jf,"\u0275\u0275reference":Na,"\u0275\u0275classMap":xu,"\u0275\u0275classMapInterpolate1":Qu,"\u0275\u0275classMapInterpolate2":Ju,"\u0275\u0275classMapInterpolate3":Xu,"\u0275\u0275classMapInterpolate4":tc,"\u0275\u0275classMapInterpolate5":ec,"\u0275\u0275classMapInterpolate6":nc,"\u0275\u0275classMapInterpolate7":rc,"\u0275\u0275classMapInterpolate8":ic,"\u0275\u0275classMapInterpolateV":oc,"\u0275\u0275styleMap":Iu,"\u0275\u0275styleMapInterpolate1":sc,"\u0275\u0275styleMapInterpolate2":ac,"\u0275\u0275styleMapInterpolate3":uc,"\u0275\u0275styleMapInterpolate4":cc,"\u0275\u0275styleMapInterpolate5":lc,"\u0275\u0275styleMapInterpolate6":hc,"\u0275\u0275styleMapInterpolate7":fc,"\u0275\u0275styleMapInterpolate8":dc,"\u0275\u0275styleMapInterpolateV":pc,"\u0275\u0275styleProp":Eu,"\u0275\u0275stylePropInterpolate1":gc,"\u0275\u0275stylePropInterpolate2":mc,"\u0275\u0275stylePropInterpolate3":vc,"\u0275\u0275stylePropInterpolate4":yc,"\u0275\u0275stylePropInterpolate5":bc,"\u0275\u0275stylePropInterpolate6":wc,"\u0275\u0275stylePropInterpolate7":_c,"\u0275\u0275stylePropInterpolate8":Sc,"\u0275\u0275stylePropInterpolateV":Ec,"\u0275\u0275classProp":Tu,"\u0275\u0275advance":Oo,"\u0275\u0275template":Da,"\u0275\u0275text":Vu,"\u0275\u0275textInterpolate":qu,"\u0275\u0275textInterpolate1":Bu,"\u0275\u0275textInterpolate2":Gu,"\u0275\u0275textInterpolate3":zu,"\u0275\u0275textInterpolate4":Hu,"\u0275\u0275textInterpolate5":$u,"\u0275\u0275textInterpolate6":Ku,"\u0275\u0275textInterpolate7":Zu,"\u0275\u0275textInterpolate8":Wu,"\u0275\u0275textInterpolateV":Yu,"\u0275\u0275i18n":Pl,"\u0275\u0275i18nAttributes":Ll,"\u0275\u0275i18nExp":Ml,"\u0275\u0275i18nStart":Nl,"\u0275\u0275i18nEnd":Rl,"\u0275\u0275i18nApply":Fl,"\u0275\u0275i18nPostprocess":Ul,"\u0275\u0275resolveWindow":Ai,"\u0275\u0275resolveDocument":Oi,"\u0275\u0275resolveBody":ki,"\u0275\u0275setComponentScope":nt,"\u0275\u0275setNgModuleScope":at,"\u0275\u0275sanitizeHtml":li,"\u0275\u0275sanitizeStyle":hi,"\u0275\u0275sanitizeResourceUrl":di,"\u0275\u0275sanitizeScript":pi,"\u0275\u0275sanitizeUrl":fi,"\u0275\u0275sanitizeUrlOrResourceUrl":vi,"\u0275\u0275trustConstantHtml":gi,"\u0275\u0275trustConstantResourceUrl":mi,forwardRef:g,resolveForwardRef:m}))();const $f=[];let Kf=!1;function Zf(t){return Array.isArray(t)?t.every(Zf):!!m(t)}function Wf(t,e){const n=Nn(e.declarations||$),r=Qf(t);n.forEach(e=>{e.hasOwnProperty(K)?Yf(ht(e),r):e.hasOwnProperty(Z)||e.hasOwnProperty(W)||(e.ngSelectorScope=t)})}function Yf(t,e){t.directiveDefs=()=>Array.from(e.compilation.directives).map(t=>t.hasOwnProperty(K)?ht(t):ft(t)).filter(t=>!!t),t.pipeDefs=()=>Array.from(e.compilation.pipes).map(t=>dt(t)),t.schemas=e.schemas,t.tView=null}function Qf(t){if(!Xf(t))throw new Error(`${t.name} does not have a module def (\u0275mod property)`);const e=pt(t);if(null!==e.transitiveCompileScopes)return e.transitiveCompileScopes;const n={schemas:e.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return Di(e.imports).forEach(t=>{const e=t;if(!Xf(e))throw new Error(`Importing ${e.name} which does not have a \u0275mod property`);const r=Qf(e);r.exported.directives.forEach(t=>n.compilation.directives.add(t)),r.exported.pipes.forEach(t=>n.compilation.pipes.add(t))}),Di(e.declarations).forEach(t=>{dt(t)?n.compilation.pipes.add(t):n.compilation.directives.add(t)}),Di(e.exports).forEach(t=>{const e=t;if(Xf(e)){const t=Qf(e);t.exported.directives.forEach(t=>{n.compilation.directives.add(t),n.exported.directives.add(t)}),t.exported.pipes.forEach(t=>{n.compilation.pipes.add(t),n.exported.pipes.add(t)})}else dt(e)?n.exported.pipes.add(e):n.exported.directives.add(e)}),e.transitiveCompileScopes=n,n}function Jf(t){return function(t){return void 0!==t.ngModule}(t)?t.ngModule:t}function Xf(t){return!!pt(t)}let td=0;function ed(t,e){let n=null;rd(t,e||{}),Object.defineProperty(t,Z,{get:()=>{if(null===n){const r=nd(t,e||{});n=On().compileDirective(Hf,r.sourceMapUrl,r.metadata)}return n},configurable:!1})}function nd(t,e){const n=t&&t.name,r=`ng:///${n}/\u0275dir.js`,i=On(),o=od(t,e);return o.typeSourceSpan=i.createParseSourceSpan("Directive",n,r),o.usesInheritance&&sd(t),{metadata:o,sourceMapUrl:r}}function rd(t,e){let n=null;Object.defineProperty(t,J,{get:()=>{if(null===n){const r=nd(t,e),i=On();n=i.compileFactory(Hf,`ng:///${t.name}/\u0275fac.js`,{name:r.metadata.name,type:r.metadata.type,typeArgumentCount:0,deps:fr(t),target:i.FactoryTarget.Directive})}return n},configurable:!1})}function id(t){return Object.getPrototypeOf(t.prototype)===Object.prototype}function od(t,e){const n=hr(),r=n.ownPropMetadata(t);return{name:t.name,type:t,selector:void 0!==e.selector?e.selector:null,host:e.host||H,propMetadata:r,inputs:e.inputs||$,outputs:e.outputs||$,queries:ud(t,r,cd),lifecycle:{usesOnChanges:n.hasLifecycleHook(t,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!id(t),exportAs:(i=e.exportAs,void 0===i?null:fd(i)),providers:e.providers||null,viewQueries:ud(t,r,ld)};var i}function sd(t){const e=Object.prototype;let n=Object.getPrototypeOf(t.prototype).constructor;for(;n&&n!==e;)ft(n)||ht(n)||!pd(n)||ed(n,null),n=Object.getPrototypeOf(n)}function ad(t,e){return{propertyName:t,predicate:(n=e.selector,"string"==typeof n?fd(n):m(n)),descendants:e.descendants,first:e.first,read:e.read?e.read:null,static:!!e.static,emitDistinctChangesOnly:!!e.emitDistinctChangesOnly};var n}function ud(t,e,n){const r=[];for(const i in e)if(e.hasOwnProperty(i)){const o=e[i];o.forEach(e=>{if(n(e)){if(!e.selector)throw new Error(`Can't construct a query for the property "${i}" of "${w(t)}" since the query selector wasn't defined.`);if(o.some(hd))throw new Error("Cannot combine @Input decorators with query decorators");r.push(ad(i,e))}})}return r}function cd(t){const e=t.ngMetadataName;return"ContentChild"===e||"ContentChildren"===e}function ld(t){const e=t.ngMetadataName;return"ViewChild"===e||"ViewChildren"===e}function hd(t){return"Input"===t.ngMetadataName}function fd(t){return t.split(",").map(t=>t.trim())}const dd=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function pd(t){const e=hr();if(dd.some(n=>e.hasLifecycleHook(t,n)))return!0;const n=e.propMetadata(t);for(const r in n){const t=n[r];for(let e=0;e<t.length;e++){const n=t[e],r=n.ngMetadataName;if(hd(n)||cd(n)||ld(n)||"Output"===r||"HostBinding"===r||"HostListener"===r)return!0}}return!1}const gd=Sn("Component",(t={})=>Object.assign({changeDetection:U.Default},t),Sn("Directive",(t={})=>t,void 0,void 0,(t,e)=>bd(t,e)),void 0,(t,e)=>yd(t,e)),md=In("Input",t=>({bindingPropertyName:t})),vd=In("Output",t=>({bindingPropertyName:t})),yd=function(t,e){let n=null;!function(t,e){gr(e)&&(dr.set(t,e),pr.add(t))}(t,e),rd(t,e),Object.defineProperty(t,K,{get:()=>{if(null===n){const r=On();if(gr(e)){const n=[`Component '${t.name}' is not resolved:`];throw e.templateUrl&&n.push(` - templateUrl: ${e.templateUrl}`),e.styleUrls&&e.styleUrls.length&&n.push(` - styleUrls: ${JSON.stringify(e.styleUrls)}`),n.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(n.join("\n"))}const i=null;let o=e.preserveWhitespaces;void 0===o&&(o=null!==i&&void 0!==i.preserveWhitespaces&&i.preserveWhitespaces);let s=e.encapsulation;void 0===s&&(s=null!==i&&void 0!==i.defaultEncapsulation?i.defaultEncapsulation:j.Emulated);const a=e.templateUrl||`ng:///${t.name}/template.html`,u=Object.assign(Object.assign({},od(t,e)),{typeSourceSpan:r.createParseSourceSpan("Component",t.name,a),template:e.template||"",preserveWhitespaces:o,styles:e.styles||$,animations:e.animations,directives:[],changeDetection:e.changeDetection,pipes:new Map,encapsulation:s,interpolation:e.interpolation,viewProviders:e.viewProviders||null});td++;try{u.usesInheritance&&sd(t),n=r.compileComponent(Hf,a,u)}finally{td--}if(0===td&&function(){if(!Kf){Kf=!0;try{for(let t=$f.length-1;t>=0;t--){const{moduleType:e,ngModule:n}=$f[t];n.declarations&&n.declarations.every(Zf)&&($f.splice(t,1),Wf(e,n))}}finally{Kf=!1}}}(),void 0!==t.ngSelectorScope){const e=Qf(t.ngSelectorScope);Yf(n,e)}}return n},configurable:!1})},bd=ed,wd=Sn("NgModule",t=>t,void 0,void 0,(t,e)=>_d(t,e)),_d=function(t,e={}){!function(t,e,n=!1){const r=Nn(e.declarations||$);let i=null;Object.defineProperty(t,Y,{configurable:!0,get:()=>(null===i&&(i=On().compileNgModule(Hf,`ng:///${t.name}/\u0275mod.js`,{type:t,bootstrap:Nn(e.bootstrap||$).map(m),declarations:r.map(m),imports:Nn(e.imports||$).map(m).map(Jf),exports:Nn(e.exports||$).map(m).map(Jf),schemas:e.schemas?Nn(e.schemas):null,id:e.id||null}),i.schemas||(i.schemas=[])),i)});let o=null;Object.defineProperty(t,J,{get:()=>{if(null===o){const e=On();o=e.compileFactory(Hf,`ng:///${t.name}/\u0275fac.js`,{name:t.name,type:t,deps:fr(t),target:e.FactoryTarget.NgModule,typeArgumentCount:0})}return o},configurable:!1});let s=null;Object.defineProperty(t,k,{get:()=>{if(null===s){const n={name:t.name,type:t,providers:e.providers||$,imports:[(e.imports||$).map(m),(e.exports||$).map(m)]};s=On().compileInjector(Hf,`ng:///${t.name}/\u0275inj.js`,n)}return s},configurable:!1})}(t,e),function(t,e){$f.push({moduleType:t,ngModule:e})}(t,e)},Sd=new xn("Application Initializer");let Ed=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Yl,this.reject=Yl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();if(za(e))t.push(e);else if($a(e)){const n=new Promise((t,n)=>{e.subscribe({complete:t,error:n})});t.push(n)}}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(tr(Sd,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const Td=new xn("AppId"),Id={provide:Td,useFactory:function(){return`${Cd()}${Cd()}${Cd()}`},deps:[]};function Cd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const xd=new xn("Platform Initializer"),Ad=new xn("Platform ID"),Od=new xn("appBootstrapListener");let kd=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const Dd=new xn("LocaleId"),Nd=new xn("DefaultCurrencyCode");class Rd{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Pd=function(t){return new Jh(t)},Ld=Pd,Md=function(t){return Promise.resolve(Pd(t))},Fd=function(t){const e=Pd(t),n=Di(pt(t).declarations).reduce((t,e)=>{const n=ht(e);return n&&t.push(new Kh(n)),t},[]);return new Rd(e,n)},Ud=Fd,jd=function(t){return Promise.resolve(Fd(t))};let Vd=(()=>{class t{constructor(){this.compileModuleSync=Ld,this.compileModuleAsync=Md,this.compileModuleAndAllComponentsSync=Ud,this.compileModuleAndAllComponentsAsync=jd}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const qd=(()=>Promise.resolve(0))();function Bd(t){"undefined"==typeof Zone?qd.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Gd{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new If(!1),this.onMicrotaskEmpty=new If(!1),this.onStable=new If(!1),this.onError=new If(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=z.requestAnimationFrame,e=z.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(z,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,$d(t),t.isCheckStableRunning=!0,Hd(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),$d(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return Kd(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),Zd(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return Kd(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Zd(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,$d(t),Hd(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Gd.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Gd.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,zd,Yl,Yl);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const zd={};function Hd(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function $d(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Kd(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Zd(t){t._nesting--,Hd(t)}class Wd{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new If,this.onMicrotaskEmpty=new If,this.onStable=new If,this.onError=new If}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Yd=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Gd.assertNotInAngularZone(),Bd(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Bd(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(tr(Gd))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})(),Qd=(()=>{class t{constructor(){this._applications=new Map,ep.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return ep.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();class Jd{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Xd(t){ep=t}let tp,ep=new Jd,np=!0,rp=!1;function ip(){return rp=!0,np}function op(){if(rp)throw new Error("Cannot enable prod mode after platform setup.");np=!1}const sp=new xn("AllowMultipleToken");class ap{constructor(t,e){this.name=t,this.token=e}}function up(t,e,n=[]){const r=`Platform: ${e}`,i=new xn(r);return(e=[])=>{let o=cp();if(!o||o.injector.get(sp,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Ds,useValue:"platform"});!function(t){if(tp&&!tp.destroyed&&!tp.injector.get(sp,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");tp=t.get(lp);const e=t.get(xd,null);e&&e.forEach(t=>t())}(zs.create({providers:t,name:r}))}return function(t){const e=cp();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function cp(){return tp&&!tp.destroyed?tp:null}let lp=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Wd:("zone.js"===t?void 0:t)||new Gd({enableLongStackTrace:ip(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:Gd,useValue:n}];return n.run(()=>{const e=zs.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(Ti,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{dp(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return za(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Ed);return t.runInitializers(),t.donePromise.then(()=>(jc(i.injector.get(Dd,Pc)||Pc),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=hp({},e);return function(t,e,n){const r=new Jh(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(fp);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${f(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(tr(zs))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function hp(t,e){return Array.isArray(e)?e.reduce(hp,t):Object.assign(Object.assign({},t),e)}let fp=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new o.y(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),h=new o.y(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Gd.assertNotInAngularZone(),Bd(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Gd.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=(0,s.T)(l,h.pipe(t=>{return(0,u.x)()((e=c,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,a.N);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Kl?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Ph),i=n.create(zs.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(Yd,null),a=s&&i.injector.get(Qd);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),dp(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;dp(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Od,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(tr(Gd),tr(zs),tr(Ti),tr(Wl),tr(Ed))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function dp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class pp{}class gp{}const mp={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let vp=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||mp}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n(8255)(e).then(t=>t[r]).then(t=>yp(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(8255)(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>yp(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(tr(Vd),tr(gp,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function yp(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const bp=function(t){return null},wp=up(null,"core",[{provide:Ad,useValue:"unknown"},{provide:lp,deps:[zs]},{provide:Qd,deps:[]},{provide:kd,deps:[]}]),_p=[{provide:fp,useClass:fp,deps:[Gd,zs,Ti,Wl,Ed]},{provide:$h,deps:[Gd],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Ed,useClass:Ed,deps:[[new sr,Sd]]},{provide:Vd,useClass:Vd,deps:[]},Id,{provide:yh,useFactory:function(){return xh},deps:[]},{provide:wh,useFactory:function(){return Ah},deps:[]},{provide:Dd,useFactory:function(t){return jc(t=t||"undefined"!=typeof $localize&&$localize.locale||Pc),t},deps:[[new or(Dd),new sr,new ur]]},{provide:Nd,useValue:"USD"}];let Sp=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(tr(fp))},t.\u0275mod=st({type:t}),t.\u0275inj=I({providers:_p}),t})()},2346:(t,e,n)=>{"use strict";n.d(e,{hO:()=>C,xv:()=>b,Dh:()=>y,HU:()=>d,GT:()=>v,sI:()=>T,on:()=>_,ss:()=>p,pX:()=>m,yq:()=>S});var r=n(8489),i=n(8569),o=n(6599),s=n(4187),a=n(9971),u=n(7368),c=n(1858);function l(){}t=n.hmd(t);class h{constructor(t,e=r.N){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe((0,o.b)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.z))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe((0,s.R)(t.outsideAngular),(0,a.QV)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),v=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},y=new u.OlP("angularfire2.app.options"),b=new u.OlP("angularfire2.app.nameOrConfig"),w=new u.GfV("6.1.5");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.Z.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.Z.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&E("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const S=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[t](...e)};function T(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const I={provide:class{},useFactory:_,deps:[y,u.R0b,[new u.FiY,b]]};let C=(()=>{class t{constructor(t){c.Z.registerVersion("angularfire",w.full,t.toString()),c.Z.registerVersion("angular",u.q4F.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:y,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(u.LFG(u.Lbi))},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[I]}),t})()},9624:(t,e,n)=>{"use strict";n.d(e,{b2:()=>U,H7:()=>R,h_:()=>V,Dx:()=>G,q6:()=>M});var r=n(1116),i=n(7368);class o extends r.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class s extends o{static makeCurrent(){(0,r.HT)(new s)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(u=u||document.querySelector("base"),u?u.getAttribute("href"):null);return null==e?null:function(t){a=a||document.createElement("a"),a.setAttribute("href",t);const e=a.pathname;return"/"===e.charAt(0)?e:`/${e}`}(e)}resetBaseElement(){u=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return(0,r.Mx)(document.cookie,t)}}let a,u=null;const c=new i.OlP("TRANSITION_ID"),l=[{provide:i.ip1,useFactory:function(t,e,n){return()=>{n.get(i.CZH).donePromise.then(()=>{const n=(0,r.q)();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[c,r.K0,i.zs3],multi:!0}];class h{static init(){(0,i.VLi)(new h)}addToWindow(t){i.dqk.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},i.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),i.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),i.dqk.frameworkStabilizers||(i.dqk.frameworkStabilizers=[]),i.dqk.frameworkStabilizers.push(t=>{const e=i.dqk.getAllAngularTestabilities();let n=e.length,r=!1;const o=function(e){r=r||e,n--,0==n&&t(r)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:n?(0,r.q)().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let f=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const d=new i.OlP("EventManagerPlugins");let p=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(d),i.LFG(i.R0b))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();class g{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const i=(0,r.q)().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,n)}}let m=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),v=(()=>{class t extends m{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(y),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(y))}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(r.K0))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();function y(t){(0,r.q)().remove(t)}const b={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},w=/%COMP%/g;function _(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?_(t,i,n):(i=i.replace(w,t),n.push(i))}return n}function S(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let E=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new T(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case i.ifc.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new I(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case i.ifc.ShadowDom:return new C(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=_(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(p),i.LFG(v),i.LFG(i.AFp))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();class T{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(b[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=b[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=b[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(i.JOm.DashCase|i.JOm.Important)?t.style.setProperty(e,n,r&i.JOm.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&i.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,S(n)):this.eventManager.addEventListener(t,e,S(n))}}class I extends T{constructor(t,e,n,r){super(t),this.component=n;const i=_(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(w,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(w,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class C extends T{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=_(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let x=(()=>{class t extends g{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(r.K0))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const A=["alt","control","meta","shift"],O={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},k={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},D={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let N=(()=>{class t extends g{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,i){const o=t.parseEventName(n),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,r.q)().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(A.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&k.hasOwnProperty(e)&&(e=k[e]))}return O[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),A.forEach(r=>{r!=n&&(0,D[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(r.K0))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),R=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,i.Yz7)({factory:function(){return(0,i.LFG)(L)},token:t,providedIn:"root"}),t})();function P(t){return new L(t.get(r.K0))}let L=(()=>{class t extends R{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case i.q3G.NONE:return e;case i.q3G.HTML:return(0,i.qzn)(e,"HTML")?(0,i.z3N)(e):(0,i.EiD)(this._doc,String(e)).toString();case i.q3G.STYLE:return(0,i.qzn)(e,"Style")?(0,i.z3N)(e):e;case i.q3G.SCRIPT:if((0,i.qzn)(e,"Script"))return(0,i.z3N)(e);throw new Error("unsafe value used in a script context");case i.q3G.URL:return(0,i.yhl)(e),(0,i.qzn)(e,"URL")?(0,i.z3N)(e):(0,i.mCW)(String(e));case i.q3G.RESOURCE_URL:if((0,i.qzn)(e,"ResourceURL"))return(0,i.z3N)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,i.JVY)(t)}bypassSecurityTrustStyle(t){return(0,i.L6k)(t)}bypassSecurityTrustScript(t){return(0,i.eBb)(t)}bypassSecurityTrustUrl(t){return(0,i.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,i.pB0)(t)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(r.K0))},t.\u0275prov=(0,i.Yz7)({factory:function(){return P((0,i.LFG)(i.gxx))},token:t,providedIn:"root"}),t})();const M=(0,i.eFA)(i._c5,"browser",[{provide:i.Lbi,useValue:r.bD},{provide:i.g9A,useValue:function(){s.makeCurrent(),h.init()},multi:!0},{provide:r.K0,useFactory:function(){return(0,i.RDi)(document),document},deps:[]}]),F=[[],{provide:i.zSh,useValue:"root"},{provide:i.qLn,useFactory:function(){return new i.qLn},deps:[]},{provide:d,useClass:x,multi:!0,deps:[r.K0,i.R0b,i.Lbi]},{provide:d,useClass:N,multi:!0,deps:[r.K0]},[],{provide:E,useClass:E,deps:[p,v,i.AFp]},{provide:i.FYo,useExisting:E},{provide:m,useExisting:v},{provide:v,useClass:v,deps:[r.K0]},{provide:i.dDg,useClass:i.dDg,deps:[i.R0b]},{provide:p,useClass:p,deps:[d,i.R0b]},{provide:r.JF,useClass:f,deps:[]},[]];let U=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:i.AFp,useValue:e.appId},{provide:c,useExisting:i.AFp},l]}}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(t,12))},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:F,imports:[r.ez,i.hGG]}),t})();function j(){return new V((0,i.LFG)(r.K0))}let V=(()=>{class t{constructor(t){this._doc=t,this._dom=(0,r.q)()}addTag(t,e=!1){return t?this._getOrCreateElement(t,e):null}addTags(t,e=!1){return t?t.reduce((t,n)=>(n&&t.push(this._getOrCreateElement(n,e)),t),[]):[]}getTag(t){return t&&this._doc.querySelector(`meta[${t}]`)||null}getTags(t){if(!t)return[];const e=this._doc.querySelectorAll(`meta[${t}]`);return e?[].slice.call(e):[]}updateTag(t,e){if(!t)return null;e=e||this._parseSelector(t);const n=this.getTag(e);return n?this._setMetaElementAttributes(t,n):this._getOrCreateElement(t,!0)}removeTag(t){this.removeTagElement(this.getTag(t))}removeTagElement(t){t&&this._dom.remove(t)}_getOrCreateElement(t,e=!1){if(!e){const e=this._parseSelector(t),n=this.getTag(e);if(n&&this._containsAttributes(t,n))return n}const n=this._dom.createElement("meta");return this._setMetaElementAttributes(t,n),this._doc.getElementsByTagName("head")[0].appendChild(n),n}_setMetaElementAttributes(t,e){return Object.keys(t).forEach(n=>e.setAttribute(this._getMetaKeyMap(n),t[n])),e}_parseSelector(t){const e=t.name?"name":"property";return`${e}="${t[e]}"`}_containsAttributes(t,e){return Object.keys(t).every(n=>e.getAttribute(this._getMetaKeyMap(n))===t[n])}_getMetaKeyMap(t){return q[t]||t}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(r.K0))},t.\u0275prov=(0,i.Yz7)({factory:j,token:t,providedIn:"root"}),t})();const q={httpEquiv:"http-equiv"};function B(){return new G((0,i.LFG)(r.K0))}let G=(()=>{class t{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(r.K0))},t.\u0275prov=(0,i.Yz7)({factory:B,token:t,providedIn:"root"}),t})();"undefined"!=typeof window&&window},4154:(t,e,n)=>{"use strict";n.d(e,{gz:()=>Kt,m2:()=>B,eC:()=>rt,GH:()=>Q,xV:()=>Y,F0:()=>mn,rH:()=>vn,yS:()=>yn,Bz:()=>kn,lC:()=>wn,aU:()=>Tn});var r=n(1116),i=n(7368),o=n(8318),s=n(9764),a=n(653);function u(t){return new o.y(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?(0,s.D)(n):(0,a.c)()).subscribe(e)})}var c=n(878),l=n(8512),h=n(3080),f=n(9665),d=n(7930),p=n(2875),g=n(5959),m=n(3835),v=n(6673),y=n(8402);function b(t){return function(e){return 0===t?(0,a.c)():e.lift(new w(t))}}class w{constructor(t){if(this.total=t,this.total<0)throw new y.W}call(t,e){return e.subscribe(new _(t,this.total))}}class _ extends v.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}var S=n(790),E=n(7768),T=n(3392),I=n(7570);class C{constructor(t){this.callback=t}call(t,e){return e.subscribe(new x(t,this.callback))}}class x extends v.L{constructor(t,e){super(t),this.add(new I.w(e))}}var A=n(9996),O=n(4689),k=n(611),D=n(6238),N=n(2023),R=n(7727),P=n(436),L=n(3530),M=n(3982),F=n(6599),U=n(1564),j=n(7471);class V{constructor(t,e){this.id=t,this.url=e}}class q extends V{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class B extends V{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class G extends V{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class z extends V{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class H extends V{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $ extends V{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class K extends V{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Z extends V{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class W extends V{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Y{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Q{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class J{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class X{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tt{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class et{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nt{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const rt="primary";class it{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ot(t){return new it(t)}function st(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function at(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ut(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!ct(t[i],e[i]))return!1;return!0}function ct(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function lt(t){return Array.prototype.concat.apply([],t)}function ht(t){return t.length>0?t[t.length-1]:null}function ft(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function dt(t){return(0,i.CqO)(t)?t:(0,i.QGY)(t)?(0,s.D)(Promise.resolve(t)):(0,c.of)(t)}const pt={exact:function t(e,n,r){if(!Et(e.segments,n.segments))return!1;if(!bt(e.segments,n.segments,r))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i],r))return!1}return!0},subset:vt},gt={exact:function(t,e){return ut(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>ct(t[n],e[n]))},ignored:()=>!0};function mt(t,e,n){return pt[n.paths](t.root,e.root,n.matrixParams)&&gt[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function vt(t,e,n){return yt(t,e,e.segments,n)}function yt(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!!Et(i,n)&&!e.hasChildren()&&!!bt(i,n,r)}if(t.segments.length===n.length){if(!Et(t.segments,n))return!1;if(!bt(t.segments,n,r))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!vt(t.children[n],e.children[n],r))return!1}return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!Et(t.segments,i)&&!!bt(t.segments,i,r)&&!!t.children[rt]&&yt(t.children[rt],e,o,r)}}function bt(t,e,n){return e.every((e,r)=>gt[n](t[r].parameters,e.parameters))}class wt{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ot(this.queryParams)),this._queryParamMap}toString(){return Ct.serialize(this)}}class _t{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ft(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xt(this)}}class St{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ot(this.parameters)),this._parameterMap}toString(){return Pt(this)}}function Et(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class Tt{}class It{parse(t){const e=new jt(t);return new wt(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${At(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${kt(e)}=${kt(t)}`).join("&"):`${kt(e)}=${kt(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Ct=new It;function xt(t){return t.segments.map(t=>Pt(t)).join("/")}function At(t,e){if(!t.hasChildren())return xt(t);if(e){const e=t.children[rt]?At(t.children[rt],!1):"",n=[];return ft(t.children,(t,e)=>{e!==rt&&n.push(`${e}:${At(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return ft(t.children,(t,r)=>{r===rt&&(n=n.concat(e(t,r)))}),ft(t.children,(t,r)=>{r!==rt&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===rt?[At(t.children[rt],!1)]:[`${n}:${At(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[rt]?`${xt(t)}/${e[0]}`:`${xt(t)}/(${e.join("//")})`}}function Ot(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kt(t){return Ot(t).replace(/%3B/gi,";")}function Dt(t){return Ot(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Nt(t){return decodeURIComponent(t)}function Rt(t){return Nt(t.replace(/\+/g,"%20"))}function Pt(t){return`${Dt(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Dt(t)}=${Dt(e[t])}`).join("")}`;var e}const Lt=/^[^\/()?;=#]+/;function Mt(t){const e=t.match(Lt);return e?e[0]:""}const Ft=/^[^=?&#]+/,Ut=/^[^?&#]+/;class jt{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _t([],{}):new _t([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[rt]=new _t(t,e)),n}parseSegment(){const t=Mt(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new St(Nt(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Mt(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Mt(this.remaining);t&&(n=t,this.capture(n))}t[Nt(e)]=Nt(n)}parseQueryParam(t){const e=function(t){const e=t.match(Ft);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Ut);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Rt(e),i=Rt(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Mt(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=rt);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o[rt]:new _t([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Vt{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=qt(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=qt(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Bt(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Bt(t,this._root).map(t=>t.value)}}function qt(t,e){if(t===e.value)return e;for(const n of e.children){const e=qt(t,n);if(e)return e}return null}function Bt(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Bt(t,n);if(r.length)return r.unshift(e),r}return[]}class Gt{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function zt(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Ht extends Vt{constructor(t,e){super(t),this.snapshot=e,Qt(this,t)}toString(){return this.snapshot.toString()}}function $t(t,e){const n=function(t,e){const n=new Wt([],{},{},"",{},rt,e,null,t.root,-1,{});return new Yt("",new Gt(n,[]))}(t,e),r=new l.X([new St("",{})]),i=new l.X({}),o=new l.X({}),s=new l.X({}),a=new l.X(""),u=new Kt(r,i,s,a,o,rt,e,n.root);return u.snapshot=n.root,new Ht(new Gt(u,[]),n)}class Kt{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,A.U)(t=>ot(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,A.U)(t=>ot(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Zt(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Wt{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ot(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ot(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Yt extends Vt{constructor(t,e){super(e),this.url=t,Qt(this,e)}toString(){return Jt(this._root)}}function Qt(t,e){e.value._routerState=t,e.children.forEach(e=>Qt(t,e))}function Jt(t){const e=t.children.length>0?` { ${t.children.map(Jt).join(", ")} } `:"";return`${t.value}${e}`}function Xt(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ut(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),ut(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ut(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),ut(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function te(t,e){var n,r;return ut(t.params,e.params)&&Et(n=t.url,r=e.url)&&n.every((t,e)=>ut(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||te(t.parent,e.parent))}function ee(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return ee(t,e,r);return ee(t,e)})}(t,e,n);return new Gt(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return ne(e,t),t}}const n=new Kt(new l.X((r=e.value).url),new l.X(r.params),new l.X(r.queryParams),new l.X(r.fragment),new l.X(r.data),r.outlet,r.component,r),i=e.children.map(e=>ee(t,e));return new Gt(n,i)}var r}function ne(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)ne(t.children[n],e.children[n])}function re(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ie(t){return"object"==typeof t&&null!=t&&t.outlets}function oe(t,e,n,r,i){let o={};return r&&ft(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new wt(n.root===t?e:se(n.root,t,e),o,i)}function se(t,e,n){const r={};return ft(t.children,(t,i)=>{r[i]=t===e?n:se(t,e,n)}),new _t(t.segments,r)}class ae{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&re(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(ie);if(r&&r!==ht(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ue{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function ce(t,e,n){if(t||(t=new _t([],{})),0===t.segments.length&&t.hasChildren())return le(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(ie(s))break;const a=`${s}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!pe(a,u,e))return o;r+=2}else{if(!pe(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new _t(t.segments.slice(0,r.pathIndex),{});return e.children[rt]=new _t(t.segments.slice(r.pathIndex),t.children),le(e,0,i)}return r.match&&0===i.length?new _t(t.segments,{}):r.match&&!t.hasChildren()?he(t,e,n):r.match?le(t,0,i):he(t,e,n)}function le(t,e,n){if(0===n.length)return new _t(t.segments,{});{const r=function(t){return ie(t[0])?t[0].outlets:{[rt]:t}}(n),i={};return ft(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=ce(t.children[r],e,n))}),ft(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new _t(t.segments,i)}}function he(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(ie(o)){const t=fe(o.outlets);return new _t(r,t)}if(0===i&&re(n[0])){r.push(new St(t.segments[e].path,de(n[0]))),i++;continue}const s=ie(o)?o.outlets[rt]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&re(a)?(r.push(new St(s,de(a))),i+=2):(r.push(new St(s,{})),i++)}return new _t(r,{})}function fe(t){const e={};return ft(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=he(new _t([],{}),0,t))}),e}function de(t){const e={};return ft(t,(t,n)=>e[n]=`${t}`),e}function pe(t,e,n){return t==n.path&&ut(e,n.parameters)}class ge{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Xt(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=zt(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),ft(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=zt(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=zt(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new et(t.value.snapshot))}),t.children.length&&this.forwardEvent(new X(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Xt(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),me(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function me(t){Xt(t.value),t.children.forEach(me)}class ve{constructor(t,e){this.routes=t,this.module=e}}function ye(t){return"function"==typeof t}function be(t){return t instanceof wt}const we=Symbol("INITIAL_VALUE");function _e(){return(0,O.w)(t=>(0,h.aj)(t.map(t=>t.pipe((0,k.q)(1),(0,D.O)(we)))).pipe((0,N.R)((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==we)return t;if(r===we&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||be(r))return r}return t},t)},we),(0,m.h)(t=>t!==we),(0,A.U)(t=>be(t)?t:!0===t),(0,k.q)(1)))}let Se=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&i._UZ(0,"router-outlet")},directives:function(){return[wn]},encapsulation:2}),t})();function Ee(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Te(r,Ie(e,r))}}function Te(t,e){t.children&&Ee(t.children,e)}function Ie(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Ce(t){const e=t.children&&t.children.map(Ce),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==rt&&(n.component=Se),n}function xe(t){return t.outlet||rt}function Ae(t,e){const n=t.filter(t=>xe(t)===e);return n.push(...t.filter(t=>xe(t)!==e)),n}const Oe={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function ke(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Oe):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||at)(n,t,e);if(!i)return Object.assign({},Oe);const o={};ft(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function De(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>Ne(t,e,n)&&xe(n)!==rt)}(t,n,r)){const i=new _t(e,function(t,e,n,r){const i={};i[rt]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&xe(o)!==rt){const n=new _t([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[xe(o)]=n}return i}(t,e,r,new _t(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Ne(t,e,n))}(t,n,r)){const o=new _t(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(Ne(t,n,a)&&!i[xe(a)]){const n=new _t([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[xe(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new _t(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Ne(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Re(t,e,n,r){return!!(xe(t)===r||r!==rt&&Ne(e,n,t))&&("**"===t.path||ke(e,t,n).matched)}function Pe(t,e,n){return 0===e.length&&!t.children[n]}class Le{constructor(t){this.segmentGroup=t||null}}class Me{constructor(t){this.urlTree=t}}function Fe(t){return new o.y(e=>e.error(new Le(t)))}function Ue(t){return new o.y(e=>e.error(new Me(t)))}function je(t){return new o.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Ve{constructor(t,e,n,r,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(i.h0i)}apply(){const t=De(this.urlTree.root,[],[],this.config).segmentGroup,e=new _t(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,rt).pipe((0,A.U)(t=>this.createUrlTree(qe(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,R.K)(t=>{if(t instanceof Me)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Le)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,rt).pipe((0,A.U)(e=>this.createUrlTree(qe(e),t.queryParams,t.fragment))).pipe((0,R.K)(t=>{if(t instanceof Le)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new _t([],{[rt]:t}):t;return new wt(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe((0,A.U)(t=>new _t([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return(0,s.D)(r).pipe((0,P.b)(r=>{const i=n.children[r],o=Ae(e,r);return this.expandSegmentGroup(t,o,i,r).pipe((0,A.U)(t=>({segment:t,outlet:r})))}),(0,N.R)((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?(0,m.h)((e,n)=>t(e,n,r)):T.y,b(1),n?(0,E.d)(e):(0,S.T)(()=>new f.K))}())}expandSegment(t,e,n,r,i,o){return(0,s.D)(n).pipe((0,P.b)(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe((0,R.K)(t=>{if(t instanceof Le)return(0,c.of)(null);throw t}))),(0,L.P)(t=>!!t),(0,R.K)((t,n)=>{if(t instanceof f.K||"EmptyError"===t.name){if(Pe(e,r,i))return(0,c.of)(new _t([],{}));throw new Le(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return Re(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Fe(e):Fe(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Ue(i):this.lineralizeSegments(n,i).pipe((0,M.zg)(n=>{const i=new _t(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=ke(e,r,i);if(!s)return Fe(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Ue(l):this.lineralizeSegments(r,l).pipe((0,M.zg)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,c.of)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe((0,A.U)(t=>(n._loadedConfig=t,new _t(r,{})))):(0,c.of)(new _t(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=ke(e,n,r);if(!o)return Fe(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe((0,M.zg)(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:l}=De(e,s,u,o),h=new _t(a.segments,a.children);if(0===l.length&&h.hasChildren())return this.expandChildren(r,o,h).pipe((0,A.U)(t=>new _t(s,t)));if(0===o.length&&0===l.length)return(0,c.of)(new _t(s,{}));const f=xe(n)===i;return this.expandSegment(r,h,o,l,f?rt:i,!0).pipe((0,A.U)(t=>new _t(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?(0,c.of)(new ve(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,c.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe((0,M.zg)(n=>n?this.configLoader.load(t.injector,e).pipe((0,A.U)(t=>(e._loadedConfig=t,t))):function(t){return new o.y(e=>e.error(st(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):(0,c.of)(new ve([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return(0,c.of)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&ye(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!ye(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return dt(o)});return(0,c.of)(i).pipe(_e(),(0,F.b)(t=>{if(!be(t))return;const e=st(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),(0,A.U)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,c.of)(n);if(r.numberOfChildren>1||!r.children[rt])return je(t.redirectTo);r=r.children[rt]}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new wt(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return ft(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return ft(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new _t(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function qe(t){const e={};for(const n of Object.keys(t.children)){const r=qe(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children[rt]){const e=t.children[rt];return new _t(t.segments.concat(e.segments),e.children)}return t}(new _t(t.segments,e))}class Be{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ge{constructor(t,e){this.component=t,this.route=e}}function ze(t,e,n){const r=t._root;return $e(r,e?e._root:null,n,[r.value])}function He(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function $e(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=zt(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Et(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Et(t.url,e.url)||!ut(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!te(t,e)||!ut(t.queryParams,e.queryParams);case"paramsChange":default:return!te(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Be(r)):(o.data=s.data,o._resolvedData=s._resolvedData),$e(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ge(a.outlet.component,s))}else s&&Ke(e,a,i),i.canActivateChecks.push(new Be(r)),$e(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),ft(o,(t,e)=>Ke(t,n.getContext(e),i)),i}function Ke(t,e,n){const r=zt(t),i=t.value;ft(r,(t,r)=>{Ke(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Ge(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Ze{}function We(t){return new o.y(e=>e.error(t))}class Ye{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=De(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,rt);if(null===e)return null;const n=new Wt([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},rt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Gt(n,e),i=new Yt(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=Zt(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=Ae(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=Je(n);return r.sort((t,e)=>t.value.outlet===rt?-1:e.value.outlet===rt?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return Pe(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!Re(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?ht(n).parameters:{};i=new Wt(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,en(t),xe(t),t.component,t,Xe(e),tn(e)+n.length,nn(t))}else{const r=ke(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new Wt(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,en(t),xe(t),t.component,t,Xe(e),tn(e)+o.length,nn(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=De(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new Gt(i,t)]}if(0===a.length&&0===c.length)return[new Gt(i,[])];const l=xe(t)===r,h=this.processSegment(a,u,c,l?rt:r);return null===h?null:[new Gt(i,h)]}}function Qe(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Je(t){const e=[],n=new Set;for(const r of t){if(!Qe(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=Je(r.children);e.push(new Gt(r.value,t))}return e.filter(t=>!n.has(t))}function Xe(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function tn(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function en(t){return t.data||{}}function nn(t){return t.resolve||{}}function rn(t){return(0,O.w)(e=>{const n=t(e);return n?(0,s.D)(n).pipe((0,A.U)(()=>e)):(0,c.of)(e)})}class on extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const sn=new i.OlP("ROUTES");class an{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe((0,A.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new ve(lt(r.injector.get(sn,void 0,i.XFs.Self|i.XFs.Optional)).map(Ce),r)}),(0,R.K)(t=>{throw e._loader$=void 0,t}));return e._loader$=new p.c(n,()=>new g.xQ).pipe((0,U.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,s.D)(this.loader.load(t)):dt(t()).pipe((0,M.zg)(t=>t instanceof i.YKP?(0,c.of)(t):(0,s.D)(this.compiler.compileModuleAsync(t))))}}class un{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new cn,this.attachRef=null}}class cn{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new un,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class ln{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function hn(t){throw t}function fn(t,e,n){return e.parse("/")}function dn(t,e){return(0,c.of)(null)}const pn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let mn=(()=>{class t{constructor(t,e,n,r,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new g.xQ,this.errorHandler=hn,this.malformedUriErrorHandler=fn,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:dn,afterPreactivation:dn},this.urlHandlingStrategy=new ln,this.routeReuseStrategy=new on,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(i.h0i),this.console=o.get(i.c2e);const c=o.get(i.R0b);this.isNgZoneEnabled=c instanceof i.R0b&&i.R0b.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new wt(new _t([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new an(s,a,t=>this.triggerEvent(new Y(t)),t=>this.triggerEvent(new Q(t))),this.routerState=$t(this.currentUrlTree,this.rootComponentType),this.transitions=new l.X({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe((0,m.h)(t=>0!==t.id),(0,A.U)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),(0,O.w)(t=>{let n=!1,r=!1;return(0,c.of)(t).pipe((0,F.b)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,O.w)(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return(0,c.of)(t).pipe((0,O.w)(t=>{const n=this.transitions.getValue();return e.next(new q(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?a.E:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,(0,O.w)(t=>function(t,e,n,r,i){return new Ve(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe((0,A.U)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),(0,F.b)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return(0,M.zg)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new Ye(t,e,n,r,i,o).recognize();return null===s?We(new Ze):(0,c.of)(s)}catch(s){return We(s)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe((0,A.U)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,F.b)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new H(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new q(n,this.serializeUrl(r),i,o);e.next(a);const u=$t(r,this.rootComponentType).snapshot;return(0,c.of)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),a.E}),rn(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),(0,F.b)(t=>{const e=new $(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(0,A.U)(t=>Object.assign(Object.assign({},t),{guards:ze(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return(0,M.zg)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:a}}=n;return 0===a.length&&0===o.length?(0,c.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return(0,s.D)(t).pipe((0,M.zg)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return(0,c.of)(!0);const s=o.map(o=>{const s=He(o,e,i);let a;if(function(t){return t&&ye(t.canDeactivate)}(s))a=dt(s.canDeactivate(t,e,n,r));else{if(!ye(s))throw new Error("Invalid CanDeactivate guard");a=dt(s(t,e,n,r))}return a.pipe((0,L.P)())});return(0,c.of)(s).pipe(_e())}(t.component,t.route,n,e,r)),(0,L.P)(t=>!0!==t,!0))}(a,r,i,t).pipe((0,M.zg)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return(0,s.D)(e).pipe((0,P.b)(e=>(0,d.z)(function(t,e){return null!==t&&e&&e(new J(t)),(0,c.of)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new tt(t)),(0,c.of)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>u(()=>{const i=e.guards.map(i=>{const o=He(i,e.node,n);let s;if(function(t){return t&&ye(t.canActivateChild)}(o))s=dt(o.canActivateChild(r,t));else{if(!ye(o))throw new Error("Invalid CanActivateChild guard");s=dt(o(r,t))}return s.pipe((0,L.P)())});return(0,c.of)(i).pipe(_e())}));return(0,c.of)(i).pipe(_e())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,c.of)(!0);const i=r.map(r=>u(()=>{const i=He(r,e,n);let o;if(function(t){return t&&ye(t.canActivate)}(i))o=dt(i.canActivate(e,t));else{if(!ye(i))throw new Error("Invalid CanActivate guard");o=dt(i(e,t))}return o.pipe((0,L.P)())}));return(0,c.of)(i).pipe(_e())}(t,e.route,n))),(0,L.P)(t=>!0!==t,!0))}(r,o,t,e):(0,c.of)(n)),(0,A.U)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),(0,F.b)(t=>{if(be(t.guardsResult)){const e=st(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new K(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),(0,m.h)(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new G(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),rn(t=>{if(t.guards.canActivateChecks.length)return(0,c.of)(t).pipe((0,F.b)(t=>{const e=new Z(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(0,O.w)(t=>{let n=!1;return(0,c.of)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,(0,M.zg)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return(0,c.of)(t);let o=0;return(0,s.D)(n).pipe((0,P.b)(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return(0,c.of)({});const o={};return(0,s.D)(i).pipe((0,M.zg)(i=>function(t,e,n,r){const i=He(t,e,r);return dt(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe((0,F.b)(t=>{o[i]=t}))),b(1),(0,M.zg)(()=>Object.keys(o).length===i.length?(0,c.of)(o):a.E))}(t._resolve,t,e,r).pipe((0,A.U)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Zt(t,n).resolve),null)))}(t.route,e,r,i)),(0,F.b)(()=>o++),b(1),(0,M.zg)(e=>o===n.length?(0,c.of)(t):a.E))})),(0,F.b)({next:()=>n=!0,complete:()=>{if(!n){const n=new G(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),(0,F.b)(t=>{const e=new W(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),rn(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),(0,A.U)(t=>{const e=function(t,e,n){const r=ee(t,e._root,n?n._root:void 0);return new Ht(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),(0,F.b)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,l=this.routeReuseStrategy,h=t=>this.triggerEvent(t),(0,A.U)(t=>(new ge(l,t.targetRouterState,t.currentRouterState,h).activate(o),t))),(0,F.b)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new G(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new C(i))),(0,R.K)(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=be(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new G(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new z(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(o){t.reject(o)}}var i;return a.E}));var i,o,l,h}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Ee(t),this.config=t.map(Ce),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return oe(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new ae(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return ft(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new ae(n,e,r)}(n);if(o.toRoot())return oe(e.root,new _t([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new ue(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new ue(t,t===e.root,0)}const r=re(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new ue(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?le(s.segmentGroup,s.index,o.commands):ce(s.segmentGroup,s.index,o.commands);return oe(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,null!=u?u:null)}navigateByUrl(t,e={skipLocationChange:!1}){const n=be(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){let n;if(n=!0===e?Object.assign({},pn):!1===e?Object.assign({},gn):e,be(t))return mt(this.currentUrlTree,t,n);const r=this.parseUrl(t);return mt(this.currentUrlTree,r,n)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new B(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.DyG),i.LFG(Tt),i.LFG(cn),i.LFG(r.Ye),i.LFG(i.zs3),i.LFG(i.v3s),i.LFG(i.Sil),i.LFG(void 0))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),vn=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new g.xQ,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:bn(this.skipLocationChange),replaceUrl:bn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:bn(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(mn),i.Y36(Kt),i.$8M("tabindex"),i.Y36(i.Qsj),i.Y36(i.SBq))},t.\u0275dir=i.lG2({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&i.NdJ("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[i.TTD]}),t})(),yn=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new g.xQ,this.subscription=t.events.subscribe(t=>{t instanceof B&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:bn(this.skipLocationChange),replaceUrl:bn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:bn(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(mn),i.Y36(Kt),i.Y36(r.S$))},t.\u0275dir=i.lG2({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&i.NdJ("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(i.Ikx("href",e.href,i.LSH),i.uIk("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[i.TTD]}),t})();function bn(t){return""===t||!!t}let wn=(()=>{class t{constructor(t,e,n,r,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.vpe,this.deactivateEvents=new i.vpe,this.name=r||rt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new _n(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(cn),i.Y36(i.s_b),i.Y36(i._Vd),i.$8M("name"),i.Y36(i.sBO))},t.\u0275dir=i.lG2({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class _n{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Kt?this.route:t===cn?this.childContexts:this.parent.get(t,e)}}class Sn{}class En{preload(t,e){return(0,c.of)(null)}}let Tn=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new an(e,n,e=>t.triggerEvent(new Y(e)),e=>t.triggerEvent(new Q(e)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,m.h)(t=>t instanceof B),(0,P.b)(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(i.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return(0,s.D)(n).pipe((0,j.J)(),(0,A.U)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?(0,c.of)(e._loadedConfig):this.loader.load(t.injector,e)).pipe((0,M.zg)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(mn),i.LFG(i.v3s),i.LFG(i.Sil),i.LFG(i.zs3),i.LFG(Sn))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),In=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof q?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof B&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof nt&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new nt(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(mn),i.LFG(r.EM),i.LFG(void 0))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const Cn=new i.OlP("ROUTER_CONFIGURATION"),xn=new i.OlP("ROUTER_FORROOT_GUARD"),An=[r.Ye,{provide:Tt,useClass:It},{provide:mn,useFactory:function(t,e,n,r,i,o,s,a={},u,c){const l=new mn(null,t,e,n,r,i,o,lt(s));return u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,l),a.enableTracing&&l.events.subscribe(t=>{var e,n;null===(e=console.group)||void 0===e||e.call(console,`Router Event: ${t.constructor.name}`),console.log(t.toString()),console.log(t),null===(n=console.groupEnd)||void 0===n||n.call(console)}),l},deps:[Tt,cn,r.Ye,i.zs3,i.v3s,i.Sil,sn,Cn,[class{},new i.FiY],[class{},new i.FiY]]},cn,{provide:Kt,useFactory:function(t){return t.routerState.root},deps:[mn]},{provide:i.v3s,useClass:i.EAV},Tn,En,class{preload(t,e){return e().pipe((0,R.K)(()=>(0,c.of)(null)))}},{provide:Cn,useValue:{enableTracing:!1}}];function On(){return new i.PXZ("Router",mn)}let kn=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[An,Pn(e),{provide:xn,useFactory:Rn,deps:[[mn,new i.FiY,new i.tp0]]},{provide:Cn,useValue:n||{}},{provide:r.S$,useFactory:Nn,deps:[r.lw,[new i.tBr(r.mr),new i.FiY],Cn]},{provide:In,useFactory:Dn,deps:[mn,r.EM,Cn]},{provide:Sn,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:En},{provide:i.PXZ,multi:!0,useFactory:On},[Ln,{provide:i.ip1,multi:!0,useFactory:Mn,deps:[Ln]},{provide:Un,useFactory:Fn,deps:[Ln]},{provide:i.tb,multi:!0,useExisting:Un}]]}}static forChild(e){return{ngModule:t,providers:[Pn(e)]}}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(xn,8),i.LFG(mn,8))},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})();function Dn(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new In(t,e,n)}function Nn(t,e,n={}){return n.useHash?new r.Do(t,e):new r.b0(t,e)}function Rn(t){return"guarded"}function Pn(t){return[{provide:i.deG,multi:!0,useValue:t},{provide:sn,multi:!0,useValue:t}]}let Ln=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new g.xQ}appInitializer(){return this.injector.get(r.V_,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(mn),r=this.injector.get(Cn);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?(0,c.of)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Cn),n=this.injector.get(Tn),r=this.injector.get(In),o=this.injector.get(mn),s=this.injector.get(i.z2F);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),r.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.zs3))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();function Mn(t){return t.appInitializer.bind(t)}function Fn(t){return t.bootstrapListener.bind(t)}const Un=new i.OlP("Router Initializer")},1062:(t,e,n)=>{"use strict";n.d(e,{Z:()=>_});var r,i,o=n(4762),s=n(250),a=n(5119),u=n(308),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.LL("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Yd("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=(0,s.p$)(t),this.container=new a.H0(e.name),this._addComponent(new a.wA("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=f),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if((0,s.r3)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new a.wA(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.Ub,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");(0,u.Am)(t,e)},apps:null,SDK_VERSION:"8.6.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!(0,s.r3)(e,t=t||f))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&(0,s.ZB)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=(0,o.pi)((0,o.pi)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){(0,s.ZB)(e,t)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if((0,s.jU)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,s.UG)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=m;!function(t,e){t.INTERNAL.registerComponent(new a.wA("platform-logger",function(t){return new v(t)},"PRIVATE")),t.registerVersion(h,"0.6.22",void 0),t.registerVersion("fire-js","")}(w);const _=w},5119:(t,e,n)=>{"use strict";n.d(e,{wA:()=>o,H0:()=>u});var r=n(4762),i=n(250),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.BH;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=(0,r.pi)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(n)return null;throw o}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(h){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=(0,r.CR)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,function(){var t;return(0,r.Jh)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),(0,r.CR)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.instanceIdentifier,o=t.options,a=void 0===o?{}:o,u=this.normalizeInstanceIdentifier(void 0===i?s:i);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var c=this.getOrInitializeService({instanceIdentifier:u,options:a});try{for(var l=(0,r.XA)(this.instancesDeferred.entries()),h=l.next();!h.done;h=l.next()){var f=(0,r.CR)(h.value,2),d=f[1];u===this.normalizeInstanceIdentifier(f[0])&&d.resolve(c)}}catch(p){e={error:p}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(c,u),c},t.prototype.onInit=function(t){var e=this;return this.onInitCallbacks.add(t),function(){e.onInitCallbacks.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i;try{for(var o=(0,r.XA)(this.onInitCallbacks),s=o.next();!s.done;s=o.next()){var a=s.value;try{a(t,e)}catch(u){}}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===s?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},308:(t,e,n)=>{"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,{in:()=>s,Yd:()=>h,Ub:()=>f,Am:()=>d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},250:(t,e,n)=>{"use strict";n.d(e,{BH:()=>a,LL:()=>b,r3:()=>S,Sg:()=>u,ne:()=>E,p$:()=>o,ZB:()=>s,m9:()=>C,z$:()=>c,jU:()=>f,ru:()=>d,d:()=>g,w1:()=>m,uI:()=>l,UG:()=>h,b$:()=>p,Mn:()=>v});var r=n(4762),i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function o(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var a=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function u(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",o=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=(0,r.pi)({iss:"https://securetoken.google.com/"+n,aud:n,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[i.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),i.encodeString(JSON.stringify(a),!1),""].join(".")}function c(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function l(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(c())}function h(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function f(){return"object"==typeof self&&self.self===self}function d(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function p(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function g(){return c().indexOf("Electron/")>=0}function m(){var t=c();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function v(){return c().indexOf("MSAppHost/")>=0}var y=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,b.prototype.create),o}return(0,r.ZT)(e,t),e}(Error),b=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?w(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new y(i,a,r);return u},t}();function w(t,e){return t.replace(_,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var _=/\{\$([^}]+)}/g;function S(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function E(t,e){var n=new T(t,e);return n.subscribe.bind(n)}var T=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=I),void 0===r.error&&(r.error=I),void 0===r.complete&&(r.complete=I);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function I(){}function C(t){return t&&t._delegate?t._delegate:t}},1949:(t,e,n)=>{"use strict";n.d(e,{zi:()=>G,QM:()=>j,k9:()=>$,rX:()=>q,gr:()=>U,Rj:()=>B,tZ:()=>y,QX:()=>K,J$:()=>H,jY:()=>b,Pf:()=>w,yl:()=>M,ZZ:()=>F,RC:()=>z});var r=n(7368),i=n(4762),o=n(4154),s=n(6019),a=n(8318),u=n(9764),c=n(3080),l=n(878),h=(n(1225),n(9624)),f=(n(1116),n(3179)),d=n(9996),p=n(4689),g=n(611),m=n(6599),v=n(1858);t=n.hmd(t);let y=(()=>{class t{constructor(t,e){this.ngZone=t,this.router=e,this.options={},this.integrations={},this.loading=!1,this.menuVisible=!1,this.backwardEnabled=!1,this.routeUrl="/",this.previousRoutes=[],this.i18nOrigins={},this.onRefreshRouterLink=new s.t(1)}init(t={},e={},n={},r){if(this.options=t,this.integrations=e,r){const{routes:t,routeTranslations:e}=r;this.i18nRouting={},t.forEach(t=>{const n=t.path,r=n.split("/").filter(t=>!!t),i=e[n],o={};i&&Object.keys(i).forEach(t=>{const e=i[t];if(!0===e)o[t]=r,this.i18nOrigins[r[0]]=t;else{const n=e.split("/").filter(t=>!!t);o[t]=n,this.i18nOrigins[n[0]]=t}}),Object.keys(o).forEach(t=>{var e;const n=o[t][0];(null===(e=this.i18nRouting)||void 0===e?void 0:e[n])||(this.i18nRouting[n]=o)})}),this.options.i18nRedirect&&this.integrations.settingService&&this.integrations.settingService.onLocaleChanged.subscribe(t=>{this.onRefreshRouterLink.next();const{url:e,extras:n}=this.parseRouterUrl(this.router.url),r=e.substr(1).split("/").shift();""!==r&&this.i18nOrigins[r]!==t&&this.ngZone.run(()=>this.navigate(e,{extras:n,locale:t,backwardable:!1}))})}return this.router.events.subscribe(t=>(0,i.mG)(this,void 0,void 0,function*(){let e="";if(t instanceof o.xV)e="RouteConfigLoadStart",this.loadingIndicatorTimer=setTimeout(()=>this.showLoadingIndicator(),1e3);else if(t instanceof o.GH)e="RouteConfigLoadEnd",this.loadingIndicatorTimer&&(clearTimeout(this.loadingIndicatorTimer),setTimeout(()=>this.hideLoadingIndicator(),1e3));else if(t instanceof o.m2&&(e="NavigationEnd",this.routeUrl=this.router.url,this.onRefreshRouterLink.next(),this.backwardEnabled)){const e=t.urlAfterRedirects,n=this.previousRoutes[this.previousRoutes.length-2];!(null==n?void 0:n.url)||(null==n?void 0:n.url)&&e!==(null==n?void 0:n.url)?this.previousRoutes.push({url:e,title:this.routeTitle,data:this.routeData?Object.assign({},this.routeData):void 0,extras:this.routeExtras?Object.assign({},this.routeExtras):void 0}):this.previousRoutes.pop(),this.previousRoutes.length<=1&&(this.previousRoutes=[],this.backwardEnabled=!1)}(n[e]||(t=>t))(t)})),this}isActive(t,e=!1){return this.router.isActive(t,e)}isRouteActive(t,e=!1,n){const r=this.getRouteUrl(t,n);return this.isActive(r,e)}isBackwardable(){return this.backwardEnabled&&this.previousRoutes.length>1&&""!==this.router.url&&"/"!==this.router.url}getMenuIcon(t="icon-menu",e="icon-back"){return this.isBackwardable()?e:t}showLoadingIndicator(){this.loading=!0}hideLoadingIndicator(){this.loading=!1}getRoute(t,e){var n;if(0===t.length||""===t[0]||1===t.length&&"/"===t[0])return[""];if(this.i18nRouting){const r=e||(null===(n=this.integrations.settingService)||void 0===n?void 0:n.locale)||"en-US",i=("string"==typeof t?t.split("/"):t.map(t=>t.startsWith("/")?t.substr(1):t)).filter(t=>!!t),o=(this.i18nRouting[i[0]]||{})[r];return o?i.map((t,e)=>(o[e]||":").startsWith(":")?t:o[e]):i}return"string"==typeof t?t.split("/"):t}getRouteUrl(t,e){return this.getRoute(t,e).join("/")}menuAction(){return this.isBackwardable()?this.back():this.toggleMenu()}toggleMenu(){this.menuVisible=!this.menuVisible}back(){const t=this.previousRoutes[this.previousRoutes.length-2];if(!t)return;const{url:e,title:n,data:r,extras:i}=t;return this.navigate(e,{title:n,data:r,extras:i})}navigate(t,e={}){const{title:n,data:r,extras:i,backwardable:o,locale:s}=e;return void 0!==o&&(this.backwardEnabled=o),this.backwardEnabled?this.previousRoutes.length||this.previousRoutes.push({url:this.router.url,title:this.routeTitle,data:this.routeData?Object.assign({},this.routeData):void 0,extras:this.routeExtras?Object.assign({},this.routeExtras):void 0}):this.previousRoutes=[],this.routeTitle=n,this.routeData=r,this.routeExtras=i,this.router.navigate(this.getRoute(t,s),i)}scrollToTop(){return this.scrollTo(document.body)}scrollTo(t){const e="string"==typeof t?document.getElementById(t):t;return null==e?void 0:e.scrollIntoView({behavior:"smooth"})}parseRouterUrl(t){const e=new URL(`https://lamnhan.com${t}`),n=e.pathname,r=e.hash?e.hash.replace("#",""):void 0,i={};return e.searchParams.forEach((t,e)=>i[e]=t),{url:n,extras:{fragment:r,queryParams:i}}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.R0b),r.LFG(o.F0))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(r.R0b),r.LFG(o.F0))},token:t,providedIn:"root"}),t})(),b=(()=>{class t{constructor(t){this.navService=t,this.input=[],this.activeClasses=[],this.activeOptions={}}set usefulRouteTitle(t){this.title=t}set usefulRouteData(t){this.data=t}set usefulRouteExtras(t){this.extras=t}set usefulRouterLink(t){t&&t.subscribe?this.inputBuilder=t:this.input=t||[]}set usefulRouterBackwardable(t){this.backwardable=t}set usefulRouterLocale(t){this.locale=t}set usefulRouterLinkActive(t){this.activeClasses=t?"string"==typeof t?t.split(" ").filter(t=>!!t):t:[]}set usefulRouterLinkActiveOptions(t){this.activeOptions=t||{}}onClick(){return this.navService.navigate(this.input,{title:this.title,data:this.data,extras:this.extras,backwardable:this.backwardable,locale:this.locale}),!1}ngOnInit(){this.refreshSubscription=this.navService.onRefreshRouterLink.subscribe(()=>this.updateTargetAttributes()),this.inputBuilder&&(this.builderSubscription=this.inputBuilder.subscribe(t=>{this.input=t,this.updateTargetAttributes()}))}ngOnChanges(){this.updateTargetAttributes()}ngOnDestroy(){this.refreshSubscription.unsubscribe(),this.builderSubscription&&this.builderSubscription.unsubscribe()}updateTargetAttributes(){this.href=this.navService.getRouteUrl(this.input,this.locale);const{exact:t,also:e}=this.activeOptions;let n=this.navService.isActive(this.href,!!t);e&&e.forEach(e=>{this.navService.isRouteActive(e,!!t,this.locale)&&(n=!0)}),this.class=n?this.activeClasses:""}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(y))},t.\u0275dir=r.lG2({type:t,selectors:[["a","usefulRouterLink",""]],hostVars:3,hostBindings:function(t,e){1&t&&r.NdJ("click",function(){return e.onClick()}),2&t&&(r.Ikx("href",e.href,r.LSH),r.Tol(e.class))},inputs:{usefulRouteTitle:"usefulRouteTitle",usefulRouteData:"usefulRouteData",usefulRouteExtras:"usefulRouteExtras",usefulRouterLink:"usefulRouterLink",usefulRouterBackwardable:"usefulRouterBackwardable",usefulRouterLocale:"usefulRouterLocale",usefulRouterLinkActive:"usefulRouterLinkActive",usefulRouterLinkActiveOptions:"usefulRouterLinkActiveOptions"},features:[r.TTD]}),t})(),w=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();function _(t,e){const n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function S(t,e,n,r,i,o){return _((s=_(_(e,t),_(r,o)))<<(a=i)|s>>>32-a,n);var s,a}function E(t,e,n,r,i,o,s){return S(e&n|~e&r,t,e,i,o,s)}function T(t,e,n,r,i,o,s){return S(e&r|n&~r,t,e,i,o,s)}function I(t,e,n,r,i,o,s){return S(e^n^r,t,e,i,o,s)}function C(t,e,n,r,i,o,s){return S(n^(e|~r),t,e,i,o,s)}function x(t,e){let n,r,i,o,s;t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;let a=1732584193,u=-271733879,c=-1732584194,l=271733878;for(n=0;n<t.length;n+=16)r=a,i=u,o=c,s=l,a=E(a,u,c,l,t[n],7,-680876936),l=E(l,a,u,c,t[n+1],12,-389564586),c=E(c,l,a,u,t[n+2],17,606105819),u=E(u,c,l,a,t[n+3],22,-1044525330),a=E(a,u,c,l,t[n+4],7,-176418897),l=E(l,a,u,c,t[n+5],12,1200080426),c=E(c,l,a,u,t[n+6],17,-1473231341),u=E(u,c,l,a,t[n+7],22,-45705983),a=E(a,u,c,l,t[n+8],7,1770035416),l=E(l,a,u,c,t[n+9],12,-1958414417),c=E(c,l,a,u,t[n+10],17,-42063),u=E(u,c,l,a,t[n+11],22,-1990404162),a=E(a,u,c,l,t[n+12],7,1804603682),l=E(l,a,u,c,t[n+13],12,-40341101),c=E(c,l,a,u,t[n+14],17,-1502002290),u=E(u,c,l,a,t[n+15],22,1236535329),a=T(a,u,c,l,t[n+1],5,-165796510),l=T(l,a,u,c,t[n+6],9,-1069501632),c=T(c,l,a,u,t[n+11],14,643717713),u=T(u,c,l,a,t[n],20,-373897302),a=T(a,u,c,l,t[n+5],5,-701558691),l=T(l,a,u,c,t[n+10],9,38016083),c=T(c,l,a,u,t[n+15],14,-660478335),u=T(u,c,l,a,t[n+4],20,-405537848),a=T(a,u,c,l,t[n+9],5,568446438),l=T(l,a,u,c,t[n+14],9,-1019803690),c=T(c,l,a,u,t[n+3],14,-187363961),u=T(u,c,l,a,t[n+8],20,1163531501),a=T(a,u,c,l,t[n+13],5,-1444681467),l=T(l,a,u,c,t[n+2],9,-51403784),c=T(c,l,a,u,t[n+7],14,1735328473),u=T(u,c,l,a,t[n+12],20,-1926607734),a=I(a,u,c,l,t[n+5],4,-378558),l=I(l,a,u,c,t[n+8],11,-2022574463),c=I(c,l,a,u,t[n+11],16,1839030562),u=I(u,c,l,a,t[n+14],23,-35309556),a=I(a,u,c,l,t[n+1],4,-1530992060),l=I(l,a,u,c,t[n+4],11,1272893353),c=I(c,l,a,u,t[n+7],16,-155497632),u=I(u,c,l,a,t[n+10],23,-1094730640),a=I(a,u,c,l,t[n+13],4,681279174),l=I(l,a,u,c,t[n],11,-358537222),c=I(c,l,a,u,t[n+3],16,-722521979),u=I(u,c,l,a,t[n+6],23,76029189),a=I(a,u,c,l,t[n+9],4,-640364487),l=I(l,a,u,c,t[n+12],11,-421815835),c=I(c,l,a,u,t[n+15],16,530742520),u=I(u,c,l,a,t[n+2],23,-995338651),a=C(a,u,c,l,t[n],6,-198630844),l=C(l,a,u,c,t[n+7],10,1126891415),c=C(c,l,a,u,t[n+14],15,-1416354905),u=C(u,c,l,a,t[n+5],21,-57434055),a=C(a,u,c,l,t[n+12],6,1700485571),l=C(l,a,u,c,t[n+3],10,-1894986606),c=C(c,l,a,u,t[n+10],15,-1051523),u=C(u,c,l,a,t[n+1],21,-2054922799),a=C(a,u,c,l,t[n+8],6,1873313359),l=C(l,a,u,c,t[n+15],10,-30611744),c=C(c,l,a,u,t[n+6],15,-1560198380),u=C(u,c,l,a,t[n+13],21,1309151649),a=C(a,u,c,l,t[n+4],6,-145523070),l=C(l,a,u,c,t[n+11],10,-1120210379),c=C(c,l,a,u,t[n+2],15,718787259),u=C(u,c,l,a,t[n+9],21,-343485551),a=_(a,r),u=_(u,i),c=_(c,o),l=_(l,s);return[a,u,c,l]}function A(t){let e,n="";const r=32*t.length;for(e=0;e<r;e+=8)n+=String.fromCharCode(t[e>>5]>>>e%32&255);return n}function O(t){let e;const n=[];for(n[(t.length>>2)-1]=void 0,e=0;e<n.length;e+=1)n[e]=0;const r=8*t.length;for(e=0;e<r;e+=8)n[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return n}function k(t){const e="0123456789abcdef";let n,r,i="";for(r=0;r<t.length;r+=1)n=t.charCodeAt(r),i+=e.charAt(n>>>4&15)+e.charAt(15&n);return i}function D(t){return unescape(encodeURIComponent(t))}function N(t){return function(t){return A(x(O(t),8*t.length))}(D(t))}function R(t,e){return function(t,e){let n,r=O(t);const i=[],o=[];let s;for(i[15]=o[15]=void 0,r.length>16&&(r=x(r,8*t.length)),n=0;n<16;n+=1)i[n]=909522486^r[n],o[n]=1549556828^r[n];return s=x(i.concat(O(e)),512+8*e.length),A(x(o.concat(s),640))}(D(t),D(e))}function P(e,n,r,i){var o="__lodash_hash_undefined__",s=9007199254740991,a="[object Arguments]",u="[object Array]",c="[object Boolean]",l="[object Date]",h="[object Error]",f="[object Function]",d="[object Map]",p="[object Number]",g="[object Object]",m="[object Promise]",v="[object RegExp]",y="[object Set]",b="[object String]",w="[object Symbol]",_="[object WeakMap]",S="[object ArrayBuffer]",E="[object DataView]",T=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,I=/^\w*$/,C=/^\./,x=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,A=/\\(\\)?/g,O=/^\[object .+?Constructor\]$/,k=/^(?:0|[1-9]\d*)$/,D={};D["[object Float32Array]"]=D["[object Float64Array]"]=D["[object Int8Array]"]=D["[object Int16Array]"]=D["[object Int32Array]"]=D["[object Uint8Array]"]=D["[object Uint8ClampedArray]"]=D["[object Uint16Array]"]=D["[object Uint32Array]"]=!0,D[a]=D[u]=D[S]=D[c]=D[E]=D[l]=D[h]=D[f]=D[d]=D[p]=D[g]=D[v]=D[y]=D[b]=D[_]=!1;var N="object"==typeof global&&global&&global.Object===Object&&global,R=N||Function("return this")(),P="object"==typeof exports&&exports&&!exports.nodeType&&exports,L=P&&t&&!t.nodeType&&t,M=L&&L.exports===P&&N.process,F=function(){try{return M&&M.binding("util")}catch(t){}}(),U=F&&F.isTypedArray;function j(t,e){for(var n=-1,r=t?t.length:0,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function V(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(e(t[n],n,t))return!0;return!1}function q(t){return function(e){return t(e)}}function B(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function G(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function z(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var H,$,K,Z=Array.prototype,W=Function.prototype,Y=Object.prototype,Q=R["__core-js_shared__"],J=(H=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||""))?"Symbol(src)_1."+H:"",X=W.toString,tt=Y.hasOwnProperty,et=Y.toString,nt=RegExp("^"+X.call(tt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rt=R.Symbol,it=R.Uint8Array,ot=Y.propertyIsEnumerable,st=Z.splice,at=($=Object.keys,K=Object,function(t){return $(K(t))}),ut=jt(R,"DataView"),ct=jt(R,"Map"),lt=jt(R,"Promise"),ht=jt(R,"Set"),ft=jt(R,"WeakMap"),dt=jt(Object,"create"),pt=Kt(ut),gt=Kt(ct),mt=Kt(lt),vt=Kt(ht),yt=Kt(ft),bt=rt?rt.prototype:void 0,wt=bt?bt.valueOf:void 0,_t=bt?bt.toString:void 0;function St(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Et(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Tt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function It(t){var e=-1,n=t?t.length:0;for(this.__data__=new Tt;++e<n;)this.add(t[e])}function Ct(t){this.__data__=new Et(t)}function xt(t,e){for(var n=t.length;n--;)if(Wt(t[n][0],e))return n;return-1}St.prototype.clear=function(){this.__data__=dt?dt(null):{}},St.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},St.prototype.get=function(t){var e=this.__data__;if(dt){var n=e[t];return n===o?void 0:n}return tt.call(e,t)?e[t]:void 0},St.prototype.has=function(t){var e=this.__data__;return dt?void 0!==e[t]:tt.call(e,t)},St.prototype.set=function(t,e){return this.__data__[t]=dt&&void 0===e?o:e,this},Et.prototype.clear=function(){this.__data__=[]},Et.prototype.delete=function(t){var e=this.__data__,n=xt(e,t);return!(n<0||(n==e.length-1?e.pop():st.call(e,n,1),0))},Et.prototype.get=function(t){var e=this.__data__,n=xt(e,t);return n<0?void 0:e[n][1]},Et.prototype.has=function(t){return xt(this.__data__,t)>-1},Et.prototype.set=function(t,e){var n=this.__data__,r=xt(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},Tt.prototype.clear=function(){this.__data__={hash:new St,map:new(ct||Et),string:new St}},Tt.prototype.delete=function(t){return Ut(this,t).delete(t)},Tt.prototype.get=function(t){return Ut(this,t).get(t)},Tt.prototype.has=function(t){return Ut(this,t).has(t)},Tt.prototype.set=function(t,e){return Ut(this,t).set(t,e),this},It.prototype.add=It.prototype.push=function(t){return this.__data__.set(t,o),this},It.prototype.has=function(t){return this.__data__.has(t)},Ct.prototype.clear=function(){this.__data__=new Et},Ct.prototype.delete=function(t){return this.__data__.delete(t)},Ct.prototype.get=function(t){return this.__data__.get(t)},Ct.prototype.has=function(t){return this.__data__.has(t)},Ct.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Et){var r=n.__data__;if(!ct||r.length<199)return r.push([t,e]),this;n=this.__data__=new Tt(r)}return n.set(t,e),this};var At,Ot=(At=function(t,e){return t&&kt(t,e,oe)},function(t,e){if(null==t)return t;if(!Jt(t))return At(t,e);for(var n=t.length,r=-1,i=Object(t);++r<n&&!1!==e(i[r],r,i););return t}),kt=function(t,e,n){for(var r=-1,i=Object(t),o=n(t),s=o.length;s--;){var a=o[++r];if(!1===e(i[a],a,i))break}return t};function Dt(t,e){for(var n=0,r=(e=Bt(e,t)?[e]:Lt(e)).length;null!=t&&n<r;)t=t[$t(e[n++])];return n&&n==r?t:void 0}function Nt(t,e){return null!=t&&e in Object(t)}function Rt(t,e,n,r,i){return t===e||(null==t||null==e||!ee(t)&&!ne(e)?t!=t&&e!=e:function(t,e,n,r,i,o){var s=Qt(t),f=Qt(e),m=u,_=u;s||(m=(m=Vt(t))==a?g:m),f||(_=(_=Vt(e))==a?g:_);var T=m==g&&!B(t),I=_==g&&!B(e),C=m==_;if(C&&!T)return o||(o=new Ct),s||ie(t)?Ft(t,e,n,r,i,o):function(t,e,n,r,i,o,s){switch(n){case E:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case S:return!(t.byteLength!=e.byteLength||!r(new it(t),new it(e)));case c:case l:case p:return Wt(+t,+e);case h:return t.name==e.name&&t.message==e.message;case v:case b:return t==e+"";case d:var a=G;case y:if(a||(a=z),t.size!=e.size&&!(2&o))return!1;var u=s.get(t);if(u)return u==e;o|=1,s.set(t,e);var f=Ft(a(t),a(e),r,i,o,s);return s.delete(t),f;case w:if(wt)return wt.call(t)==wt.call(e)}return!1}(t,e,m,n,r,i,o);if(!(2&i)){var x=T&&tt.call(t,"__wrapped__"),A=I&&tt.call(e,"__wrapped__");if(x||A){var O=x?t.value():t,k=A?e.value():e;return o||(o=new Ct),n(O,k,r,i,o)}}return!!C&&(o||(o=new Ct),function(t,e,n,r,i,o){var s=2&i,a=oe(t),u=a.length;if(u!=oe(e).length&&!s)return!1;for(var c=u;c--;){var l=a[c];if(!(s?l in e:tt.call(e,l)))return!1}var h=o.get(t);if(h&&o.get(e))return h==e;var f=!0;o.set(t,e),o.set(e,t);for(var d=s;++c<u;){var p=t[l=a[c]],g=e[l];if(r)var m=s?r(g,p,l,e,t,o):r(p,g,l,t,e,o);if(!(void 0===m?p===g||n(p,g,r,i,o):m)){f=!1;break}d||(d="constructor"==l)}if(f&&!d){var v=t.constructor,y=e.constructor;v==y||!("constructor"in t)||!("constructor"in e)||"function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y||(f=!1)}return o.delete(t),o.delete(e),f}(t,e,n,r,i,o))}(t,e,Rt,n,r,i))}function Pt(t){return"function"==typeof t?t:null==t?se:"object"==typeof t?Qt(t)?function(t,e){return Bt(t)&&Gt(e)?zt($t(t),e):function(n){var r=function(t,e,n){var r=null==t?void 0:Dt(t,e);return void 0===r?void 0:r}(n,t);return void 0===r&&r===e?function(t,e){return null!=t&&function(t,e,n){for(var r,i=-1,o=(e=Bt(e,t)?[e]:Lt(e)).length;++i<o;){var s=$t(e[i]);if(!(r=null!=t&&n(t,s)))break;t=t[s]}return r||!!(o=t?t.length:0)&&te(o)&&qt(s,o)&&(Qt(t)||Yt(t))}(t,e,Nt)}(n,t):Rt(e,r,void 0,3)}}(t[0],t[1]):1==(n=function(t){for(var e=oe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Gt(i)]}return e}(e=t)).length&&n[0][2]?zt(n[0][0],n[0][1]):function(t){return t===e||function(t,e,n,r){var i=n.length,o=i;if(null==t)return!o;for(t=Object(t);i--;){var s=n[i];if(s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){var a=(s=n[i])[0],u=t[a];if(s[2]){if(void 0===u&&!(a in t))return!1}else if(!Rt(s[1],u,undefined,3,new Ct))return!1}return!0}(t,0,n)}:Bt(r=t)?(i=$t(r),function(t){return null==t?void 0:t[i]}):function(t){return function(e){return Dt(e,t)}}(r);var e,n,r,i}function Lt(t){return Qt(t)?t:Ht(t)}function Mt(t,e){if(t!==e){var n=void 0!==t,r=null===t,i=t==t,o=re(t),s=void 0!==e,a=null===e,u=e==e,c=re(e);if(!a&&!c&&!o&&t>e||o&&s&&u&&!a&&!c||r&&s&&u||!n&&u||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!u)return-1}return 0}function Ft(t,e,n,r,i,o){var s=2&i,a=t.length,u=e.length;if(a!=u&&!(s&&u>a))return!1;var c=o.get(t);if(c&&o.get(e))return c==e;var l=-1,h=!0,f=1&i?new It:void 0;for(o.set(t,e),o.set(e,t);++l<a;){var d=t[l],p=e[l];if(r)var g=s?r(p,d,l,e,t,o):r(d,p,l,t,e,o);if(void 0!==g){if(g)continue;h=!1;break}if(f){if(!V(e,function(t,e){if(!f.has(e)&&(d===t||n(d,t,r,i,o)))return f.add(e)})){h=!1;break}}else if(d!==p&&!n(d,p,r,i,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function Ut(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function jt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!ee(t)||function(t){return!!J&&J in t}(t))&&(Xt(t)||B(t)?nt:O).test(Kt(t))}(n)?n:void 0}var Vt=function(t){return et.call(t)};function qt(t,e){return!!(e=null==e?s:e)&&("number"==typeof t||k.test(t))&&t>-1&&t%1==0&&t<e}function Bt(t,e){if(Qt(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!re(t))||I.test(t)||!T.test(t)||null!=e&&t in Object(e)}function Gt(t){return t==t&&!ee(t)}function zt(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}(ut&&Vt(new ut(new ArrayBuffer(1)))!=E||ct&&Vt(new ct)!=d||lt&&Vt(lt.resolve())!=m||ht&&Vt(new ht)!=y||ft&&Vt(new ft)!=_)&&(Vt=function(t){var e=et.call(t),n=e==g?t.constructor:void 0,r=n?Kt(n):void 0;if(r)switch(r){case pt:return E;case gt:return d;case mt:return m;case vt:return y;case yt:return _}return e});var Ht=Zt(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(re(t))return _t?_t.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(e);var n=[];return C.test(t)&&n.push(""),t.replace(x,function(t,e,r,i){n.push(r?i.replace(A,"$1"):e||t)}),n});function $t(t){if("string"==typeof t||re(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Kt(t){if(null!=t){try{return X.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Zt(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s),s};return n.cache=new(Zt.Cache||Tt),n}function Wt(t,e){return t===e||t!=t&&e!=e}function Yt(t){return function(t){return ne(t)&&Jt(t)}(t)&&tt.call(t,"callee")&&(!ot.call(t,"callee")||et.call(t)==a)}Zt.Cache=Tt;var Qt=Array.isArray;function Jt(t){return null!=t&&te(t.length)&&!Xt(t)}function Xt(t){var e=ee(t)?et.call(t):"";return e==f||"[object GeneratorFunction]"==e}function te(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=s}function ee(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function ne(t){return!!t&&"object"==typeof t}function re(t){return"symbol"==typeof t||ne(t)&&et.call(t)==w}var ie=U?q(U):function(t){return ne(t)&&te(t.length)&&!!D[et.call(t)]};function oe(t){return Jt(t)?function(t,e){var n=Qt(t)||Yt(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,i=!!r;for(var o in t)!tt.call(t,o)||i&&("length"==o||qt(o,r))||n.push(o);return n}(t):function(t){if((e=t)!==("function"==typeof(n=e&&e.constructor)&&n.prototype||Y))return at(t);var e,n,r=[];for(var i in Object(t))tt.call(t,i)&&"constructor"!=i&&r.push(i);return r}(t)}function se(t){return t}return function(t,e,n,r){return null==t?[]:(Qt(e)||(e=null==e?[]:[e]),Qt(n=r?void 0:n)||(n=null==n?[]:[n]),function(t,e,n){var r=-1;return e=j(e.length?e:[se],q(Pt)),function(t,e){var r=t.length;for(t.sort(function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var u=Mt(i[r],o[r]);if(u)return r>=a?u:u*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)});r--;)t[r]=t[r].value;return t}(function(t,e){var n=-1,r=Jt(t)?Array(t.length):[];return Ot(t,function(t,i,o){r[++n]=e(t)}),r}(t,function(t,n,i){return{criteria:j(e,function(e){return e(t)}),index:++r,value:t}}))}(t,e,n))}(e,n,r,i)}let L=(()=>{class t{constructor(){}md5(t,e,n){return function(t,e,n=!1){return e?n?R(e,t):k(R(e,t)):n?N(t):k(N(t))}(t,e,n)}orderBy(t,e,n,r){return P(t,e,n,r)}retryInterval(t,e=1,n=7){return new a.y(r=>{const i=e=>{t()&&(clearInterval(e),r.next(!0),r.complete())},o=setInterval(()=>i(o),1e3*e);i(o),setTimeout(()=>{clearInterval(o),r.complete()},1e3*n)})}o1i(t,e=!1){const n=Object.keys(t).shift();if(!n)return null;const r=t[n];return e?Object.assign({},r):r}o2a(t,e=!1,n){let r=[];e&&(t=Object.assign({},t||{}));for(const i of Object.keys(t))r.push(t[i]);return n&&r.splice(n,r.length),r}cleanupStr(t){return t.toLowerCase().replace(/\xe0|\xe1|\u1ea1|\u1ea3|\xe3|\xe2|\u1ea7|\u1ea5|\u1ead|\u1ea9|\u1eab|\u0103|\u1eb1|\u1eaf|\u1eb7|\u1eb3|\u1eb5/g,"a").replace(/\xe8|\xe9|\u1eb9|\u1ebb|\u1ebd|\xea|\u1ec1|\u1ebf|\u1ec7|\u1ec3|\u1ec5/g,"e").replace(/\xec|\xed|\u1ecb|\u1ec9|\u0129/g,"i").replace(/\xf2|\xf3|\u1ecd|\u1ecf|\xf5|\xf4|\u1ed3|\u1ed1|\u1ed9|\u1ed5|\u1ed7|\u01a1|\u1edd|\u1edb|\u1ee3|\u1edf|\u1ee1/g,"o").replace(/\xf9|\xfa|\u1ee5|\u1ee7|\u0169|\u01b0|\u1eeb|\u1ee9|\u1ef1|\u1eed|\u1eef/g,"u").replace(/\u1ef3|\xfd|\u1ef5|\u1ef7|\u1ef9/g,"y").replace(/\u0111/g,"d")}filter(t,e,n){const r=t=>{const e=this.cleanupStr(t),n=e.replace(/\-|\_/g," "),r=e.replace(/\-|\_/g,"");return e+" | "+n+" | "+r},i=(t,e)=>{let i=t.title||t.$key;return(n||[]).forEach(e=>{const n=t[e];n&&(i=n instanceof Object?i+" "+JSON.stringify(n).replace(/\{/g,"").replace(/\"\}/g,"").replace(/\{\"/g,"").replace(/\"\:\"/g," ").replace(/\"\,\"/g," ").replace(/\"/g,""):i+" "+n)}),i=r(i),e=this.cleanupStr(e),-1!==i.indexOf(e)};return e?(t||[]).filter(t=>i(t,e)):t}decodeJWTPayloadWithoutVerification(t){const[,e]=t.split(".");return JSON.parse(atob(e))}isExpiredJWTWithoutVerification(t){const{exp:e}=this.decodeJWTPayloadWithoutVerification(t);return this.isExpiredInSeconds(e||0,60)}isExpiredInSeconds(t,e=0){return Math.ceil((new Date).getTime()/1e3)+e>=t}createPopup(t){const e=t.options||"location=0,status=0,width="+window.innerWidth+",height="+window.innerHeight,n=t.callback||(()=>!0),r=window.open(t.url||"/",t.name||"AppOAuthLogin",e),i=window.setInterval(()=>{if(r&&r.closed)return window.clearInterval(i),n()},1e3)}getHost(){let t;const e=document.getElementsByTagName("base");if(e.length)t=e[0].href;else{const[e,n]=window.location.href.split("/").filter(Boolean);t=e+"//"+n}return t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({factory:function(){return new t},token:t,providedIn:"root"}),t})(),M=(()=>{class t{constructor(t){this.sanitizer=t}transform(t,e=!0){return t?e?this.sanitizer.bypassSecurityTrustHtml(t):this.sanitizer.bypassSecurityTrustResourceUrl(t):""}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(h.H7,16))},t.\u0275pipe=r.Yjl({name:"safe",type:t,pure:!0}),t})(),F=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[]]}),t})(),U=(()=>{class t{constructor(){}init(t={}){return this.localforage=(0,f.createInstance)(Object.assign({name:"APP_LOCAL_STORAGE"},t)),this}getLocalforage(){if(!this.localforage)throw new Error("No localforage instance, please init first!");return this.localforage}set(t,e){return(0,u.D)(this.getLocalforage().setItem(t,e))}setBulk(t){const e=Object.keys(t).map(e=>this.set(e,t[e]));return(0,c.aj)(e)}increment(t,e=1){return(0,u.D)(((t,e)=>(0,i.mG)(this,void 0,void 0,function*(){const n=+((yield this.getLocalforage().getItem(t))||0)+e;return yield this.getLocalforage().setItem(t,n),n}))(t,e))}get(t){return(0,u.D)(this.getLocalforage().getItem(t))}getBulk(t){return(0,u.D)((t=>(0,i.mG)(this,void 0,void 0,function*(){const e=[];for(let n=0;n<t.length;n++){const r=yield this.getLocalforage().getItem(t[n]);e.push(r)}return e}))(t))}iterate(t){return(0,u.D)(this.getLocalforage().iterate(t))}iterateKeys(t){return(0,u.D)((t=>(0,i.mG)(this,void 0,void 0,function*(){const e=yield this.getLocalforage().keys();for(let n=0;n<e.length;n++)yield t(e[n],n)}))(t))}remove(t){return(0,u.D)(this.getLocalforage().removeItem(t))}removeBulk(t){return(0,u.D)((t=>(0,i.mG)(this,void 0,void 0,function*(){for(let e=0;e<t.length;e++)yield this.getLocalforage().removeItem(t[e])}))(t))}removeByPrefix(t){return(0,u.D)((t=>(0,i.mG)(this,void 0,void 0,function*(){const e=yield this.getLocalforage().keys();for(let n=0;n<e.length;n++)e[n].substr(0,t.length)===t&&(yield this.getLocalforage().removeItem(e[n]))}))(t))}removeBySuffix(t){return(0,u.D)((t=>(0,i.mG)(this,void 0,void 0,function*(){const e=yield this.getLocalforage().keys();for(let n=0;n<e.length;n++)e[n].substr(-t.length)===t&&(yield this.getLocalforage().removeItem(e[n]))}))(t))}clear(){return(0,u.D)(this.getLocalforage().clear())}keys(){return(0,u.D)(this.getLocalforage().keys())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({factory:function(){return new t},token:t,providedIn:"root"}),t})(),j=(()=>{class t{constructor(){}init(t={}){return this.localstorage=(new U).init(Object.assign({name:"APP_LOCAL_CACHE"},t)),this}caching(t,e,n){return new V(this,t,e,n)}set(t,e,n){return this.localstorage.setBulk({[t+"__expiration"]:(new Date).getTime()+6e4*Math.abs(n),[t]:e}).pipe((0,d.U)(()=>e))}get(t,e,n){return this.localstorage.getBulk([`${t}__expiration`,t]).pipe((0,p.w)(r=>{const[i,o]=r,s=(0,l.of)(o),a=e?e.pipe((0,p.w)(e=>e&&n?this.set(t,e,n):s),(0,g.q)(1)):s;return o?(!i||i<=(new Date).getTime())&&e?a:s:e?a:s}))}iterate(t){return this.localstorage.iterate(t)}iterateKeys(t){return this.localstorage.iterateKeys(t)}remove(t,e=!1){const n=[t+"__expiration"];return e||n.push(t),this.localstorage.removeBulk(n)}removeBulk(t){const e=[];return t.forEach(t=>e.push(t+"__expiration",t)),this.localstorage.removeBulk(e)}removeByPrefix(t){return this.localstorage.removeByPrefix(t)}removeBySuffix(t){return this.localstorage.removeBySuffix(t)}flush(){return this.localstorage.clear()}flushExpired(){return this.localstorage.iterateKeys(t=>(0,i.mG)(this,void 0,void 0,function*(){if(-1!==t.indexOf("__expiration")){const e=yield this.localstorage.getLocalforage().getItem(t);(!e||e<=(new Date).getTime())&&(yield this.localstorage.getLocalforage().removeItem(t),yield this.localstorage.getLocalforage().removeItem(t.replace("__expiration","")))}}))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({factory:function(){return new t},token:t,providedIn:"root"}),t})();class V{constructor(t,e,n,r){this.cacheService=t,this.key=e,this.refresher=n,this.cacheTime=r,this.data=null,this.onData=new s.t(1),this.get()}get(){return this.cacheService.get(this.key,this.refresher,this.cacheTime).pipe((0,m.b)(t=>this.handleData(t)))}update(t){return(0,l.of)(t).pipe((0,m.b)(t=>this.handleData(t)))}refresh(){return this.cacheService.remove(this.key,!0).pipe((0,p.w)(()=>this.get()))}remove(){return this.cacheService.remove(this.key).pipe((0,m.b)(()=>this.handleData(null)),(0,d.U)(()=>null))}handleData(t){this.data=t,this.onData.next(this.data)}}let q=(()=>{class t{constructor(t){this.helperService=t,this.options={},this.integrations={}}init(t={},e={}){return this.options=t,this.integrations=e,this}get(t,e,n=!0){return this.fetch(t,Object.assign(Object.assign({},e),{method:"GET"}),n)}cachingGet(t,e,n,r=!0){if(!this.integrations.cacheService)throw new Error("No cache service integration.");const i=(null==e?void 0:e.time)||this.options.cacheTime||0,o=this.helperService.md5((null==e?void 0:e.name)||t);return this.integrations.cacheService.caching(`fetch/${(null==e?void 0:e.group)||"app"}/${o}`,this.get(t,n,r),i)}post(t,e){return this.fetch(t,Object.assign(Object.assign({},e),{method:"POST"}))}put(t,e){return this.fetch(t,Object.assign(Object.assign({},e),{method:"PUT"}))}patch(t,e){return this.fetch(t,Object.assign(Object.assign({},e),{method:"PATCH"}))}delete(t,e){return this.fetch(t,Object.assign(Object.assign({},e),{method:"DELETE"}))}fetch(t,e,n=!0){return(0,u.D)(((t,e,n=!0)=>(0,i.mG)(this,void 0,void 0,function*(){const r=yield fetch(t,e);if(!r.ok)throw new Error("Fetch failed!");return n?r.json():r.text()}))(t,e,n))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(L))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(L))},token:t,providedIn:"root"}),t})(),B=(()=>{class t{constructor(t,e){this.title=t,this.meta=e,this.defaultMetas={},this.metaTranslations={},this.options={},this.integrations={},this.appMetas={}}init(t,e={},n={},r={}){return this.defaultMetas=t,this.metaTranslations=r,this.options=e,this.integrations=n,this.appMetas=this.defaultMetas,this.integrations.settingService&&this.integrations.settingService.onLocaleChanged.subscribe(t=>this.appMetas=this.getAppMetas(t)),this}changePageTitle(t){return this.title.setTitle(t),this}changePageLang(t){return document.documentElement.setAttribute("lang",t),this}changePageMetas(t={},e){const n=this.processMetaData(t,e);return this.changePageTitle(n.title||"App"),this.changePageLang(n.lang||"en"),this.changeMetaTags(n),this}getAppMetas(t){var e,n;const r=t||(null===(n=null===(e=this.integrations)||void 0===e?void 0:e.settingService)||void 0===n?void 0:n.locale)||"en-US";return this.metaTranslations[r]||this.defaultMetas}processMetaData(t,e){const n=this.getAppMetas(e);return{title:t.title||n.title,description:t.description||n.description,image:t.image||n.image,url:t.url||location.href,author:t.author||n.author,lang:t.lang||n.lang,twitterCard:t.twitterCard||n.twitterCard,twitterSite:n.twitterSite,twitterCreator:t.twitterCreator||n.twitterCreator,ogType:t.ogType||n.ogType,ogSiteName:n.ogSiteName,ogLocale:t.ogLocale||n.ogLocale,fbAppId:n.fbAppId}}changeMetaTags(t){const{title:e,description:n,image:r,url:i,author:o,twitterCard:s,twitterSite:a,twitterCreator:u,ogType:c,ogSiteName:l,ogLocale:h,fbAppId:f}=t;e&&(this.meta.removeTag('itemprop="name"'),this.meta.updateTag({itemprop:"name",content:e}),this.meta.updateTag({property:"og:title",content:e})),n&&(this.meta.removeTag('itemprop="description"'),this.meta.updateTag({name:"description",content:n}),this.meta.updateTag({itemprop:"description",content:n}),this.meta.updateTag({property:"og:description",content:n})),r&&(this.meta.removeTag('itemprop="image"'),this.meta.updateTag({itemprop:"image",content:r}),this.meta.updateTag({property:"og:image",content:r})),i&&(this.meta.updateTag({property:"og:url",content:i}),this.changeHTMLLinkTags([{rel:"canonical",href:i}])),o&&this.changeHTMLLinkTags([{rel:"author",href:o}]),s&&this.meta.updateTag({name:"twitter:card",content:s}),a&&this.meta.updateTag({name:"twitter:site",content:a}),u&&this.meta.updateTag({name:"twitter:creator",content:u}),c&&this.meta.updateTag({property:"og:type",content:c}),l&&this.meta.updateTag({property:"og:site_name",content:l}),h&&this.meta.updateTag({property:"og:locale",content:h}),f&&this.meta.updateTag({property:"fb:app_id",content:f})}changeHTMLLinkTags(t){const e=window.document;for(const n of t){const{rel:t,href:r}=n;let i=e.querySelector(`link[rel=${t}]`);i||(i=e.createElement("link"),i.setAttribute("rel",t),e.head.appendChild(i)),i.setAttribute("href",r)}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(h.Dx),r.LFG(h.h_))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(h.Dx),r.LFG(h.h_))},token:t,providedIn:"root"}),t})(),G=(()=>{class t{constructor(){this.options={},this.customData={},this.host="",this.viewWidth=0,this.viewHeight=0}init(t={},e={},n){return this.options=t,this.customData=e,n&&n.subscribe(t=>this.customData=Object.assign(Object.assign({},this.customData),t)),this.setHost(),window.addEventListener("resize",()=>this.setViewport()),this.setViewport(),this}getData(t){return(this.customData||{})[t]}addData(t){return this.customData=Object.assign(Object.assign({},t),this.customData||{}),this}share(t,e,n){if(t&&e&&n)return navigator.share?navigator.share({title:t,text:e,url:n}):window.prompt("Please copy and share the url:",n);throw new Error("No title or description or url for sharing.")}hideSplashScreen(){if(this.options.splashScreen){const t=document.getElementById("string"==typeof this.options.splashScreen?this.options.splashScreen:"app-splash-screen");t&&(t.classList.add("hidden"),setTimeout(()=>{var e;return null===(e=t.parentNode)||void 0===e?void 0:e.removeChild(t)},1e3))}}setHost(){const t=((document.getElementsByTagName("base")[0]||{}).href||"").slice(0,-1);if(t)this.host=t;else{const t=window.location.href.split("/").filter(Boolean);this.host=t[0]+"//"+t[1]}}setViewport(){this.viewWidth=window.innerWidth,this.viewHeight=window.innerHeight,document.documentElement.style.setProperty("--app-view-width",`${this.viewWidth}px`),document.documentElement.style.setProperty("--app-view-height",`${this.viewHeight}px`)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({factory:function(){return new t},token:t,providedIn:"root"}),t})(),z=(()=>{class t{constructor(t){this.zone=t,this.LSK_THEME="setting_theme",this.LSK_PERSONA="setting_persona",this.LSK_LOCALE="setting_locale",this.options={},this.integrations={},this.themes=[{text:"Light",value:"light"}],this.personas=[{text:"Default",value:"default"}],this.locales=[{text:"English",value:"en-US"}],this.theme="light",this.persona="default",this.locale="en-US",this.onThemeChanged=new s.t(1),this.onPersonaChanged=new s.t(1),this.onLocaleChanged=new s.t(1)}init(t={},e={},n={}){this.options=t;const{themes:r,personas:i,locales:o}=e;return r&&(this.themes=r),i&&(this.personas=i),o&&(this.locales=o),this.integrations=n,this.onThemeChanged.next(this.theme),this.onPersonaChanged.next(this.persona),this.onLocaleChanged.next(this.locale),this.remoteLoader().pipe((0,p.w)(t=>(0,c.aj)([this.loadTheme(t.theme),this.loadPersona(t.persona),this.loadLocale(t.locale)]))).subscribe(t=>this.zone.run(()=>{const[e,n,r]=t;this.changeTheme(e),this.changePersona(n),this.changeLocale(r),this.options.onReady&&this.options.onReady()})),this}changeTheme(t){var e,n,r;this.theme!==t&&(document.body.setAttribute("data-theme",t),this.theme=t,this.integrations.localstorageService&&this.integrations.localstorageService.set(this.LSK_THEME,t),(null===(e=this.integrations.userService)||void 0===e?void 0:e.currentUser)&&(null===(r=null===(n=this.integrations.userService.data)||void 0===n?void 0:n.settings)||void 0===r?void 0:r.theme)!==t&&this.integrations.userService.updateSettings({theme:t}),this.onThemeChanged.next(t))}changePersona(t){var e,n,r;const i=!this.options.personaValidator||this.options.personaValidator(t,this.integrations.userService);this.persona!==(t=i?t:"default")&&(this.persona=t,this.integrations.localstorageService&&this.integrations.localstorageService.set(this.LSK_PERSONA,t),(null===(e=this.integrations.userService)||void 0===e?void 0:e.currentUser)&&(null===(r=null===(n=this.integrations.userService.data)||void 0===n?void 0:n.settings)||void 0===r?void 0:r.persona)!==t&&this.integrations.userService.updateSettings({persona:t}),this.onPersonaChanged.next(t))}changeLocale(t){var e,n,r;this.locale!==t&&(this.integrations.translateService&&this.integrations.translateService.setActiveLang(t),this.locale=t,this.integrations.localstorageService&&this.integrations.localstorageService.set(this.LSK_LOCALE,t),(null===(e=this.integrations.userService)||void 0===e?void 0:e.currentUser)&&(null===(r=null===(n=this.integrations.userService.data)||void 0===n?void 0:n.settings)||void 0===r?void 0:r.locale)!==t&&this.integrations.userService.updateSettings({locale:t}),this.onLocaleChanged.next(t))}remoteLoader(){return this.integrations.userService?this.integrations.userService.onUserChanged.pipe((0,p.w)(t=>(0,l.of)((null==t?void 0:t.settings)?t.settings:{}))):(0,l.of)({})}loadTheme(t){return t?(0,l.of)(t):this.integrations.localstorageService?this.integrations.localstorageService.get(this.LSK_THEME).pipe((0,p.w)(t=>(0,l.of)(t||(this.options.browserColor&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")))):(0,l.of)("light")}loadPersona(t){return t?(0,l.of)(t):this.integrations.localstorageService?this.integrations.localstorageService.get(this.LSK_PERSONA).pipe((0,p.w)(t=>(0,l.of)(t||"default"))):(0,l.of)("default")}loadLocale(t){return t?(0,l.of)(t):this.integrations.localstorageService?this.integrations.localstorageService.get(this.LSK_LOCALE).pipe((0,p.w)(t=>(0,l.of)(t||(this.options.browserLocale&&-1!==navigator.language.indexOf("-")?navigator.language:"en-US")))):(0,l.of)("en-US")}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.R0b))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(r.R0b))},token:t,providedIn:"root"}),t})(),H=(()=>{class t{constructor(){this.options={},this.integrations={},this.data={},this.name="default",this.properties={},this.menu=[],this.tabs=[]}init(t,e={},n={},r){return this.options=e,this.integrations=n,r&&(this.menuRegistry=r,Object.keys(t).forEach(e=>{const{menu:n,tabs:i}=t[e];n&&(t[e].menu=n.map(t=>"string"==typeof t?r[t]:t)),i&&(t[e].tabs=i.map(t=>"string"==typeof t?r[t]:t))})),this.data=t,this.setData("default"),this.integrations.settingService&&this.integrations.settingService.onPersonaChanged.subscribe(t=>this.setData(t)),this}get(t,e){return(this.data[e||this.name]||{})[t]||(this.data.default||{})[t]}setData(t){this.name=t,this.properties=this.data[this.name]||this.data.default||{},this.menu=this.get("menu")||[],this.tabs=this.get("tabs")||[]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({factory:function(){return new t},token:t,providedIn:"root"}),t})(),$=(()=>{class t{constructor(t){this.helperService=t,this.options={},this.integrations={},this.driver="firebase"}init(t,e={},n={}){return this.service=t,this.options=e,this.integrations=n,e.driver&&(this.driver=e.driver),this}exists(t,e){return e?this.flatCollection(t,e).pipe((0,d.U)(t=>!!(t||[]).length)):this.flatDoc(t).pipe((0,d.U)(t=>!!t))}doc(t){return this.service.doc(t)}collection(t,e){return this.service.collection(t,e)}set(t,e){return(0,u.D)(this.doc(t).set(e))}update(t,e){return(0,u.D)(this.doc(t).update(e))}increment(t,e){const n={};return Object.keys(e).forEach(t=>n[t]=v.Z.firestore.FieldValue.increment(e[t])),this.update(t,n)}delete(t){return(0,u.D)(this.doc(t).delete())}streamDoc(t,e){return new a.y(n=>e?this.collection(t,e).ref.onSnapshot(t=>n.next(1===t.docs.length?t.docs[0].data():null)):this.doc(t).ref.onSnapshot(t=>n.next(t.data())))}streamCollection(t,e){return new a.y(n=>this.collection(t,e).ref.onSnapshot(t=>n.next(t.docs.map(t=>t.data()))))}streamRecord(t,e){return new a.y(n=>this.collection(t,e).ref.onSnapshot(t=>{const e={};t.docs.forEach(t=>{const n=t.data();e[n.id]=n}),n.next(e)}))}flatDoc(t,e){return e?this.collection(t,e).get().pipe((0,d.U)(t=>1===t.docs.length?t.docs[0].data():null),(0,g.q)(1)):this.doc(t).get().pipe((0,d.U)(t=>t.data()||null),(0,g.q)(1))}flatCollection(t,e){return this.collection(t,e).get().pipe((0,d.U)(t=>t.docs.map(t=>t.data())),(0,g.q)(1))}flatRecord(t,e){return this.collection(t,e).get().pipe((0,d.U)(t=>{const e={};return t.docs.forEach(t=>{const n=t.data();e[n.id]=n}),e}),(0,g.q)(1))}getDoc(t,e,n){return!1===n?this.flatDoc(t,e):this.cacheManager(this.flatDoc(t,e),t,e,n)}getCollection(t,e,n){return!1===n?this.flatCollection(t,e):this.cacheManager(this.flatCollection(t,e),t,e,n)}getRecord(t,e,n){return!1===n?this.flatRecord(t,e):this.cacheManager(this.flatRecord(t,e),t,e,n)}cachingDoc(t,e,n){return this.cacheManager(this.flatDoc(t,e),t,e,n,!0)}cachingCollection(t,e,n){return this.cacheManager(this.flatCollection(t,e),t,e,n,!0)}cachingRecord(t,e,n){return this.cacheManager(this.flatRecord(t,e),t,e,n,!0)}cacheManager(t,e,n,r,i=!1){if(!this.integrations.cacheService)throw new Error("No cache service integration.");if(n&&!(null==r?void 0:r.name))throw new Error("Querying without a cache name.");const o=(null==r?void 0:r.time)||this.options.cacheTime||1,s=this.helperService.md5((null==r?void 0:r.name)||e),a=(null==r?void 0:r.group)||e.split("/").shift();return i?this.integrations.cacheService.caching(`database/${a}/${s}`,t,o):this.integrations.cacheService.get(`database/${a}/${s}`,t,o)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(L))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(L))},token:t,providedIn:"root"}),t})(),K=(()=>{class t extends class{constructor(t,e){this.databaseService=t,this.name=e}exists(t){return"string"==typeof t?this.databaseService.exists(`${this.name}/${t}`):this.databaseService.exists(this.name,t)}doc(t){return this.databaseService.doc(`${this.name}/${t}`)}collection(t){return this.databaseService.collection(this.name,t)}set(t,e){return this.databaseService.set(`${this.name}/${t}`,e)}add(t,e){const n=(new Date).toISOString();return this.set(t,Object.assign(Object.assign({},e),{createdAt:n,updatedAt:n}))}update(t,e){const n=(new Date).toISOString();return this.databaseService.update(`${this.name}/${t}`,Object.assign(Object.assign({},e),{updatedAt:n}))}increment(t,e){return this.databaseService.increment(`${this.name}/${t}`,e)}trash(t){return this.update(t,{status:"trash"})}delete(t){return this.databaseService.delete(`${this.name}/${t}`)}streamDoc(t){return"string"==typeof t?this.databaseService.streamDoc(`${this.name}/${t}`):this.databaseService.streamDoc(this.name,t)}streamCollection(t){return this.databaseService.streamCollection(this.name,t)}streamRecord(t){return this.databaseService.streamRecord(this.name,t)}flatDoc(t){return"string"==typeof t?this.databaseService.flatDoc(`${this.name}/${t}`):this.databaseService.flatDoc(this.name,t)}flatCollection(t){return this.databaseService.flatCollection(this.name,t)}flatRecord(t){return this.databaseService.flatRecord(this.name,t)}getDoc(t,e){return"string"==typeof t?this.databaseService.getDoc(`${this.name}/${t}`,void 0,e):this.databaseService.getDoc(this.name,t,e)}getCollection(t,e){return this.databaseService.getCollection(this.name,t,e)}getRecord(t,e){return this.databaseService.getRecord(this.name,t,e)}cachingDoc(t,e){return"string"==typeof t?this.databaseService.cachingDoc(`${this.name}/${t}`,void 0,e):this.databaseService.cachingDoc(this.name,t,e)}cachingCollection(t,e){return this.databaseService.cachingCollection(this.name,t,e)}cachingRecord(t,e){return this.databaseService.cachingRecord(this.name,t,e)}}{constructor(t){super(t,"pages")}}return t.\u0275fac=function(e){return new(e||t)(r.LFG($))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG($))},token:t,providedIn:"root"}),t})()},1858:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r.Z});var r=n(1062);r.Z.registerVersion("firebase","8.6.3","app")},3179:t=>{t.exports=function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){return i(e[s][1][t]||t)},c,c.exports,t,e,n,r)}return n[s].exports}for(var o=void 0,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){(function(t){"use strict";var n,r,i=t.MutationObserver||t.WebKitMutationObserver;if(i){var o=0,s=new i(l),a=t.document.createTextNode("");s.observe(a,{characterData:!0}),n=function(){a.data=o=++o%2}}else if(t.setImmediate||void 0===t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){l(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(l,0)};else{var u=new t.MessageChannel;u.port1.onmessage=l,n=function(){u.port2.postMessage(0)}}var c=[];function l(){var t,e;r=!0;for(var n=c.length;n;){for(e=c,c=[],t=-1;++t<n;)e[t]();n=c.length}r=!1}e.exports=function(t){1!==c.push(t)||r||n()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,n){"use strict";var r=t(1);function i(){}var o={},s=["REJECTED"],a=["FULFILLED"],u=["PENDING"];function c(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,t!==i&&d(this,t)}function l(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function h(t,e,n){r(function(){var r;try{r=e(n)}catch(i){return o.reject(t,i)}r===t?o.reject(t,new TypeError("Cannot resolve promise with itself")):o.resolve(t,r)})}function f(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function d(t,e){var n=!1;function r(e){n||(n=!0,o.reject(t,e))}function i(e){n||(n=!0,o.resolve(t,e))}var s=p(function(){e(i,r)});"error"===s.status&&r(s.value)}function p(t,e){var n={};try{n.value=t(e),n.status="success"}catch(r){n.status="error",n.value=r}return n}e.exports=c,c.prototype.catch=function(t){return this.then(null,t)},c.prototype.then=function(t,e){if("function"!=typeof t&&this.state===a||"function"!=typeof e&&this.state===s)return this;var n=new this.constructor(i);return this.state!==u?h(n,this.state===a?t:e,this.outcome):this.queue.push(new l(n,t,e)),n},l.prototype.callFulfilled=function(t){o.resolve(this.promise,t)},l.prototype.otherCallFulfilled=function(t){h(this.promise,this.onFulfilled,t)},l.prototype.callRejected=function(t){o.reject(this.promise,t)},l.prototype.otherCallRejected=function(t){h(this.promise,this.onRejected,t)},o.resolve=function(t,e){var n=p(f,e);if("error"===n.status)return o.reject(t,n.value);var r=n.value;if(r)d(t,r);else{t.state=a,t.outcome=e;for(var i=-1,s=t.queue.length;++i<s;)t.queue[i].callFulfilled(e)}return t},o.reject=function(t,e){t.state=s,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t},c.resolve=function(t){return t instanceof this?t:o.resolve(new this(i),t)},c.reject=function(t){var e=new this(i);return o.reject(e,t)},c.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);for(var s=new Array(n),a=0,u=-1,c=new this(i);++u<n;)l(t[u],u);return c;function l(t,i){e.resolve(t).then(function(t){s[i]=t,++a!==n||r||(r=!0,o.resolve(c,s))},function(t){r||(r=!0,o.reject(c,t))})}},c.race=function(t){if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var e=t.length,n=!1;if(!e)return this.resolve([]);for(var r=-1,s=new this(i);++r<e;)this.resolve(t[r]).then(function(t){n||(n=!0,o.resolve(s,t))},function(t){n||(n=!0,o.reject(s,t))});return s}},{1:1}],3:[function(t,e,n){(function(e){"use strict";"function"!=typeof e.Promise&&(e.Promise=t(2))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(t){return}}();function o(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<t.length;r+=1)n.append(t[r]);return n.getBlob(e.type)}}"undefined"==typeof Promise&&t(3);var s=Promise;function a(t,e){e&&t.then(function(t){e(null,t)},function(t){e(t)})}function u(t,e,n){"function"==typeof e&&t.then(e),"function"==typeof n&&t.catch(n)}function c(t){return"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t)),t}function l(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var h="local-forage-detect-blob-support",f=void 0,d={},p=Object.prototype.toString,g="readonly",m="readwrite";function v(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n),i=0;i<e;i++)r[i]=t.charCodeAt(i);return n}function y(t){var e=d[t.name],n={};n.promise=new s(function(t,e){n.resolve=t,n.reject=e}),e.deferredOperations.push(n),e.dbReady=e.dbReady?e.dbReady.then(function(){return n.promise}):n.promise}function b(t){var e=d[t.name].deferredOperations.pop();if(e)return e.resolve(),e.promise}function w(t,e){var n=d[t.name].deferredOperations.pop();if(n)return n.reject(e),n.promise}function _(t,e){return new s(function(n,r){if(d[t.name]=d[t.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},t.db){if(!e)return n(t.db);y(t),t.db.close()}var o=[t.name];e&&o.push(t.version);var s=i.open.apply(i,o);e&&(s.onupgradeneeded=function(e){var n=s.result;try{n.createObjectStore(t.storeName),e.oldVersion<=1&&n.createObjectStore(h)}catch(r){if("ConstraintError"!==r.name)throw r;console.warn('The database "'+t.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+t.storeName+'" already exists.')}}),s.onerror=function(t){t.preventDefault(),r(s.error)},s.onsuccess=function(){n(s.result),b(t)}})}function S(t){return _(t,!1)}function E(t){return _(t,!0)}function T(t,e){if(!t.db)return!0;var n=!t.db.objectStoreNames.contains(t.storeName),r=t.version>t.db.version;if(t.version<t.db.version&&(t.version!==e&&console.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),r||n){if(n){var i=t.db.version+1;i>t.version&&(t.version=i)}return!0}return!1}function I(t){return o([v(atob(t.data))],{type:t.type})}function C(t){return t&&t.__local_forage_encoded_blob}function x(t){var e=this,n=e._initReady().then(function(){var t=d[e._dbInfo.name];if(t&&t.dbReady)return t.dbReady});return u(n,t,t),n}function A(t,e,n,r){void 0===r&&(r=1);try{var i=t.db.transaction(t.storeName,e);n(null,i)}catch(o){if(r>0&&(!t.db||"InvalidStateError"===o.name||"NotFoundError"===o.name))return s.resolve().then(function(){if(!t.db||"NotFoundError"===o.name&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),E(t)}).then(function(){return function(t){y(t);for(var e=d[t.name],n=e.forages,r=0;r<n.length;r++){var i=n[r];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return t.db=null,S(t).then(function(e){return t.db=e,T(t)?E(t):e}).then(function(r){t.db=e.db=r;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=r}).catch(function(e){throw w(t,e),e})}(t).then(function(){A(t,e,n,r-1)})}).catch(n);n(o)}}var O={_driver:"asyncStorage",_initStorage:function(t){var e=this,n={db:null};if(t)for(var r in t)n[r]=t[r];var i=d[n.name];i||(d[n.name]=i={forages:[],db:null,dbReady:null,deferredOperations:[]}),i.forages.push(e),e._initReady||(e._initReady=e.ready,e.ready=x);var o=[];function a(){return s.resolve()}for(var u=0;u<i.forages.length;u++){var c=i.forages[u];c!==e&&o.push(c._initReady().catch(a))}var l=i.forages.slice(0);return s.all(o).then(function(){return n.db=i.db,S(n)}).then(function(t){return n.db=t,T(n,e._defaultConfig.version)?E(n):t}).then(function(t){n.db=i.db=t,e._dbInfo=n;for(var r=0;r<l.length;r++){var o=l[r];o!==e&&(o._dbInfo.db=n.db,o._dbInfo.version=n.version)}})},_support:function(){try{if(!i||!i.open)return!1;var t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),e="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!t||e)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(n){return!1}}(),iterate:function(t,e){var n=this,r=new s(function(e,r){n.ready().then(function(){A(n._dbInfo,g,function(i,o){if(i)return r(i);try{var s=o.objectStore(n._dbInfo.storeName).openCursor(),a=1;s.onsuccess=function(){var n=s.result;if(n){var r=n.value;C(r)&&(r=I(r));var i=t(r,n.key,a++);void 0!==i?e(i):n.continue()}else e()},s.onerror=function(){r(s.error)}}catch(u){r(u)}})}).catch(r)});return a(r,e),r},getItem:function(t,e){var n=this;t=c(t);var r=new s(function(e,r){n.ready().then(function(){A(n._dbInfo,g,function(i,o){if(i)return r(i);try{var s=o.objectStore(n._dbInfo.storeName).get(t);s.onsuccess=function(){var t=s.result;void 0===t&&(t=null),C(t)&&(t=I(t)),e(t)},s.onerror=function(){r(s.error)}}catch(a){r(a)}})}).catch(r)});return a(r,e),r},setItem:function(t,e,n){var r=this;t=c(t);var i=new s(function(n,i){var a;r.ready().then(function(){return a=r._dbInfo,"[object Blob]"===p.call(e)?function(t){return"boolean"==typeof f?s.resolve(f):function(t){return new s(function(e){var n=t.transaction(h,m),r=o([""]);n.objectStore(h).put(r,"key"),n.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},n.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);e(n||!t||parseInt(t[1],10)>=43)}}).catch(function(){return!1})}(t).then(function(t){return f=t})}(a.db).then(function(t){return t?e:(n=e,new s(function(t,e){var r=new FileReader;r.onerror=e,r.onloadend=function(e){var r=btoa(e.target.result||"");t({__local_forage_encoded_blob:!0,data:r,type:n.type})},r.readAsBinaryString(n)}));var n}):e}).then(function(e){A(r._dbInfo,m,function(o,s){if(o)return i(o);try{var a=s.objectStore(r._dbInfo.storeName);null===e&&(e=void 0);var u=a.put(e,t);s.oncomplete=function(){void 0===e&&(e=null),n(e)},s.onabort=s.onerror=function(){i(u.error?u.error:u.transaction.error)}}catch(c){i(c)}})}).catch(i)});return a(i,n),i},removeItem:function(t,e){var n=this;t=c(t);var r=new s(function(e,r){n.ready().then(function(){A(n._dbInfo,m,function(i,o){if(i)return r(i);try{var s=o.objectStore(n._dbInfo.storeName).delete(t);o.oncomplete=function(){e()},o.onerror=function(){r(s.error)},o.onabort=function(){r(s.error?s.error:s.transaction.error)}}catch(a){r(a)}})}).catch(r)});return a(r,e),r},clear:function(t){var e=this,n=new s(function(t,n){e.ready().then(function(){A(e._dbInfo,m,function(r,i){if(r)return n(r);try{var o=i.objectStore(e._dbInfo.storeName).clear();i.oncomplete=function(){t()},i.onabort=i.onerror=function(){n(o.error?o.error:o.transaction.error)}}catch(s){n(s)}})}).catch(n)});return a(n,t),n},length:function(t){var e=this,n=new s(function(t,n){e.ready().then(function(){A(e._dbInfo,g,function(r,i){if(r)return n(r);try{var o=i.objectStore(e._dbInfo.storeName).count();o.onsuccess=function(){t(o.result)},o.onerror=function(){n(o.error)}}catch(s){n(s)}})}).catch(n)});return a(n,t),n},key:function(t,e){var n=this,r=new s(function(e,r){t<0?e(null):n.ready().then(function(){A(n._dbInfo,g,function(i,o){if(i)return r(i);try{var s=o.objectStore(n._dbInfo.storeName),a=!1,u=s.openKeyCursor();u.onsuccess=function(){var n=u.result;n?0===t||a?e(n.key):(a=!0,n.advance(t)):e(null)},u.onerror=function(){r(u.error)}}catch(c){r(c)}})}).catch(r)});return a(r,e),r},keys:function(t){var e=this,n=new s(function(t,n){e.ready().then(function(){A(e._dbInfo,g,function(r,i){if(r)return n(r);try{var o=i.objectStore(e._dbInfo.storeName).openKeyCursor(),s=[];o.onsuccess=function(){var e=o.result;e?(s.push(e.key),e.continue()):t(s)},o.onerror=function(){n(o.error)}}catch(a){n(a)}})}).catch(n)});return a(n,t),n},dropInstance:function(t,e){e=l.apply(this,arguments);var n=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var r,o=this;if(t.name){var u=t.name===n.name&&o._dbInfo.db?s.resolve(o._dbInfo.db):S(t).then(function(e){var n=d[t.name],r=n.forages;n.db=e;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=e;return e});r=u.then(t.storeName?function(e){if(e.objectStoreNames.contains(t.storeName)){var n=e.version+1;y(t);var r=d[t.name],o=r.forages;e.close();for(var a=0;a<o.length;a++){var u=o[a];u._dbInfo.db=null,u._dbInfo.version=n}return new s(function(e,r){var o=i.open(t.name,n);o.onerror=function(t){o.result.close(),r(t)},o.onupgradeneeded=function(){o.result.deleteObjectStore(t.storeName)},o.onsuccess=function(){var t=o.result;t.close(),e(t)}}).then(function(t){r.db=t;for(var e=0;e<o.length;e++){var n=o[e];n._dbInfo.db=t,b(n._dbInfo)}}).catch(function(e){throw(w(t,e)||s.resolve()).catch(function(){}),e})}}:function(e){y(t);var n=d[t.name],r=n.forages;e.close();for(var o=0;o<r.length;o++)r[o]._dbInfo.db=null;return new s(function(e,n){var r=i.deleteDatabase(t.name);r.onerror=r.onblocked=function(t){var e=r.result;e&&e.close(),n(t)},r.onsuccess=function(){var t=r.result;t&&t.close(),e(t)}}).then(function(t){n.db=t;for(var e=0;e<r.length;e++)b(r[e]._dbInfo)}).catch(function(e){throw(w(t,e)||s.resolve()).catch(function(){}),e})})}else r=s.reject("Invalid arguments");return a(r,e),r}},k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",D=/^~~local_forage_type~([^~]+)~/,N="__lfsc__:",R=N.length,P="arbf",L="blob",M="si08",F="ui08",U="uic8",j="si16",V="si32",q="ur16",B="ui32",G="fl32",z="fl64",H=R+P.length,$=Object.prototype.toString;function K(t){var e,n,r,i,o,s=.75*t.length,a=t.length,u=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var c=new ArrayBuffer(s),l=new Uint8Array(c);for(e=0;e<a;e+=4)n=k.indexOf(t[e]),r=k.indexOf(t[e+1]),i=k.indexOf(t[e+2]),o=k.indexOf(t[e+3]),l[u++]=n<<2|r>>4,l[u++]=(15&r)<<4|i>>2,l[u++]=(3&i)<<6|63&o;return c}function Z(t){var e,n=new Uint8Array(t),r="";for(e=0;e<n.length;e+=3)r+=k[n[e]>>2],r+=k[(3&n[e])<<4|n[e+1]>>4],r+=k[(15&n[e+1])<<2|n[e+2]>>6],r+=k[63&n[e+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}var W={serialize:function(t,e){var n="";if(t&&(n=$.call(t)),t&&("[object ArrayBuffer]"===n||t.buffer&&"[object ArrayBuffer]"===$.call(t.buffer))){var r,i=N;t instanceof ArrayBuffer?(r=t,i+=P):(r=t.buffer,"[object Int8Array]"===n?i+=M:"[object Uint8Array]"===n?i+=F:"[object Uint8ClampedArray]"===n?i+=U:"[object Int16Array]"===n?i+=j:"[object Uint16Array]"===n?i+=q:"[object Int32Array]"===n?i+=V:"[object Uint32Array]"===n?i+=B:"[object Float32Array]"===n?i+=G:"[object Float64Array]"===n?i+=z:e(new Error("Failed to get type for BinaryArray"))),e(i+Z(r))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n="~~local_forage_type~"+t.type+"~"+Z(this.result);e("__lfsc__:blob"+n)},o.readAsArrayBuffer(t)}else try{e(JSON.stringify(t))}catch(s){console.error("Couldn't convert value into a JSON string: ",t),e(null,s)}},deserialize:function(t){if(t.substring(0,R)!==N)return JSON.parse(t);var e,n=t.substring(H),r=t.substring(R,H);if(r===L&&D.test(n)){var i=n.match(D);e=i[1],n=n.substring(i[0].length)}var s=K(n);switch(r){case P:return s;case L:return o([s],{type:e});case M:return new Int8Array(s);case F:return new Uint8Array(s);case U:return new Uint8ClampedArray(s);case j:return new Int16Array(s);case q:return new Uint16Array(s);case V:return new Int32Array(s);case B:return new Uint32Array(s);case G:return new Float32Array(s);case z:return new Float64Array(s);default:throw new Error("Unkown type: "+r)}},stringToBuffer:K,bufferToString:Z};function Y(t,e,n,r){t.executeSql("CREATE TABLE IF NOT EXISTS "+e.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function Q(t,e,n,r,i,o){t.executeSql(n,r,i,function(t,s){s.code===s.SYNTAX_ERR?t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[e.storeName],function(t,a){a.rows.length?o(t,s):Y(t,e,function(){t.executeSql(n,r,i,o)},o)},o):o(t,s)},o)}function J(t,e,n,r){var i=this;t=c(t);var o=new s(function(o,s){i.ready().then(function(){void 0===e&&(e=null);var a=e,u=i._dbInfo;u.serializer.serialize(e,function(e,c){c?s(c):u.db.transaction(function(n){Q(n,u,"INSERT OR REPLACE INTO "+u.storeName+" (key, value) VALUES (?, ?)",[t,e],function(){o(a)},function(t,e){s(e)})},function(e){if(e.code===e.QUOTA_ERR){if(r>0)return void o(J.apply(i,[t,a,n,r-1]));s(e)}})})}).catch(s)});return a(o,n),o}function X(t){return new s(function(e,n){t.transaction(function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(n,r){for(var i=[],o=0;o<r.rows.length;o++)i.push(r.rows.item(o).name);e({db:t,storeNames:i})},function(t,e){n(e)})},function(t){n(t)})})}var tt={_driver:"webSQLStorage",_initStorage:function(t){var e=this,n={db:null};if(t)for(var r in t)n[r]="string"!=typeof t[r]?t[r].toString():t[r];var i=new s(function(t,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(i){return r(i)}n.db.transaction(function(i){Y(i,n,function(){e._dbInfo=n,t()},function(t,e){r(e)})},r)});return n.serializer=W,i},_support:"function"==typeof openDatabase,iterate:function(t,e){var n=this,r=new s(function(e,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){Q(n,i,"SELECT * FROM "+i.storeName,[],function(n,r){for(var o=r.rows,s=o.length,a=0;a<s;a++){var u=o.item(a),c=u.value;if(c&&(c=i.serializer.deserialize(c)),void 0!==(c=t(c,u.key,a+1)))return void e(c)}e()},function(t,e){r(e)})})}).catch(r)});return a(r,e),r},getItem:function(t,e){var n=this;t=c(t);var r=new s(function(e,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){Q(n,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[t],function(t,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=i.serializer.deserialize(r)),e(r)},function(t,e){r(e)})})}).catch(r)});return a(r,e),r},setItem:function(t,e,n){return J.apply(this,[t,e,n,1])},removeItem:function(t,e){var n=this;t=c(t);var r=new s(function(e,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){Q(n,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[t],function(){e()},function(t,e){r(e)})})}).catch(r)});return a(r,e),r},clear:function(t){var e=this,n=new s(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){Q(e,r,"DELETE FROM "+r.storeName,[],function(){t()},function(t,e){n(e)})})}).catch(n)});return a(n,t),n},length:function(t){var e=this,n=new s(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){Q(e,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],function(e,n){var r=n.rows.item(0).c;t(r)},function(t,e){n(e)})})}).catch(n)});return a(n,t),n},key:function(t,e){var n=this,r=new s(function(e,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){Q(n,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[t+1],function(t,n){var r=n.rows.length?n.rows.item(0).key:null;e(r)},function(t,e){r(e)})})}).catch(r)});return a(r,e),r},keys:function(t){var e=this,n=new s(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){Q(e,r,"SELECT key FROM "+r.storeName,[],function(e,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);t(r)},function(t,e){n(e)})})}).catch(n)});return a(n,t),n},dropInstance:function(t,e){e=l.apply(this,arguments);var n=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var r,i=this;return a(r=t.name?new s(function(e){var r;r=t.name===n.name?i._dbInfo.db:openDatabase(t.name,"","",0),e(t.storeName?{db:r,storeNames:[t.storeName]}:X(r))}).then(function(t){return new s(function(e,n){t.db.transaction(function(r){function i(t){return new s(function(e,n){r.executeSql("DROP TABLE IF EXISTS "+t,[],function(){e()},function(t,e){n(e)})})}for(var o=[],a=0,u=t.storeNames.length;a<u;a++)o.push(i(t.storeNames[a]));s.all(o).then(function(){e()}).catch(function(t){n(t)})},function(t){n(t)})})}):s.reject("Invalid arguments"),e),r}};function et(t,e){var n=t.name+"/";return t.storeName!==e.storeName&&(n+=t.storeName+"/"),n}var nt={_driver:"localStorageWrapper",_initStorage:function(t){var e={};if(t)for(var n in t)e[n]=t[n];return e.keyPrefix=et(t,this._defaultConfig),!function(){var t="_localforage_support_test";try{return localStorage.setItem(t,!0),localStorage.removeItem(t),!1}catch(e){return!0}}()||localStorage.length>0?(this._dbInfo=e,e.serializer=W,s.resolve()):s.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(t){return!1}}(),iterate:function(t,e){var n=this,r=n.ready().then(function(){for(var e=n._dbInfo,r=e.keyPrefix,i=r.length,o=localStorage.length,s=1,a=0;a<o;a++){var u=localStorage.key(a);if(0===u.indexOf(r)){var c=localStorage.getItem(u);if(c&&(c=e.serializer.deserialize(c)),void 0!==(c=t(c,u.substring(i),s++)))return c}}});return a(r,e),r},getItem:function(t,e){var n=this;t=c(t);var r=n.ready().then(function(){var e=n._dbInfo,r=localStorage.getItem(e.keyPrefix+t);return r&&(r=e.serializer.deserialize(r)),r});return a(r,e),r},setItem:function(t,e,n){var r=this;t=c(t);var i=r.ready().then(function(){void 0===e&&(e=null);var n=e;return new s(function(i,o){var s=r._dbInfo;s.serializer.serialize(e,function(e,r){if(r)o(r);else try{localStorage.setItem(s.keyPrefix+t,e),i(n)}catch(a){"QuotaExceededError"!==a.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==a.name||o(a),o(a)}})})});return a(i,n),i},removeItem:function(t,e){var n=this;t=c(t);var r=n.ready().then(function(){localStorage.removeItem(n._dbInfo.keyPrefix+t)});return a(r,e),r},clear:function(t){var e=this,n=e.ready().then(function(){for(var t=e._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(t)&&localStorage.removeItem(r)}});return a(n,t),n},length:function(t){var e=this.keys().then(function(t){return t.length});return a(e,t),e},key:function(t,e){var n=this,r=n.ready().then(function(){var e,r=n._dbInfo;try{e=localStorage.key(t)}catch(i){e=null}return e&&(e=e.substring(r.keyPrefix.length)),e});return a(r,e),r},keys:function(t){var e=this,n=e.ready().then(function(){for(var t=e._dbInfo,n=localStorage.length,r=[],i=0;i<n;i++){var o=localStorage.key(i);0===o.indexOf(t.keyPrefix)&&r.push(o.substring(t.keyPrefix.length))}return r});return a(n,t),n},dropInstance:function(t,e){if(e=l.apply(this,arguments),!(t="function"!=typeof t&&t||{}).name){var n=this.config();t.name=t.name||n.name,t.storeName=t.storeName||n.storeName}var r,i=this;return a(r=t.name?new s(function(e){e(t.storeName?et(t,i._defaultConfig):t.name+"/")}).then(function(t){for(var e=localStorage.length-1;e>=0;e--){var n=localStorage.key(e);0===n.indexOf(t)&&localStorage.removeItem(n)}}):s.reject("Invalid arguments"),e),r}},rt=function(t,e){for(var n=t.length,r=0;r<n;){if((i=t[r])===(o=e)||"number"==typeof i&&"number"==typeof o&&isNaN(i)&&isNaN(o))return!0;r++}var i,o;return!1},it=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},ot={},st={},at={INDEXEDDB:O,WEBSQL:tt,LOCALSTORAGE:nt},ut=[at.INDEXEDDB._driver,at.WEBSQL._driver,at.LOCALSTORAGE._driver],ct=["dropInstance"],lt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ct),ht={description:"",driver:ut.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ft(t,e){t[e]=function(){var n=arguments;return t.ready().then(function(){return t[e].apply(t,n)})}}function dt(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e)for(var n in e)e.hasOwnProperty(n)&&(arguments[0][n]=it(e[n])?e[n].slice():e[n])}return arguments[0]}var pt=new(function(){function t(e){for(var n in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),at)if(at.hasOwnProperty(n)){var r=at[n],i=r._driver;this[n]=i,ot[i]||this.defineDriver(r)}this._defaultConfig=dt({},ht),this._config=dt({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return t.prototype.config=function(t){if("object"===(void 0===t?"undefined":r(t))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t){if("storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),"version"===e&&"number"!=typeof t[e])return new Error("Database version must be a number.");this._config[e]=t[e]}return!("driver"in t)||!t.driver||this.setDriver(this._config.driver)}return"string"==typeof t?this._config[t]:this._config},t.prototype.defineDriver=function(t,e,n){var r=new s(function(e,n){try{var r=t._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver)return void n(i);for(var o=lt.concat("_initStorage"),u=0,c=o.length;u<c;u++){var l=o[u];if((!rt(ct,l)||t[l])&&"function"!=typeof t[l])return void n(i)}!function(){for(var e=function(t){return function(){var e=new Error("Method "+t+" is not implemented by the current driver"),n=s.reject(e);return a(n,arguments[arguments.length-1]),n}},n=0,r=ct.length;n<r;n++){var i=ct[n];t[i]||(t[i]=e(i))}}();var h=function(n){ot[r]&&console.info("Redefining LocalForage driver: "+r),ot[r]=t,st[r]=n,e()};"_support"in t?t._support&&"function"==typeof t._support?t._support().then(h,n):h(!!t._support):h(!0)}catch(f){n(f)}});return u(r,e,n),r},t.prototype.driver=function(){return this._driver||null},t.prototype.getDriver=function(t,e,n){var r=ot[t]?s.resolve(ot[t]):s.reject(new Error("Driver not found."));return u(r,e,n),r},t.prototype.getSerializer=function(t){var e=s.resolve(W);return u(e,t),e},t.prototype.ready=function(t){var e=this,n=e._driverSet.then(function(){return null===e._ready&&(e._ready=e._initDriver()),e._ready});return u(n,t,t),n},t.prototype.setDriver=function(t,e,n){var r=this;it(t)||(t=[t]);var i=this._getSupportedDrivers(t);function o(){r._config.driver=r.driver()}function a(t){return r._extend(t),o(),r._ready=r._initStorage(r._config),r._ready}var c=null!==this._driverSet?this._driverSet.catch(function(){return s.resolve()}):s.resolve();return this._driverSet=c.then(function(){var t=i[0];return r._dbInfo=null,r._ready=null,r.getDriver(t).then(function(t){r._driver=t._driver,o(),r._wrapLibraryMethodsWithReady(),r._initDriver=function(t){return function(){var e=0;return function n(){for(;e<t.length;){var i=t[e];return e++,r._dbInfo=null,r._ready=null,r.getDriver(i).then(a).catch(n)}o();var u=new Error("No available storage method found.");return r._driverSet=s.reject(u),r._driverSet}()}}(i)})}).catch(function(){o();var t=new Error("No available storage method found.");return r._driverSet=s.reject(t),r._driverSet}),u(this._driverSet,e,n),this._driverSet},t.prototype.supports=function(t){return!!st[t]},t.prototype._extend=function(t){dt(this,t)},t.prototype._getSupportedDrivers=function(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n];this.supports(i)&&e.push(i)}return e},t.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,e=lt.length;t<e;t++)ft(this,lt[t])},t.prototype.createInstance=function(e){return new t(e)},t}());e.exports=pt},{3:3}]},{},[4])(4)},8512:(t,e,n)=>{"use strict";n.d(e,{X:()=>o});var r=n(5959),i=n(3895);class o extends r.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.N;return this._value}next(t){super.next(this._value=t)}}},8318:(t,e,n)=>{"use strict";n.d(e,{y:()=>c});var r=n(6673),i=n(5331),o=n(7498),s=n(6197),a=n(3392),u=n(1484);let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.L)return t;if(t[i.b])return t[i.b]()}return t||e||n?new r.L(t,e,n):new r.L(o.c)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.v.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.L?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.L](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.y:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.v.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},7498:(t,e,n)=>{"use strict";n.d(e,{c:()=>o});var r=n(1484),i=n(4294);const o={closed:!0,next(t){},error(t){if(r.v.useDeprecatedSynchronousErrorHandling)throw t;(0,i.z)(t)},complete(){}}},6019:(t,e,n)=>{"use strict";n.d(e,{t:()=>c});var r=n(5959),i=n(8489),o=n(7570),s=n(9971),a=n(3895),u=n(9291);class c extends r.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new l(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let c;if(this.closed)throw new a.N;if(this.isStopped||this.hasError?c=o.w.EMPTY:(this.observers.push(t),c=new u.W(this,t)),r&&t.add(t=new s.ht(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),c}_getNow(){return(this.scheduler||i.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class l{constructor(t,e){this.time=t,this.value=e}}},5959:(t,e,n)=>{"use strict";n.d(e,{Yc:()=>c,xQ:()=>l});var r=n(8318),i=n(6673),o=n(7570),s=n(3895),a=n(9291),u=n(5331);class c extends i.L{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.b](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.N;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.N;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.N;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.N;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.N;return this.hasError?(t.error(this.thrownError),o.w.EMPTY):this.isStopped?(t.complete(),o.w.EMPTY):(this.observers.push(t),new a.W(this,t))}asObservable(){const t=new r.y;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.w.EMPTY}}},9291:(t,e,n)=>{"use strict";n.d(e,{W:()=>i});var r=n(7570);class i extends r.w{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},6673:(t,e,n)=>{"use strict";n.d(e,{L:()=>c});var r=n(5024),i=n(7498),o=n(7570),s=n(5331),a=n(1484),u=n(4294);class c extends o.w{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.c;break;case 1:if(!t){this.destination=i.c;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.b](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;(0,r.m)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.c&&(a=Object.create(e),(0,r.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):(0,u.z)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;(0,u.z)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,u.z)(n)}}__tryOrSetError(t,e,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.v.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):((0,u.z)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},7570:(t,e,n)=>{"use strict";n.d(e,{w:()=>a});var r=n(8470),i=n(2056),o=n(5024);const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if((0,o.m)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if((0,r.k)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if((0,i.K)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},1484:(t,e,n)=>{"use strict";n.d(e,{v:()=>i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},6882:(t,e,n)=>{"use strict";n.d(e,{IY:()=>s,Ds:()=>a,ft:()=>u});var r=n(6673),i=n(8318),o=n(6015);class s extends r.L{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.L{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.y?t.subscribe(e):(0,o.s)(t)(e)}},2875:(t,e,n)=>{"use strict";n.d(e,{c:()=>a,N:()=>u});var r=n(5959),i=n(8318),o=n(7570),s=n(1564);class a extends i.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.w,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.w.EMPTY)),t}refCount(){return(0,s.x)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.Yc{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},3080:(t,e,n)=>{"use strict";n.d(e,{aj:()=>d});var r=n(6163),i=n(8470),o=n(6673);class s extends o.L{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class a extends o.L{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var u=n(6015),c=n(8318);function l(t,e,n,r,i=new a(t,n,r)){if(!i.closed)return e instanceof c.y?e.subscribe(i):(0,u.s)(e)(i)}var h=n(9342);const f={};function d(...t){let e,n;return(0,r.K)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&(0,i.k)(t[0])&&(t=t[0]),(0,h.n)(t,n).lift(new p(e))}class p{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new g(t,this.resultSelector))}}class g extends s{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(f),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(l(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===f?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},7930:(t,e,n)=>{"use strict";n.d(e,{z:()=>o});var r=n(878),i=n(7471);function o(...t){return(0,i.J)(1)((0,r.of)(...t))}},653:(t,e,n)=>{"use strict";n.d(e,{E:()=>i,c:()=>o});var r=n(8318);const i=new r.y(t=>t.complete());function o(t){return t?function(t){return new r.y(e=>t.schedule(()=>e.complete()))}(t):i}},9764:(t,e,n)=>{"use strict";n.d(e,{D:()=>h});var r=n(8318),i=n(6015),o=n(7570),s=n(6197),a=n(2570),u=n(5686),c=n(5168),l=n(9653);function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.L]}(t))return function(t,e){return new r.y(n=>{const r=new o.w;return r.add(e.schedule(()=>{const i=t[s.L]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if((0,c.t)(t))return function(t,e){return new r.y(n=>{const r=new o.w;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if((0,l.z)(t))return(0,a.r)(t,e);if(function(t){return t&&"function"==typeof t[u.hZ]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.y(n=>{const r=new o.w;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.hZ](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.y?t:new r.y((0,i.s)(t))}},9342:(t,e,n)=>{"use strict";n.d(e,{n:()=>s});var r=n(8318),i=n(625),o=n(2570);function s(t,e){return e?(0,o.r)(t,e):new r.y((0,i.V)(t))}},1906:(t,e,n)=>{"use strict";n.d(e,{T:()=>a});var r=n(8318),i=n(6163),o=n(7471),s=n(9342);function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return(0,i.K)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.y?t[0]:(0,o.J)(e)((0,s.n)(t,n))}},878:(t,e,n)=>{"use strict";n.d(e,{of:()=>s});var r=n(6163),i=n(9342),o=n(2570);function s(...t){let e=t[t.length-1];return(0,r.K)(e)?(t.pop(),(0,o.r)(t,e)):(0,i.n)(t)}},1225:(t,e,n)=>{"use strict";n.d(e,{_:()=>i});var r=n(8318);function i(t,e){return new r.y(e?n=>e.schedule(o,0,{error:t,subscriber:n}):e=>e.error(t))}function o({error:t,subscriber:e}){e.error(t)}},7727:(t,e,n)=>{"use strict";n.d(e,{K:()=>i});var r=n(6882);function i(t){return function(e){const n=new o(t),r=e.lift(n);return n.caught=r}}class o{constructor(t){this.selector=t}call(t,e){return e.subscribe(new s(t,this.selector,this.caught))}}class s extends r.Ds{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const i=new r.IY(this);this.add(i);const o=(0,r.ft)(n,i);o!==i&&this.add(o)}}}},436:(t,e,n)=>{"use strict";n.d(e,{b:()=>i});var r=n(3982);function i(t,e){return(0,r.zg)(t,e,1)}},7768:(t,e,n)=>{"use strict";n.d(e,{d:()=>i});var r=n(6673);function i(t=null){return e=>e.lift(new o(t))}class o{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new s(t,this.defaultValue))}}class s extends r.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},3835:(t,e,n)=>{"use strict";n.d(e,{h:()=>i});var r=n(6673);function i(t,e){return function(n){return n.lift(new o(t,e))}}class o{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.predicate,this.thisArg))}}class s extends r.L{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}},3530:(t,e,n)=>{"use strict";n.d(e,{P:()=>c});var r=n(9665),i=n(3835),o=n(611),s=n(7768),a=n(790),u=n(3392);function c(t,e){const n=arguments.length>=2;return c=>c.pipe(t?(0,i.h)((e,n)=>t(e,n,c)):u.y,(0,o.q)(1),n?(0,s.d)(e):(0,a.T)(()=>new r.K))}},9996:(t,e,n)=>{"use strict";n.d(e,{U:()=>i});var r=n(6673);function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.L{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},7471:(t,e,n)=>{"use strict";n.d(e,{J:()=>o});var r=n(3982),i=n(3392);function o(t=Number.POSITIVE_INFINITY){return(0,r.zg)(i.y,t)}},3982:(t,e,n)=>{"use strict";n.d(e,{zg:()=>s});var r=n(9996),i=n(9764),o=n(6882);function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>(0,i.D)(t(n,o)).pipe((0,r.U)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.Ds{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.IY(this),n=this.destination;n.add(e);const r=(0,o.ft)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9971:(t,e,n)=>{"use strict";n.d(e,{ht:()=>l,QV:()=>u});var r=n(6673),i=n(653),o=n(878),s=n(1225);let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return(0,o.of)(this.value);case"E":return(0,s._)(this.error);case"C":return(0,i.c)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.L{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},1564:(t,e,n)=>{"use strict";n.d(e,{x:()=>i});var r=n(6673);function i(){return function(t){return t.lift(new o(t))}}class o{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class s extends r.L{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},2023:(t,e,n)=>{"use strict";n.d(e,{R:()=>i});var r=n(6673);function i(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new o(t,e,n))}}class o{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new s(t,this.accumulator,this.seed,this.hasSeed))}}class s extends r.L{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}},8303:(t,e,n)=>{"use strict";n.d(e,{d:()=>i});var r=n(6019);function i(t,e,n){let i;return i=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:i}){let o,s,a=0,u=!1,c=!1;return function(l){let h;a++,!o||u?(u=!1,o=new r.t(t,e,i),h=o.subscribe(this),s=l.subscribe({next(t){o.next(t)},error(t){u=!0,o.error(t)},complete(){c=!0,s=void 0,o.complete()}})):h=o.subscribe(this),this.add(()=>{a--,h.unsubscribe(),s&&!c&&n&&0===a&&(s.unsubscribe(),s=void 0,o=void 0)})}}(i))}},6238:(t,e,n)=>{"use strict";n.d(e,{O:()=>o});var r=n(7930),i=n(6163);function o(...t){const e=t[t.length-1];return(0,i.K)(e)?(t.pop(),n=>(0,r.z)(t,n,e)):e=>(0,r.z)(t,e)}},4187:(t,e,n)=>{"use strict";n.d(e,{R:()=>m});var r=n(8318);let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n(8277);class l extends c.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n(1098);class f extends h.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n(8470);class g extends r.y{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,((0,p.k)(r=e)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new v(t,e))}}class v{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},4689:(t,e,n)=>{"use strict";n.d(e,{w:()=>s});var r=n(9996),i=n(9764),o=n(6882);function s(t,e){return"function"==typeof e?n=>n.pipe(s((n,o)=>(0,i.D)(t(n,o)).pipe((0,r.U)((t,r)=>e(n,t,o,r))))):e=>e.lift(new a(t))}class a{constructor(t){this.project=t}call(t,e){return e.subscribe(new u(t,this.project))}}class u extends o.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new o.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,o.ft)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}},611:(t,e,n)=>{"use strict";n.d(e,{q:()=>s});var r=n(6673),i=n(8402),o=n(653);function s(t){return e=>0===t?(0,o.c)():e.lift(new a(t))}class a{constructor(t){if(this.total=t,this.total<0)throw new i.W}call(t,e){return e.subscribe(new u(t,this.total))}}class u extends r.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}},6599:(t,e,n)=>{"use strict";n.d(e,{b:()=>s});var r=n(6673);function i(){}var o=n(5024);function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.L{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,(0,o.m)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},790:(t,e,n)=>{"use strict";n.d(e,{T:()=>o});var r=n(9665),i=n(6673);function o(t=u){return e=>e.lift(new s(t))}class s{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new a(t,this.errorFactory))}}class a extends i.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function u(){return new r.K}},2570:(t,e,n)=>{"use strict";n.d(e,{r:()=>o});var r=n(8318),i=n(7570);function o(t,e){return new r.y(n=>{const r=new i.w;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},8277:(t,e,n)=>{"use strict";n.d(e,{o:()=>o});var r=n(7570);class i extends r.w{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},1098:(t,e,n)=>{"use strict";n.d(e,{v:()=>i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},8569:(t,e,n)=>{"use strict";n.d(e,{z:()=>i});var r=n(8277);const i=new(n(1098).v)(r.o)},8489:(t,e,n)=>{"use strict";n.d(e,{c:()=>u,N:()=>a});var r=n(8277);class i extends r.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n(1098);class s extends o.v{}const a=new s(i),u=a},5686:(t,e,n)=>{"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,{hZ:()=>i});const i=r()},6197:(t,e,n)=>{"use strict";n.d(e,{L:()=>r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},5331:(t,e,n)=>{"use strict";n.d(e,{b:()=>r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},8402:(t,e,n)=>{"use strict";n.d(e,{W:()=>r});const r=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})()},9665:(t,e,n)=>{"use strict";n.d(e,{K:()=>r});const r=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})()},3895:(t,e,n)=>{"use strict";n.d(e,{N:()=>r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},4294:(t,e,n)=>{"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,{z:()=>r})},3392:(t,e,n)=>{"use strict";function r(t){return t}n.d(e,{y:()=>r})},8470:(t,e,n)=>{"use strict";n.d(e,{k:()=>r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},9653:(t,e,n)=>{"use strict";n.d(e,{z:()=>r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},5024:(t,e,n)=>{"use strict";function r(t){return"function"==typeof t}n.d(e,{m:()=>r})},2056:(t,e,n)=>{"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,{K:()=>r})},5168:(t,e,n)=>{"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,{t:()=>r})},6163:(t,e,n)=>{"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,{K:()=>r})},6015:(t,e,n)=>{"use strict";n.d(e,{s:()=>l});var r=n(625),i=n(4294),o=n(5686),s=n(6197),a=n(9653),u=n(5168),c=n(2056);const l=t=>{if(t&&"function"==typeof t[s.L])return l=t,t=>{const e=l[s.L]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if((0,a.z)(t))return(0,r.V)(t);if((0,u.t)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.z),t);if(t&&"function"==typeof t[o.hZ])return e=t,t=>{const n=e[o.hZ]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=(0,c.K)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},625:(t,e,n)=>{"use strict";n.d(e,{V:()=>r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},3275:(t,e,n)=>{"use strict";var r=n(9624),i=n(7368);const o={apiKey:"AIzaSyDaZfHtk51ZehErw2kxNpKP90JOszLL4l0",authDomain:"lam-nhan-example.firebaseapp.com",projectId:"lam-nhan-example",storageBucket:"lam-nhan-example.appspot.com",messagingSenderId:"772394668815",appId:"1:772394668815:web:efff13642981b2ae93e47a",measurementId:"G-RX64DCLQ1D"};var s=n(2346),a=n(1949),u=n(4154),c=n(653);const l=[];let h=(()=>{class t{constructor(t){this.router=t,this.trees=l}add(t){this.trees.push(t)}shouldPrefetch(t){const e=this.router.parseUrl(t);return this.trees.some(f.bind(null,e))}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(u.F0))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();function f(t,e){return function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>e[n]===t[n])}(e.queryParams,t.queryParams)&&d(e.root,t.root,t.root.segments)}function d(t,e,n){if(t.segments.length>n.length)return!!p(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!p(t.segments,n))return!1;if(!e.hasChildren())return!0;for(const n in e.children){if(!t.children[n])break;if(d(t.children[n],e.children[n],e.children[n].segments))return!0}return!1}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!p(t.segments,r)&&!!t.children[u.eC]&&d(t.children[u.eC],e,i)}}function p(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path||t.path.startsWith(":")||e[n].path.startsWith(":"))}const g="undefined"!=typeof window?window.requestIdleCallback||function(t){const e=Date.now();return setTimeout(function(){t({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})},1)}:()=>{},m=()=>"undefined"!=typeof window&&!!window.IntersectionObserver,v=new i.OlP("LinkHandler");let y=(()=>{class t{constructor(t,e,n){this.loader=t,this.registry=e,this.ngZone=n,this.elementLink=new Map,this.observer=m()?new IntersectionObserver(t=>{t.forEach(t=>{if(t.isIntersecting){const e=t.target,n=this.elementLink.get(e);if(!n||!n.urlTree)return;this.registry.add(n.urlTree),this.observer.unobserve(e),g(()=>{this.loader.preload().subscribe(()=>{})})}})}):null}register(t){this.elementLink.set(t.element,t),this.ngZone.runOutsideAngular(()=>{this.observer.observe(t.element)})}unregister(t){this.elementLink.has(t.element)&&(this.observer.unobserve(t.element),this.elementLink.delete(t.element))}supported(){return m()}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(u.aU),i.LFG(h),i.LFG(i.R0b))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),b=(()=>{class t{constructor(t,e){this.loader=t,this.registry=e}register(t){this.registry.add(t.urlTree),g(()=>this.loader.preload().subscribe(()=>{}))}unregister(t){}supported(){return!0}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(u.aU),i.LFG(h))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(t,e){this.registry=t,this.router=e,this.loading=new Set}preload(t,e){if(this.loading.has(t))return c.E;const n="undefined"!=typeof navigator?navigator.connection:void 0;if(n&&((n.effectiveType||"").includes("2g")||n.saveData))return c.E;if(t.data&&!1===t.data.preload)return c.E;const r=_(this.router.config,t);return this.registry.shouldPrefetch(r)?(this.loading.add(t),e()):c.E}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(h),i.LFG(u.F0))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const _=(t,e)=>{t=t.slice();const n=new Map,r=new Set;for(;t.length;){const i=t.shift();if(r.add(i),i===e)break;let o=i.children||[];const s=i._loadedConfig;s&&s.routes&&(o=o.concat(s.routes)),o.forEach(e=>{r.has(e)||(n.set(e,i),t.push(e))})}let i="",o=e;for(;o;)i=S(o)?`/${o.path}${i}`:`/(${o.outlet}:${o.path}${i})`,o=n.get(o);return i.replace(/\/\//,"/")};function S(t){return t.outlet===u.eC||!t.outlet}let E=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[{provide:v,useClass:y,multi:!0},{provide:v,useClass:b,multi:!0},h,w]}),t})();const T=[{path:"terms",loadChildren:()=>n.e(537).then(n.bind(n,2537)).then(t=>t.NguixTermsPageModule)},{path:"privacy",loadChildren:()=>n.e(537).then(n.bind(n,2537)).then(t=>t.NguixPrivacyPageModule)},{path:"",loadChildren:()=>Promise.all([n.e(537),n.e(25)]).then(n.bind(n,1025)).then(t=>t.HomePageModule),pathMatch:"full"},{path:"guides",loadChildren:()=>Promise.all([n.e(537),n.e(36),n.e(83)]).then(n.bind(n,83)).then(t=>t.GuidesPageModule)},{path:"guide/:id",loadChildren:()=>Promise.all([n.e(537),n.e(36),n.e(898)]).then(n.bind(n,5898)).then(t=>t.GuidePageModule)},{path:"templates",loadChildren:()=>Promise.all([n.e(537),n.e(36),n.e(146)]).then(n.bind(n,7146)).then(t=>t.TemplatesPageModule)},{path:"template/:id",loadChildren:()=>Promise.all([n.e(537),n.e(36),n.e(829)]).then(n.bind(n,1829)).then(t=>t.TemplatePageModule)},{path:"splashscreens",loadChildren:()=>Promise.all([n.e(537),n.e(36),n.e(315)]).then(n.bind(n,4315)).then(t=>t.SplashscreensPageModule)},{path:"components",loadChildren:()=>Promise.all([n.e(537),n.e(36),n.e(695)]).then(n.bind(n,7695)).then(t=>t.ComponentsPageModule)},{path:"component/header",loadChildren:()=>Promise.all([n.e(537),n.e(36),n.e(592),n.e(222)]).then(n.bind(n,222)).then(t=>t.HeaderPageModule)},{path:"component/header2nd",loadChildren:()=>Promise.all([n.e(537),n.e(36),n.e(592),n.e(937)]).then(n.bind(n,3937)).then(t=>t.Header2ndPageModule)},{path:"component/footer",loadChildren:()=>Promise.all([n.e(537),n.e(36),n.e(592),n.e(482)]).then(n.bind(n,9482)).then(t=>t.FooterPageModule)},{path:"pages",loadChildren:()=>Promise.all([n.e(537),n.e(36),n.e(620)]).then(n.bind(n,8620)).then(t=>t.PagesPageModule)},{path:"page/oops",loadChildren:()=>Promise.all([n.e(537),n.e(36),n.e(592),n.e(794)]).then(n.bind(n,4794)).then(t=>t.OopsPageModule)},{path:"page/terms",loadChildren:()=>Promise.all([n.e(537),n.e(36),n.e(592),n.e(863)]).then(n.bind(n,9863)).then(t=>t.TermsPageModule)},{path:"page/privacy",loadChildren:()=>Promise.all([n.e(537),n.e(36),n.e(592),n.e(404)]).then(n.bind(n,1404)).then(t=>t.PrivacyPageModule)},{path:"splashscreen/heartbeat",loadChildren:()=>Promise.all([n.e(537),n.e(36),n.e(592),n.e(452)]).then(n.bind(n,3452)).then(t=>t.HeartbeatPageModule)},{path:"splashscreen/bouncing",loadChildren:()=>Promise.all([n.e(537),n.e(36),n.e(592),n.e(905)]).then(n.bind(n,1905)).then(t=>t.BouncingPageModule)},{path:"splashscreen/still",loadChildren:()=>Promise.all([n.e(537),n.e(36),n.e(592),n.e(202)]).then(n.bind(n,202)).then(t=>t.StillModule)},{path:"**",loadChildren:()=>n.e(537).then(n.bind(n,2537)).then(t=>t.NguixOopsPageModule)}];let I=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[E,u.Bz.forRoot(T,{preloadingStrategy:w})],u.Bz]}),t})();var C=n(8569),x=n(8318),A=n(9764),O=n(878),k=n(6238),D=n(6673);function N(){return t=>t.lift(new R)}class R{call(t,e){return e.subscribe(new P(t))}}class P extends D.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var L=n(9996),M=n(2023);class F{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new U(t,this.compare,this.keySelector))}}class U extends D.L{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var j=n(3835),V=n(9971),q=n(1116),B=n(1858),G=n(1062),z=n(250),H=n(308),$=function(t,e){return($=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function K(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Z,W="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Y=Y||{},Q=W||self;function J(){}function X(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function tt(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var et="closure_uid_"+(1e9*Math.random()>>>0),nt=0;function rt(t,e,n){return t.call.apply(t.bind,arguments)}function it(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function ot(t,e,n){return(ot=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?rt:it).apply(null,arguments)}function st(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function at(){return Date.now()}function ut(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function ct(){this.j=this.j,this.i=this.i}ct.prototype.j=!1,ct.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,et)&&t[et]||(t[et]=++nt)}(this)},ct.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var lt=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},ht=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function ft(t){return Array.prototype.concat.apply([],arguments)}function dt(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function pt(t){return/^[\s\xa0]*$/.test(t)}var gt,mt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function vt(t,e){return-1!=t.indexOf(e)}function yt(t,e){return t<e?-1:t>e?1:0}t:{var bt=Q.navigator;if(bt){var wt=bt.userAgent;if(wt){gt=wt;break t}}gt=""}function _t(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function St(t){var e={};for(var n in t)e[n]=t[n];return e}var Et="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Tt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Et.length;o++)n=Et[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function It(t){return It[" "](t),t}It[" "]=J;var Ct,xt,At=vt(gt,"Opera"),Ot=vt(gt,"Trident")||vt(gt,"MSIE"),kt=vt(gt,"Edge"),Dt=kt||Ot,Nt=vt(gt,"Gecko")&&!(vt(gt.toLowerCase(),"webkit")&&!vt(gt,"Edge"))&&!(vt(gt,"Trident")||vt(gt,"MSIE"))&&!vt(gt,"Edge"),Rt=vt(gt.toLowerCase(),"webkit")&&!vt(gt,"Edge");function Pt(){var t=Q.document;return t?t.documentMode:void 0}t:{var Lt="",Mt=(xt=gt,Nt?/rv:([^\);]+)(\)|;)/.exec(xt):kt?/Edge\/([\d\.]+)/.exec(xt):Ot?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(xt):Rt?/WebKit\/(\S+)/.exec(xt):At?/(?:Version)[ \/]?(\S+)/.exec(xt):void 0);if(Mt&&(Lt=Mt?Mt[1]:""),Ot){var Ft=Pt();if(null!=Ft&&Ft>parseFloat(Lt)){Ct=String(Ft);break t}}Ct=Lt}var Ut={};function jt(t){return function(t,e){var n=Ut;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=mt(String(Ct)).split("."),r=mt(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=yt(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||yt(0==s[2].length,0==a[2].length)||yt(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var Vt=Q.document&&Ot&&(Pt()||parseInt(Ct,10))||void 0,qt=!Ot||9<=Number(Vt),Bt=Ot&&!jt("9"),Gt=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Q.addEventListener("test",J,e),Q.removeEventListener("test",J,e)}catch(n){}return t}();function zt(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Ht(t,e){if(zt.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Nt){t:{try{It(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:$t[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}zt.prototype.b=function(){this.defaultPrevented=!0},ut(Ht,zt);var $t={2:"touch",3:"pen",4:"mouse"};Ht.prototype.b=function(){Ht.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Bt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Kt="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function Wt(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Zt,this.Y=this.Z=!1}function Yt(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Qt(t){this.src=t,this.a={},this.b=0}function Jt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=lt(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Yt(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Xt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Qt.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Xt(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Wt(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var te="closure_lm_"+(1e6*Math.random()|0),ee={};function ne(t,e,n,r,i){if(r&&r.once)return ie(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)ne(t,e[o],n,r,i);return null}return n=fe(n),t&&t[Kt]?t.va(e,n,tt(r)?!!r.capture:!!r,i):re(t,e,n,!1,r,i)}function re(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=tt(i)?!!i.capture:!!i;if(s&&!qt)return null;var a=le(t);if(a||(t[te]=a=new Qt(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=ce,e=qt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Gt||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ae(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function ie(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)ie(t,e[o],n,r,i);return null}return n=fe(n),t&&t[Kt]?t.wa(e,n,tt(r)?!!r.capture:!!r,i):re(t,e,n,!0,r,i)}function oe(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)oe(t,e[o],n,r,i);else r=tt(r)?!!r.capture:!!r,n=fe(n),t&&t[Kt]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Xt(o=t.a[e],n,r,i))&&(Yt(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=le(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Xt(e,n,r,i)),(n=-1<t?e[t]:null)&&se(n))}function se(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Kt])Jt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ae(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=le(e))?(Jt(n,t),0==n.b&&(n.src=null,e[te]=null)):Yt(t)}}}function ae(t){return t in ee?ee[t]:ee[t]="on"+t}function ue(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&se(t),n.call(r,e)}function ce(t,e){if(t.Y)return!0;if(!qt){if(!e)t:{e=["window","event"];for(var n=Q,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return ue(t,e=new Ht(e,this))}return ue(t,new Ht(e,this))}function le(t){return(t=t[te])instanceof Qt?t:null}var he="__closure_events_fn_"+(1e9*Math.random()>>>0);function fe(t){return"function"==typeof t?t:(t[he]||(t[he]=function(e){return t.handleEvent(e)}),t[he])}function de(){ct.call(this),this.c=new Qt(this),this.J=this,this.C=null}function pe(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new zt(e,t);else if(e instanceof zt)e.target=e.target||t;else{var i=e;Tt(e=new zt(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=ge(s,r,!0,e)&&i}if(i=ge(s=e.a=t,r,!0,e)&&i,i=ge(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=ge(s=e.a=n[o],r,!1,e)&&i}function ge(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&Jt(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}ut(de,ct),de.prototype[Kt]=!0,(Z=de.prototype).addEventListener=function(t,e,n,r){ne(this,t,e,n,r)},Z.removeEventListener=function(t,e,n,r){oe(this,t,e,n,r)},Z.G=function(){if(de.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Yt(n[r]);delete e.a[t],e.b--}}this.C=null},Z.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Z.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var me=Q.JSON.stringify;function ve(){this.b=this.a=null}var ye,be=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new _e},function(t){t.reset()});function we(){var t=Ie,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function _e(){this.next=this.b=this.a=null}function Se(t){Q.setTimeout(function(){throw t},0)}function Ee(t,e){ye||function(){var t=Q.Promise.resolve(void 0);ye=function(){t.then(Ce)}}(),Te||(ye(),Te=!0),Ie.add(t,e)}ve.prototype.add=function(t,e){var n=be.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},_e.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},_e.prototype.reset=function(){this.next=this.b=this.a=null};var Te=!1,Ie=new ve;function Ce(){for(var t;t=we();){try{t.a.call(t.b)}catch(n){Se(n)}var e=be;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Te=!1}function xe(t,e){de.call(this),this.b=t||1,this.a=e||Q,this.f=ot(this.Za,this),this.g=at()}function Ae(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Oe(t,e,n){if("function"==typeof t)n&&(t=ot(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=ot(t.handleEvent,t)}return 2147483647<Number(e)?-1:Q.setTimeout(t,e||0)}function ke(t){t.a=Oe(function(){t.a=null,t.c&&(t.c=!1,ke(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}ut(xe,de),(Z=xe.prototype).aa=!1,Z.M=null,Z.Za=function(){if(this.aa){var t=at()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),pe(this,"tick"),this.aa&&(Ae(this),this.start()))}},Z.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=at())},Z.G=function(){xe.X.G.call(this),Ae(this),delete this.a};var De=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}$(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:ke(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Q.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(ct);function Ne(t){ct.call(this),this.b=t,this.a={}}ut(Ne,ct);var Re=[];function Pe(t,e,n,r){Array.isArray(n)||(n&&(Re[0]=n.toString()),n=Re);for(var i=0;i<n.length;i++){var o=ne(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Le(t){_t(t.a,function(t,e){this.a.hasOwnProperty(e)&&se(t)},t),t.a={}}function Me(){this.a=!0}function Fe(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return me(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Ne.prototype.G=function(){Ne.X.G.call(this),Le(this)},Ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Me.prototype.info=function(){};var Ue={},je=null;function Ve(){return je=je||new de}function qe(t){zt.call(this,Ue.Fa,t)}function Be(t){var e=Ve();pe(e,new qe(e,t))}function Ge(t,e){zt.call(this,Ue.STAT_EVENT,t),this.stat=e}function ze(t){var e=Ve();pe(e,new Ge(e,t))}function He(t){zt.call(this,Ue.Ga,t)}function $e(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){t()},e)}Ue.Fa="serverreachability",ut(qe,zt),Ue.STAT_EVENT="statevent",ut(Ge,zt),Ue.Ga="timingevent",ut(He,zt);var Ke={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Ze={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function We(){}function Ye(){}We.prototype.a=null;var Qe,Je={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Xe(){zt.call(this,"d")}function tn(){zt.call(this,"c")}function en(){}function nn(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Ne(this),this.P=rn,this.R=new xe(t=Dt?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}ut(Xe,zt),ut(tn,zt),ut(en,We),Qe=new en;var rn=45e3,on={},sn={};function an(t,e,n){t.H=1,t.i=On(En(e)),t.j=n,t.I=!0,un(t,null)}function un(t,e){t.u=at(),hn(t),t.l=En(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Bn(n.b,"t",r),t.D=0,t.a=Mr(t.g,t.g.C?e:null),0<t.O&&(t.F=new De(ot(t.Ca,t,t.a),t.O)),Pe(t.J,t.a,"readystatechange",t.Xa),e=t.B?St(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Be(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function cn(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=ln(t,n);if(i==sn){4==e&&(t.h=4,ze(14),r=!1),Fe(t.c,t.f,null,"[Incomplete Response]");break}if(i==on){t.h=4,ze(15),Fe(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Fe(t.c,t.f,i,null),mn(t,i)}4==e&&0==n.length&&(t.h=1,ze(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ar(e),e.F=!0,ze(11))):(Fe(t.c,t.f,n,"[Invalid Chunked Response]"),gn(t),pn(t))}function ln(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?sn:(n=Number(e.substring(n,r)),isNaN(n)?on:(r+=1)+n>e.length?sn:(e=e.substr(r,n),t.D=r+n,e))}function hn(t){t.T=at()+t.P,fn(t,t.P)}function fn(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=$e(ot(t.Va,t),e)}function dn(t){t.o&&(Q.clearTimeout(t.o),t.o=null)}function pn(t){0==t.g.v||t.A||Dr(t.g,t)}function gn(t){dn(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Ae(t.R),Le(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function mn(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Wn(n.b,t)))if(n.I=t.N,!t.C&&Wn(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(bd){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;kr(n),br(n)}xr(n),ze(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=$e(ot(n.Sa,n),6e3));if(1>=Zn(n.b)&&n.ea){try{n.ea()}catch(bd){}n.ea=void 0}}else Rr(n,11)}else if((t.C||n.a==t)&&kr(n),!pt(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(vt(l,"spdy")||vt(l,"quic")||vt(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Yn(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,An(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=at()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=Lr(u,u.C?u.ga:null,u.fa),d.C){Qn(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(dn(p),hn(p)),u.a=d}else Cr(u);0<n.g.length&&Sr(n)}else"stop"!=i[0]&&"close"!=i[0]||Rr(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Rr(n,7):yr(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Be(4)}catch(bd){}}function vn(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(X(t)||"string"==typeof t)ht(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(X(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(X(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function yn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof yn)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function bn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];wn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)wn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function wn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Z=nn.prototype).setTimeout=function(t){this.P=t},Z.Xa=function(t){t=t.target;var e=this.F;e&&3==pr(t)?e.f():this.Ca(t)},Z.Ca=function(t){try{if(t==this.a)t:{var e=pr(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Dt&&!this.a.$())){this.A||4!=e||7==n||Be(8==n||0>=r?3:2),dn(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pt(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,ze(12),gn(this),pn(this);break t}Fe(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,mn(this,u)}this.I?(cn(this,e,o),Dt&&this.b&&3==e&&(Pe(this.J,this.R,"tick",this.Wa),this.R.start())):(Fe(this.c,this.f,o,null),mn(this,o)),4==e&&gn(this),this.b&&!this.A&&(4==e?Dr(this.g,this):(this.b=!1,hn(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,ze(12)):(this.h=0,ze(13)),gn(this),pn(this)}}}catch(c){}},Z.Wa=function(){if(this.a){var t=pr(this.a),e=this.a.$();this.D<e.length&&(dn(this),cn(this,t,e),this.b&&4!=t&&hn(this))}},Z.cancel=function(){this.A=!0,gn(this)},Z.Va=function(){this.o=null;var t=at();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Be(3),ze(17)),gn(this),this.h=2,pn(this)):fn(this,this.T-t)},(Z=yn.prototype).K=function(){bn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Z.L=function(){return bn(this),this.a.concat()},Z.get=function(t,e){return wn(this.b,t)?this.b[t]:e},Z.set=function(t,e){wn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Z.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var _n=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Sn(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Sn){this.a=void 0!==e?e:t.a,Tn(this,t.f),this.j=t.j,In(this,t.c),Cn(this,t.h),this.g=t.g,e=t.b;var n=new Un;n.c=e.c,e.a&&(n.a=new yn(e.a),n.b=e.b),xn(this,n),this.i=t.i}else t&&(n=String(t).match(_n))?(this.a=!!e,Tn(this,n[1]||"",!0),this.j=kn(n[2]||""),In(this,n[3]||"",!0),Cn(this,n[4]),this.g=kn(n[5]||"",!0),xn(this,n[6]||"",!0),this.i=kn(n[7]||"")):(this.a=!!e,this.b=new Un(null,this.a))}function En(t){return new Sn(t)}function Tn(t,e,n){t.f=n?kn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function In(t,e,n){t.c=n?kn(e,!0):e}function Cn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function xn(t,e,n){e instanceof Un?(t.b=e,function(t,e){e&&!t.f&&(jn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Vn(this,e),Bn(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Dn(e,Mn)),t.b=new Un(e,t.a))}function An(t,e,n){t.b.set(e,n)}function On(t){return An(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^at()).toString(36)),t}function kn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Dn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Nn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Nn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Sn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Dn(e,Rn,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Dn(e,Rn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Dn(n,"/"==n.charAt(0)?Ln:Pn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Dn(n,Fn)),t.join("")};var Rn=/[#\/\?@]/g,Pn=/[#\?:]/g,Ln=/[#\?]/g,Mn=/[#\?@]/g,Fn=/#/g;function Un(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function jn(t){t.a||(t.a=new yn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Vn(t,e){jn(t),e=Gn(t,e),wn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,wn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&bn(t)))}function qn(t,e){return jn(t),e=Gn(t,e),wn(t.a.b,e)}function Bn(t,e,n){Vn(t,e),0<n.length&&(t.c=null,t.a.set(Gn(t,e),dt(n)),t.b+=n.length)}function Gn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Z=Un.prototype).add=function(t,e){jn(this),this.c=null,t=Gn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Z.forEach=function(t,e){jn(this),this.a.forEach(function(n,r){ht(n,function(n){t.call(e,n,r,this)},this)},this)},Z.L=function(){jn(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Z.K=function(t){jn(this);var e=[];if("string"==typeof t)qn(this,t)&&(e=ft(e,this.a.get(Gn(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=ft(e,t[n])}return e},Z.set=function(t,e){return jn(this),this.c=null,qn(this,t=Gn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Z.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Z.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var zn=function(){return function(t,e){this.b=t,this.a=e}}();function Hn(t){this.g=t||$n,t=Q.PerformanceNavigationTiming?0<(t=Q.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Q.ia&&Q.ia.ya&&Q.ia.ya()&&Q.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var $n=10;function Kn(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Zn(t){return t.b?1:t.a?t.a.size:0}function Wn(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Yn(t,e){t.a?t.a.add(e):t.b=e}function Qn(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Jn(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=K(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return dt(t.c)}function Xn(){}function tr(){this.a=new Xn}function er(t,e,n){var r=n||"";try{vn(t,function(t,n){var i=t;tt(t)&&(i=me(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(rp){throw e.push(r+"type="+encodeURIComponent("_badmap")),rp}}function nr(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Hn.prototype.cancel=function(){var t,e;if(this.c=Jn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=K(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Xn.prototype.stringify=function(t){return Q.JSON.stringify(t,void 0)},Xn.prototype.parse=function(t){return Q.JSON.parse(t,void 0)};var rr=Q.JSON.parse;function ir(t){de.call(this),this.headers=new yn,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=or,this.D=this.F=!1}ut(ir,de);var or="",sr=/^https?$/i,ar=["POST","PUT"];function ur(t){return"content-type"==t.toLowerCase()}function cr(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,lr(t),fr(t)}function lr(t){t.u||(t.u=!0,pe(t,"complete"),pe(t,"error"))}function hr(t){if(t.b&&void 0!==Y&&(!t.s[1]||4!=pr(t)||2!=t.W()))if(t.l&&4==pr(t))Oe(t.za,0,t);else if(pe(t,"readystatechange"),4==pr(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(_n)[1]||null;if(!o&&Q.self&&Q.self.location){var s=Q.self.location.protocol;o=s.substr(0,s.length-1)}i=!sr.test(o?o.toLowerCase():"")}e=i}if(e)pe(t,"complete"),pe(t,"success");else{t.h=6;try{var a=2<pr(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",lr(t)}}finally{fr(t)}}}function fr(t,e){if(t.a){dr(t);var n=t.a,r=t.s[0]?J:null;t.a=null,t.s=null,e||pe(t,"ready");try{n.onreadystatechange=r}catch(rp){}}}function dr(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Q.clearTimeout(t.m),t.m=null)}function pr(t){return t.a?t.a.readyState:0}function gr(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return _t(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):An(t,e,n))}function mr(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function vr(t){this.pa=0,this.g=[],this.c=new Me,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=mr("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=mr("baseRetryDelayMs",5e3,t),this.Ra=mr("retryDelaySeedMs",1e4,t),this.Ma=mr("forwardChannelMaxRetries",2,t),this.ma=mr("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Hn(t&&t.concurrentRequestLimit),this.ka=new tr,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function yr(t){if(wr(t),3==t.v){var e=t.R++,n=En(t.B);An(n,"SID",t.J),An(n,"RID",e),An(n,"TYPE","terminate"),Tr(t,n),(e=new nn(t,t.c,e,void 0)).H=2,e.i=On(En(n)),n=!1,Q.navigator&&Q.navigator.sendBeacon&&(n=Q.navigator.sendBeacon(e.i.toString(),"")),!n&&Q.Image&&((new Image).src=e.i,n=!0),n||(e.a=Mr(e.g,null),e.a.ba(e.i)),e.u=at(),hn(e)}Pr(t)}function br(t){t.a&&(Ar(t),t.a.cancel(),t.a=null)}function wr(t){br(t),t.j&&(Q.clearTimeout(t.j),t.j=null),kr(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Q.clearTimeout(t.h),t.h=null)}function _r(t,e){t.g.push(new zn(t.Oa++,e)),3==t.v&&Sr(t)}function Sr(t){Kn(t.b)||t.h||(t.h=!0,Ee(t.Ba,t),t.u=0)}function Er(t,e){var n;n=e?e.f:t.R++;var r=En(t.B);An(r,"SID",t.J),An(r,"RID",n),An(r,"AID",t.P),Tr(t,r),t.i&&t.l&&gr(r,t.i,t.l),n=new nn(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Ir(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Yn(t.b,n),an(n,r,e)}function Tr(t,e){t.f&&vn({},function(t,n){An(e,n,t)})}function Ir(t,e,n){n=Math.min(t.g.length,n);var r=t.f?ot(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{er(l,s,"req"+c+"_")}catch(di){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Cr(t){t.a||t.j||(t.T=1,Ee(t.Aa,t),t.o=0)}function xr(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=$e(ot(t.Aa,t),Nr(t,t.o)),t.o++,0))}function Ar(t){null!=t.s&&(Q.clearTimeout(t.s),t.s=null)}function Or(t){t.a=new nn(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=En(t.la);An(e,"RID","rpc"),An(e,"SID",t.J),An(e,"CI",t.H?"0":"1"),An(e,"AID",t.P),Tr(t,e),An(e,"TYPE","xmlhttp"),t.i&&t.l&&gr(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=On(En(e)),n.j=null,n.I=!0,un(n,t)}function kr(t){null!=t.m&&(Q.clearTimeout(t.m),t.m=null)}function Dr(t,e){var n=null;if(t.a==e){kr(t),Ar(t),t.a=null;var r=2}else{if(!Wn(t.b,e))return;n=e.s,Qn(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=at()-e.u;var i=t.u;pe(r=Ve(),new He(r,n,e,i)),Sr(t)}else Cr(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Zn(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=$e(ot(t.Ba,t,e),Nr(t,t.u)),t.u++,0)))}(t,e)||2==r&&xr(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Rr(t,5);break;case 4:Rr(t,10);break;case 3:Rr(t,6);break;default:Rr(t,2)}}function Nr(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Rr(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=ot(t.Ya,t);n||(n=new Sn("//www.google.com/images/cleardot.gif"),Q.location&&"http"==Q.location.protocol||Tn(n,"https"),On(n)),function(t,e){var n=new Me;if(Q.Image){var r=new Image;r.onload=st(nr,n,r,"TestLoadImage: loaded",!0,e),r.onerror=st(nr,n,r,"TestLoadImage: error",!1,e),r.onabort=st(nr,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=st(nr,n,r,"TestLoadImage: timeout",!1,e),Q.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else ze(2);t.v=0,t.f&&t.f.ra(e),Pr(t),wr(t)}function Pr(t){t.v=0,t.I=-1,t.f&&(0==Jn(t.b).length&&0==t.g.length||(t.b.c.length=0,dt(t.g),t.g.length=0),t.f.qa())}function Lr(t,e,n){var r=function(t){return t instanceof Sn?En(t):new Sn(t,void 0)}(n);if(""!=r.c)e&&In(r,e+"."+r.c),Cn(r,r.h);else{var i=Q.location;r=function(t,e,n,r){var i=new Sn(null,void 0);return t&&Tn(i,t),e&&In(i,e),n&&Cn(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&_t(t.V,function(t,e){An(r,e,t)}),n=t.na,(e=t.A)&&n&&An(r,e,n),An(r,"VER",t.ha),Tr(t,r),r}function Mr(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ir(t.Na)).F=t.C,e}function Fr(){}function Ur(){if(Ot&&!(10<=Number(Vt)))throw Error("Environmental error: no available transport.")}function jr(t,e){de.call(this),this.a=new vr(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!pt(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!pt(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Br(this)}function Vr(t){Xe.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function qr(){tn.call(this),this.status=1}function Br(t){this.a=t}(Z=ir.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Qe),this.a.onreadystatechange=ot(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void cr(this,o)}t=n||"";var i=new yn(this.headers);r&&vn(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=ur,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Q.FormData&&t instanceof Q.FormData,!(0<=lt(ar,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{dr(this),0<this.o&&((this.D=function(t){return Ot&&jt(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=ot(this.xa,this)):this.m=Oe(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){cr(this,o)}},Z.xa=function(){void 0!==Y&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,pe(this,"timeout"),this.abort(8))},Z.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,pe(this,"complete"),pe(this,"abort"),fr(this))},Z.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),fr(this,!0)),ir.X.G.call(this)},Z.za=function(){this.j||(this.A||this.l||this.g?hr(this):this.Ua())},Z.Ua=function(){hr(this)},Z.W=function(){try{return 2<pr(this)?this.a.status:-1}catch(xt){return-1}},Z.$=function(){try{return this.a?this.a.responseText:""}catch(xt){return""}},Z.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),rr(e)}},Z.ua=function(){return this.h},Z.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Z=vr.prototype).ha=8,Z.v=1,Z.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new nn(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Tt(r=St(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Ir(this,n,e),An(i=En(this.B),"RID",t),An(i,"CVER",22),this.A&&An(i,"X-HTTP-Session-Id",this.A),Tr(this,i),this.i&&r&&gr(i,this.i,r),Yn(this.b,n),this.Ia&&An(i,"TYPE","init"),this.da?(An(i,"$req",e),An(i,"SID","null"),n.U=!0,an(n,i,null)):an(n,i,e),this.v=2}}else 3==this.v&&(t?Er(this,t):0==this.g.length||Kn(this.b)||Er(this))},Z.Aa=function(){if(this.j=null,Or(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=$e(ot(this.Ta,this),t)}},Z.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,ze(10),br(this),Or(this))},Z.Sa=function(){null!=this.m&&(this.m=null,br(this),xr(this),ze(19))},Z.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),ze(2)):(this.c.info("Failed to ping google.com"),ze(1))},(Z=Fr.prototype).ta=function(){},Z.sa=function(){},Z.ra=function(){},Z.qa=function(){},Z.Ja=function(){},Ur.prototype.a=function(t,e){return new jr(t,e)},ut(jr,de),jr.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;ze(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Lr(t,null,t.fa),Sr(t)},jr.prototype.close=function(){yr(this.a)},jr.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,_r(this.a,e)}else this.l?((e={}).__data__=me(t),_r(this.a,e)):_r(this.a,t)},jr.prototype.G=function(){this.a.f=null,delete this.f,yr(this.a),delete this.a,jr.X.G.call(this)},ut(Vr,Xe),ut(qr,tn),ut(Br,Fr),Br.prototype.ta=function(){pe(this.a,"a")},Br.prototype.sa=function(t){pe(this.a,new Vr(t))},Br.prototype.ra=function(t){pe(this.a,new qr(t))},Br.prototype.qa=function(){pe(this.a,"b")},Ur.prototype.createWebChannel=Ur.prototype.a,jr.prototype.send=jr.prototype.h,jr.prototype.open=jr.prototype.g,jr.prototype.close=jr.prototype.close,Ke.NO_ERROR=0,Ke.TIMEOUT=8,Ke.HTTP_ERROR=6,Ze.COMPLETE="complete",Ye.EventType=Je,Je.OPEN="a",Je.CLOSE="b",Je.ERROR="c",Je.MESSAGE="d",de.prototype.listen=de.prototype.va,ir.prototype.listenOnce=ir.prototype.wa,ir.prototype.getLastError=ir.prototype.Qa,ir.prototype.getLastErrorCode=ir.prototype.ua,ir.prototype.getStatus=ir.prototype.W,ir.prototype.getResponseJson=ir.prototype.Pa,ir.prototype.getResponseText=ir.prototype.$,ir.prototype.send=ir.prototype.ba;var Gr=Ke,zr=Ze,Hr=Ue,$r=Ye,Kr=ir,Zr=n(4762),Wr=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Wr.o=-1;var Yr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Qr=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,Zr.ZT)(e,t),e}(Error),Jr=new H.Yd("@firebase/firestore");function Xr(){return Jr.logLevel}function ti(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Jr.logLevel<=H.in.DEBUG){var r=e.map(ri);Jr.debug.apply(Jr,(0,Zr.ev)(["Firestore (8.6.3): "+t],r))}}function ei(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Jr.logLevel<=H.in.ERROR){var r=e.map(ri);Jr.error.apply(Jr,(0,Zr.ev)(["Firestore (8.6.3): "+t],r))}}function ni(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Jr.logLevel<=H.in.WARN){var r=e.map(ri);Jr.warn.apply(Jr,(0,Zr.ev)(["Firestore (8.6.3): "+t],r))}}function ri(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(rp){return t}}function ii(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.6.3) INTERNAL ASSERTION FAILED: "+t;throw ei(e),new Error(e)}function oi(t,e){t||ii()}function si(t,e){return t}function ai(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var ui=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=ai(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function ci(t,e){return t<e?-1:t>e?1:0}function li(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function hi(t){return t+"\0"}var fi=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Qr(Yr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Qr(Yr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Qr(Yr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Qr(Yr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?ci(this.nanoseconds,t.nanoseconds):ci(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),di=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new fi(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function pi(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function gi(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mi(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var vi=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&ii(),void 0===n?n=t.length-e:n>t.length-e&&ii(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),yi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Zr.ZT)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Qr(Yr.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(vi),bi=/^[_a-zA-Z][_a-zA-Z0-9]*$/,wi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Zr.ZT)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return bi.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Qr(Yr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Qr(Yr.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Qr(Yr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Qr(Yr.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(vi),_i=function(){function t(t){this.fields=t,t.sort(wi.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return li(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Si=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return ci(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Si.EMPTY_BYTE_STRING=new Si("");var Ei=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ti(t){if(oi(!!t),"string"==typeof t){var e=0,n=Ei.exec(t);if(oi(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ii(t.seconds),nanos:Ii(t.nanos)}}function Ii(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ci(t){return"string"==typeof t?Si.fromBase64String(t):Si.fromUint8Array(t)}function xi(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ai(t){var e=t.mapValue.fields.__previous_value__;return xi(e)?Ai(e):e}function Oi(t){var e=Ti(t.mapValue.fields.__local_write_time__.timestampValue);return new fi(e.seconds,e.nanos)}function ki(t){return null==t}function Di(t){return 0===t&&1/t==-1/0}function Ni(t){return"number"==typeof t&&Number.isInteger(t)&&!Di(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Ri=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(yi.fromString(e))},t.fromName=function(e){return new t(yi.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===yi.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return yi.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new yi(e.slice()))},t}();function Pi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?xi(t)?4:10:ii()}function Li(t,e){var n=Pi(t);if(n!==Pi(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Oi(t).isEqual(Oi(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Ti(t.timestampValue),r=Ti(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Ci(t.bytesValue).isEqual(Ci(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Ii(t.geoPointValue.latitude)===Ii(e.geoPointValue.latitude)&&Ii(t.geoPointValue.longitude)===Ii(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Ii(t.integerValue)===Ii(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Ii(t.doubleValue),r=Ii(e.doubleValue);return n===r?Di(n)===Di(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return li(t.arrayValue.values||[],e.arrayValue.values||[],Li);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(pi(n)!==pi(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Li(n[i],r[i])))return!1;return!0}(t,e);default:return ii()}}function Mi(t,e){return void 0!==(t.values||[]).find(function(t){return Li(t,e)})}function Fi(t,e){var n=Pi(t),r=Pi(e);if(n!==r)return ci(n,r);switch(n){case 0:return 0;case 1:return ci(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Ii(t.integerValue||t.doubleValue),r=Ii(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Ui(t.timestampValue,e.timestampValue);case 4:return Ui(Oi(t),Oi(e));case 5:return ci(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Ci(t),r=Ci(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=ci(n[i],r[i]);if(0!==o)return o}return ci(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=ci(Ii(t.latitude),Ii(e.latitude));return 0!==n?n:ci(Ii(t.longitude),Ii(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Fi(n[i],r[i]);if(o)return o}return ci(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=ci(r[s],o[s]);if(0!==a)return a;var u=Fi(n[r[s]],i[o[s]]);if(0!==u)return u}return ci(r.length,o.length)}(t.mapValue,e.mapValue);default:throw ii()}}function Ui(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ci(t,e);var n=Ti(t),r=Ti(e),i=ci(n.seconds,r.seconds);return 0!==i?i:ci(n.nanos,r.nanos)}function ji(t){return Vi(t)}function Vi(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Ti(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ci(t.bytesValue).toBase64():"referenceValue"in t?Ri.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Vi(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Vi(t.fields[o])}return e+"}"}(t.mapValue):ii();var e}function qi(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Bi(t){return!!t&&"integerValue"in t}function Gi(t){return!!t&&"arrayValue"in t}function zi(t){return!!t&&"nullValue"in t}function Hi(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $i(t){return!!t&&"mapValue"in t}function Ki(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue)return{timestampValue:Object.assign({},Ti(t.timestampValue))};if(t.mapValue){var e={mapValue:{fields:{}}};return gi(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=Ki(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ki(t.arrayValue.values[r]);return n}return Object.assign({},t)}var Zi=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!$i(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ki(e)},t.prototype.setAll=function(t){var e=this,n=wi.emptyPath(),r={},i=[];t.forEach(function(t,o){if(!n.isImmediateParentOf(o)){var s=e.getFieldsMap(n);e.applyChanges(s,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=Ki(t):i.push(o.lastSegment())});var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());$i(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return Li(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];$i(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){gi(e,function(e,n){return t[e]=n});for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(Ki(this.value))},t}();function Wi(t){var e=[];return gi(t.fields,function(t,n){var r=new wi([t]);if($i(n)){var i=Wi(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new _i(e)}var Yi=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,di.min(),Zi.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Zi.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Zi.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Zi.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Zi.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Qi=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function Ji(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Qi(t,e,n,r,i,o,s)}function Xi(t){var e=si(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+ji(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),ki(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=fo(e.startAt)),e.endAt&&(n+="|ub:",n+=fo(e.endAt)),e.h=n}return e.h}function to(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!go(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Li(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!vo(t.startAt,e.startAt)&&vo(t.endAt,e.endAt)}function eo(t){return Ri.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var no=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return(0,Zr.ZT)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new ro(t,n,r):"array-contains"===n?new ao(t,r):"in"===n?new uo(t,r):"not-in"===n?new co(t,r):"array-contains-any"===n?new lo(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new io(t,n):new oo(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Fi(e,this.value)):null!==e&&Pi(this.value)===Pi(e)&&this.m(Fi(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ii()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),ro=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Ri.fromName(r.referenceValue),i}return(0,Zr.ZT)(e,t),e.prototype.matches=function(t){var e=Ri.comparator(t.key,this.key);return this.m(e)},e}(no),io=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=so(0,n),r}return(0,Zr.ZT)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(no),oo=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=so(0,n),r}return(0,Zr.ZT)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(no);function so(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Ri.fromName(t.referenceValue)})}var ao=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return(0,Zr.ZT)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Gi(e)&&Mi(e.arrayValue,this.value)},e}(no),uo=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return(0,Zr.ZT)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&Mi(this.value.arrayValue,e)},e}(no),co=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return(0,Zr.ZT)(e,t),e.prototype.matches=function(t){if(Mi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!Mi(this.value.arrayValue,e)},e}(no),lo=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return(0,Zr.ZT)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Gi(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Mi(e.value.arrayValue,t)})},e}(no),ho=function(t,e){this.position=t,this.before=e};function fo(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return ji(t)}).join(",")}var po=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function go(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function mo(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?Ri.comparator(Ri.fromName(s.referenceValue),n.key):Fi(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function vo(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Li(t.position[n],e.position[n]))return!1;return!0}var yo=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function bo(t,e,n,r,i,o,s,a){return new yo(t,e,n,r,i,o,s,a)}function wo(t){return new yo(t)}function _o(t){return!ki(t.limit)&&"F"===t.limitType}function So(t){return!ki(t.limit)&&"L"===t.limitType}function Eo(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function To(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Io(t){return null!==t.collectionGroup}function Co(t){var e=si(t);if(null===e.p){e.p=[];var n=To(e),r=Eo(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new po(n)),e.p.push(new po(wi.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new po(wi.keyField(),u))}}}return e.p}function xo(t){var e=si(t);if(!e.T)if("F"===e.limitType)e.T=Ji(e.path,e.collectionGroup,Co(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Co(e);r<i.length;r++){var o=i[r];n.push(new po(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new ho(e.endAt.position,!e.endAt.before):null,a=e.startAt?new ho(e.startAt.position,!e.startAt.before):null;e.T=Ji(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function Ao(t,e,n){return new yo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Oo(t,e){return to(xo(t),xo(e))&&t.limitType===e.limitType}function ko(t){return Xi(xo(t))+"|lt:"+t.limitType}function Do(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+ji(e.value);var e}).join(", ")+"]"),ki(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+fo(t.startAt)),t.endAt&&(e+=", endAt: "+fo(t.endAt)),"Target("+e+")"}(xo(t))+"; limitType="+t.limitType+")"}function No(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Ri.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!mo(t.startAt,Co(t),e)||t.endAt&&mo(t.endAt,Co(t),e))}(t,e)}function Ro(t){return function(e,n){for(var r=!1,i=0,o=Co(t);i<o.length;i++){var s=o[i],a=Po(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function Po(t,e,n){var r=t.field.isKeyField()?Ri.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Fi(r,i):ii()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ii()}}function Lo(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Di(e)?"-0":e}}function Mo(t){return{integerValue:""+t}}function Fo(t,e){return Ni(e)?Mo(e):Lo(t,e)}var Uo=function(){this._=void 0};function jo(t,e,n){return t instanceof Bo?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Go?zo(t,e):t instanceof Ho?$o(t,e):function(t,e){var n=qo(t,e),r=Zo(n)+Zo(t.A);return Bi(n)&&Bi(t.A)?Mo(r):Lo(t.R,r)}(t,e)}function Vo(t,e,n){return t instanceof Go?zo(t,e):t instanceof Ho?$o(t,e):n}function qo(t,e){return t instanceof Ko?Bi(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Bo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Zr.ZT)(e,t),e}(Uo),Go=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,Zr.ZT)(e,t),e}(Uo);function zo(t,e){for(var n=Wo(e),r=function(t){n.some(function(e){return Li(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ho=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,Zr.ZT)(e,t),e}(Uo);function $o(t,e){for(var n=Wo(e),r=function(t){n=n.filter(function(e){return!Li(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ko=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return(0,Zr.ZT)(e,t),e}(Uo);function Zo(t){return Ii(t.integerValue||t.doubleValue)}function Wo(t){return Gi(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Yo=function(t,e){this.field=t,this.transform=e},Qo=function(t,e){this.version=t,this.transformResults=e},Jo=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Xo(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var ts=function(){};function es(t,e,n){t instanceof ss?function(t,e,n){var r=t.value.clone(),i=cs(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof as?function(t,e,n){if(Xo(t.precondition,e)){var r=cs(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(us(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function ns(t,e,n){t instanceof ss?function(t,e,n){if(Xo(t.precondition,e)){var r=t.value.clone(),i=ls(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(os(e),r).setHasLocalMutations()}}(t,e,n):t instanceof as?function(t,e,n){if(Xo(t.precondition,e)){var r=ls(t.fieldTransforms,n,e),i=e.data;i.setAll(us(t)),i.setAll(r),e.convertToFoundDocument(os(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Xo(t.precondition,e)&&e.convertToNoDocument(di.min())}(t,e)}function rs(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=qo(o.transform,s||null);null!=a&&(null==n&&(n=Zi.empty()),n.set(o.field,a))}return n||null}function is(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&li(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Go&&e instanceof Go||t instanceof Ho&&e instanceof Ho?li(t.elements,e.elements,Li):t instanceof Ko&&e instanceof Ko?Li(t.A,e.A):t instanceof Bo&&e instanceof Bo}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function os(t){return t.isFoundDocument()?t.version:di.min()}var ss=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,Zr.ZT)(e,t),e}(ts),as=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return(0,Zr.ZT)(e,t),e}(ts);function us(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function cs(t,e,n){var r=new Map;oi(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Vo(s,a,n[i]))}return r}function ls(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,jo(a,u,e))}return r}var hs,fs,ds=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,Zr.ZT)(e,t),e}(ts),ps=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,Zr.ZT)(e,t),e}(ts),gs=function(t){this.count=t};function ms(t){switch(t){case Yr.OK:return ii();case Yr.CANCELLED:case Yr.UNKNOWN:case Yr.DEADLINE_EXCEEDED:case Yr.RESOURCE_EXHAUSTED:case Yr.INTERNAL:case Yr.UNAVAILABLE:case Yr.UNAUTHENTICATED:return!1;case Yr.INVALID_ARGUMENT:case Yr.NOT_FOUND:case Yr.ALREADY_EXISTS:case Yr.PERMISSION_DENIED:case Yr.FAILED_PRECONDITION:case Yr.ABORTED:case Yr.OUT_OF_RANGE:case Yr.UNIMPLEMENTED:case Yr.DATA_LOSS:return!0;default:return ii()}}function vs(t){if(void 0===t)return ei("GRPC error has no .code"),Yr.UNKNOWN;switch(t){case hs.OK:return Yr.OK;case hs.CANCELLED:return Yr.CANCELLED;case hs.UNKNOWN:return Yr.UNKNOWN;case hs.DEADLINE_EXCEEDED:return Yr.DEADLINE_EXCEEDED;case hs.RESOURCE_EXHAUSTED:return Yr.RESOURCE_EXHAUSTED;case hs.INTERNAL:return Yr.INTERNAL;case hs.UNAVAILABLE:return Yr.UNAVAILABLE;case hs.UNAUTHENTICATED:return Yr.UNAUTHENTICATED;case hs.INVALID_ARGUMENT:return Yr.INVALID_ARGUMENT;case hs.NOT_FOUND:return Yr.NOT_FOUND;case hs.ALREADY_EXISTS:return Yr.ALREADY_EXISTS;case hs.PERMISSION_DENIED:return Yr.PERMISSION_DENIED;case hs.FAILED_PRECONDITION:return Yr.FAILED_PRECONDITION;case hs.ABORTED:return Yr.ABORTED;case hs.OUT_OF_RANGE:return Yr.OUT_OF_RANGE;case hs.UNIMPLEMENTED:return Yr.UNIMPLEMENTED;case hs.DATA_LOSS:return Yr.DATA_LOSS;default:return ii()}}(fs=hs||(hs={}))[fs.OK=0]="OK",fs[fs.CANCELLED=1]="CANCELLED",fs[fs.UNKNOWN=2]="UNKNOWN",fs[fs.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fs[fs.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fs[fs.NOT_FOUND=5]="NOT_FOUND",fs[fs.ALREADY_EXISTS=6]="ALREADY_EXISTS",fs[fs.PERMISSION_DENIED=7]="PERMISSION_DENIED",fs[fs.UNAUTHENTICATED=16]="UNAUTHENTICATED",fs[fs.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fs[fs.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fs[fs.ABORTED=10]="ABORTED",fs[fs.OUT_OF_RANGE=11]="OUT_OF_RANGE",fs[fs.UNIMPLEMENTED=12]="UNIMPLEMENTED",fs[fs.INTERNAL=13]="INTERNAL",fs[fs.UNAVAILABLE=14]="UNAVAILABLE",fs[fs.DATA_LOSS=15]="DATA_LOSS";var ys=function(){function t(t,e){this.comparator=t,this.root=e||ws.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ws.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ws.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new bs(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new bs(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new bs(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new bs(this.root,t,this.comparator,!0)},t}(),bs=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),ws=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw ii();if(this.right.isRed())throw ii();var t=this.left.check();if(t!==this.right.check())throw ii();return t+(this.isRed()?0:1)},t}();ws.EMPTY=null,ws.RED=!0,ws.BLACK=!1,ws.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw ii()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw ii()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw ii()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw ii()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw ii()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new ws(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var _s=function(){function t(t){this.comparator=t,this.data=new ys(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Ss(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Ss(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Ss=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Es=new ys(Ri.comparator);function Ts(){return Es}var Is=new ys(Ri.comparator);function Cs(){return Is}var xs=new ys(Ri.comparator);function As(){return xs}var Os=new _s(Ri.comparator);function ks(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Os,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Ds=new _s(ci);function Ns(){return Ds}var Rs=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Ps.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(di.min(),r,Ns(),Ts(),ks())},t}(),Ps=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Si.EMPTY_BYTE_STRING,n,ks(),ks(),ks())},t}(),Ls=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},Ms=function(t,e){this.targetId=t,this.V=e},Fs=function(t,e,n,r){void 0===n&&(n=Si.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Us=function(){function t(){this.S=0,this.D=qs(),this.C=Si.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=ks(),e=ks(),n=ks();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:ii()}}),new Ps(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=qs()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),js=function(){function t(t){this.W=t,this.G=new Map,this.H=Ts(),this.J=Vs(),this.Y=new _s(ci)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:ii()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(eo(i))if(0===n){var o=new Ri(i.path);this.tt(e,o,Yi.newNoDocument(o,di.min()))}else oi(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&eo(o.target)){var s=new Ri(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,Yi.newNoDocument(s,t))}r.$&&(n.set(i,r.M()),r.L())}});var r=ks();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Rs(t,n,this.Y,this.H,r);return this.H=Ts(),this.J=Vs(),this.Y=new _s(ci),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Us,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new _s(ci),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||ti("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Us),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Vs(){return new ys(Ri.comparator)}function qs(){return new ys(Ri.comparator)}var Bs={asc:"ASCENDING",desc:"DESCENDING"},Gs={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zs=function(t,e){this.databaseId=t,this.I=e};function Hs(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function $s(t,e){return t.I?e.toBase64():e.toUint8Array()}function Ks(t,e){return Hs(t,e.toTimestamp())}function Zs(t){return oi(!!t),di.fromTimestamp(function(t){var e=Ti(t);return new fi(e.seconds,e.nanos)}(t))}function Ws(t,e){return function(t){return new yi(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Ys(t){var e=yi.fromString(t);return oi(wa(e)),e}function Qs(t,e){return Ws(t.databaseId,e.path)}function Js(t,e){var n=Ys(e);if(n.get(1)!==t.databaseId.projectId)throw new Qr(Yr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Qr(Yr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ri(na(n))}function Xs(t,e){return Ws(t.databaseId,e)}function ta(t){var e=Ys(t);return 4===e.length?yi.emptyPath():na(e)}function ea(t){return new yi(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function na(t){return oi(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function ra(t,e,n){return{name:Qs(t,e),fields:n.value.mapValue.fields}}function ia(t,e,n){var r=Js(t,e.name),i=Zs(e.updateTime),o=new Zi({mapValue:{fields:e.fields}}),s=Yi.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function oa(t,e){var n;if(e instanceof ss)n={update:ra(t,e.key,e.value)};else if(e instanceof ds)n={delete:Qs(t,e.key)};else if(e instanceof as)n={update:ra(t,e.key,e.data),updateMask:ba(e.fieldMask)};else{if(!(e instanceof ps))return ii();n={verify:Qs(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Bo)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Go)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ho)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ko)return{fieldPath:e.field.canonicalString(),increment:n.A};throw ii()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Ks(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:ii()}(t,e.precondition)),n}function sa(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Jo.updateTime(Zs(t.updateTime)):void 0!==t.exists?Jo.exists(t.exists):Jo.none()}(e.currentDocument):Jo.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(oi("REQUEST_TIME"===e.setToServerValue),n=new Bo):"appendMissingElements"in e?n=new Go(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Ho(e.removeAllFromArray.values||[]):"increment"in e?n=new Ko(t,e.increment):ii();var r=wi.fromServerFormat(e.fieldPath);return new Yo(r,n)}(t,e)}):[];if(e.update){var i=Js(t,e.update.name),o=new Zi({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new _i((t.fieldPaths||[]).map(function(t){return wi.fromServerFormat(t)}))}(e.updateMask);return new as(i,o,s,n,r)}return new ss(i,o,n,r)}if(e.delete){var a=Js(t,e.delete);return new ds(a,n)}if(e.verify){var u=Js(t,e.verify);return new ps(u,n)}return ii()}function aa(t,e){return{documents:[Xs(t,e.path)]}}function ua(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Xs(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Xs(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Hi(t.value))return{unaryFilter:{field:ga(t.field),op:"IS_NAN"}};if(zi(t.value))return{unaryFilter:{field:ga(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Hi(t.value))return{unaryFilter:{field:ga(t.field),op:"IS_NOT_NAN"}};if(zi(t.value))return{unaryFilter:{field:ga(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ga(t.field),op:pa(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:ga(t.field),direction:da(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||ki(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=ha(e.startAt)),e.endAt&&(n.structuredQuery.endAt=ha(e.endAt)),n}function ca(t){var e=ta(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){oi(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=la(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new po(ma(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return ki(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=fa(n.startAt));var l=null;return n.endAt&&(l=fa(n.endAt)),bo(e,i,a,s,u,"F",c,l)}function la(t){return t?void 0!==t.unaryFilter?[ya(t)]:void 0!==t.fieldFilter?[va(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return la(t)}).reduce(function(t,e){return t.concat(e)}):ii():[]}function ha(t){return{before:t.before,values:t.position}}function fa(t){return new ho(t.values||[],!!t.before)}function da(t){return Bs[t]}function pa(t){return Gs[t]}function ga(t){return{fieldPath:t.canonicalString()}}function ma(t){return wi.fromServerFormat(t.fieldPath)}function va(t){return no.create(ma(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ii()}}(t.fieldFilter.op),t.fieldFilter.value)}function ya(t){switch(t.unaryFilter.op){case"IS_NAN":var e=ma(t.unaryFilter.field);return no.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=ma(t.unaryFilter.field);return no.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ma(t.unaryFilter.field);return no.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ma(t.unaryFilter.field);return no.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ii()}}function ba(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function wa(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function _a(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Ea(e)),e=Sa(t.get(n),e);return Ea(e)}function Sa(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Ea(t){return t+"\x01\x01"}function Ta(t){var e=t.length;if(oi(e>=2),2===e)return oi("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),yi.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&ii(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:ii()}o=s+2}return new yi(r)}var Ia=function(t,e){this.seconds=t,this.nanoseconds=e},Ca=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Ca.store="owner",Ca.key="owner";var xa=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};xa.store="mutationQueues",xa.keyPath="userId";var Aa=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Aa.store="mutations",Aa.keyPath="batchId",Aa.userMutationsIndex="userMutationsIndex",Aa.userMutationsKeyPath=["userId","batchId"];var Oa=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,_a(e)]},t.key=function(t,e,n){return[t,_a(e),n]},t}();Oa.store="documentMutations",Oa.PLACEHOLDER=new Oa;var ka=function(t,e){this.path=t,this.readTime=e},Da=function(t,e){this.path=t,this.version=e},Na=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Na.store="remoteDocuments",Na.readTimeIndex="readTimeIndex",Na.readTimeIndexPath="readTime",Na.collectionReadTimeIndex="collectionReadTimeIndex",Na.collectionReadTimeIndexPath=["parentPath","readTime"];var Ra=function(t){this.byteSize=t};Ra.store="remoteDocumentGlobal",Ra.key="remoteDocumentGlobalKey";var Pa=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Pa.store="targets",Pa.keyPath="targetId",Pa.queryTargetsIndexName="queryTargetsIndex",Pa.queryTargetsKeyPath=["canonicalId","targetId"];var La=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};La.store="targetDocuments",La.keyPath=["targetId","path"],La.documentTargetsIndex="documentTargetsIndex",La.documentTargetsKeyPath=["path","targetId"];var Ma=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Ma.key="targetGlobalKey",Ma.store="targetGlobal";var Fa=function(t,e){this.collectionId=t,this.parent=e};Fa.store="collectionParents",Fa.keyPath=["collectionId","parent"];var Ua=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Ua.store="clientMetadata",Ua.keyPath="clientId";var ja=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};ja.store="bundles",ja.keyPath="bundleId";var Va=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Va.store="namedQueries",Va.keyPath="name";var qa=(0,Zr.ev)((0,Zr.ev)([],(0,Zr.ev)((0,Zr.ev)([],(0,Zr.ev)((0,Zr.ev)([],(0,Zr.ev)((0,Zr.ev)([],[xa.store,Aa.store,Oa.store,Na.store,Pa.store,Ca.store,Ma.store,La.store]),[Ua.store])),[Ra.store])),[Fa.store])),[ja.store,Va.store]),Ba="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ga=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),za=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Ha=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&ii(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),$a=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new za,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Wa(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=tu(e.target.error);n.ft.reject(new Wa(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Wa(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(ti("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Qa(e)},t}(),Ka=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t((0,z.z$)())&&ei("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return ti("SimpleDb","Removing database:",t),Ja(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=(0,z.z$)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return(0,Zr.mG)(this,void 0,void 0,function(){var e,n=this;return(0,Zr.Jh)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(ti("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Wa(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Qr(Yr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Wa(t,n))},i.onupgradeneeded=function(t){ti("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){ti("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return(0,Zr.mG)(this,void 0,void 0,function(){var i,o,s,a,u;return(0,Zr.Jh)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return(0,Zr.Jh)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=$a.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),Ha.reject(t)}).toPromise(),u={},s.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return ti("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Za=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Ja(this.Pt.delete())},t}(),Wa=function(t){function e(e,n){var r=this;return(r=t.call(this,Yr.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,Zr.ZT)(e,t),e}(Qr);function Ya(t){return"IndexedDbTransactionError"===t.name}var Qa=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(ti("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(ti("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Ja(n)},t.prototype.add=function(t){return ti("SimpleDb","ADD",this.store.name,t,t),Ja(this.store.add(t))},t.prototype.get=function(t){var e=this;return Ja(this.store.get(t)).next(function(n){return void 0===n&&(n=null),ti("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return ti("SimpleDb","DELETE",this.store.name,t),Ja(this.store.delete(t))},t.prototype.count=function(){return ti("SimpleDb","COUNT",this.store.name),Ja(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){ti("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new Ha(function(n,r){e.onerror=function(t){var e=tu(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new Ha(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Za(i),s=e(i.primaryKey,i.value,o);if(s instanceof Ha){var a=s.catch(function(t){return o.done(),Ha.reject(t)});n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return Ha.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Ja(t){return new Ha(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=tu(t.target.error);n(e)}})}var Xa=!1;function tu(t){var e=Ka._t((0,z.z$)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Qr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Xa||(Xa=!0,setTimeout(function(){throw r},0)),r}}return t}var eu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return(0,Zr.ZT)(e,t),e}(Ga);function nu(t,e){var n=si(t);return Ka.It(n.Mt,e)}var ru=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&es(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&ns(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&ns(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(di.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},ks())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&li(this.mutations,t.mutations,function(t,e){return is(t,e)})&&li(this.baseMutations,t.baseMutations,function(t,e){return is(t,e)})},t}(),iu=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){oi(e.mutations.length===r.length);for(var i=As(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),ou=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=di.min()),void 0===o&&(o=di.min()),void 0===s&&(s=Si.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),su=function(t){this.Lt=t};function au(t,e){if(e.document)return ia(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Ri.fromSegments(e.noDocument.path),r=fu(e.noDocument.readTime),i=Yi.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=Ri.fromSegments(e.unknownDocument.path);return r=fu(e.unknownDocument.version),Yi.newUnknownDocument(o,r)}return ii()}function uu(t,e,n){var r=cu(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:Qs(t,e.key),fields:e.data.value.mapValue.fields,updateTime:Hs(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new Na(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=hu(e.version);return s=e.hasCommittedMutations,new Na(null,new ka(a,u),null,s,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=hu(e.version);return new Na(new Da(c,l),null,null,!0,r,i)}return ii()}function cu(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function lu(t){var e=new fi(t[0],t[1]);return di.fromTimestamp(e)}function hu(t){var e=t.toTimestamp();return new Ia(e.seconds,e.nanoseconds)}function fu(t){var e=new fi(t.seconds,t.nanoseconds);return di.fromTimestamp(e)}function du(t,e){for(var n=(e.baseMutations||[]).map(function(e){return sa(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return sa(t.Lt,e)}),o=fi.fromMillis(e.localWriteTimeMs);return new ru(e.batchId,o,n,i)}function pu(t){var e,n,r=fu(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?fu(t.lastLimboFreeSnapshotVersion):di.min();return void 0!==t.query.documents?(oi(1===(n=t.query).documents.length),e=xo(wo(ta(n.documents[0])))):e=function(t){return xo(ca(t))}(t.query),new ou(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Si.fromBase64String(t.resumeToken))}function gu(t,e){var n,r=hu(e.snapshotVersion),i=hu(e.lastLimboFreeSnapshotVersion);n=eo(e.target)?aa(t.Lt,e.target):ua(t.Lt,e.target);var o=e.resumeToken.toBase64();return new Pa(e.targetId,Xi(e.target),r,o,e.sequenceNumber,i,n)}function mu(t){var e=ca({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Ao(e,e.limit,"L"):e}var vu=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return yu(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:fu(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return yu(t).put({bundleId:(n=e).id,createTime:hu(Zs(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return bu(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:mu(e.bundledQuery),readTime:fu(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return bu(t).put(function(t){return{name:t.name,readTime:hu(Zs(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function yu(t){return nu(t,ja.store)}function bu(t){return nu(t,Va.store)}var wu=function(){function t(){this.Bt=new _u}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Ha.resolve()},t.prototype.getCollectionParents=function(t,e){return Ha.resolve(this.Bt.getEntries(e))},t}(),_u=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new _s(yi.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new _s(yi.comparator)).toArray()},t}(),Su=function(){function t(){this.qt=new _u}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:_a(i)};return Eu(t).put(o)}return Ha.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[hi(e),""],!1,!0);return Eu(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Ta(o.parent))}return n})},t}();function Eu(t){return nu(t,Fa.store)}var Tu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Iu=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Cu(t,e,n){var r=t.store(Aa.store),i=t.store(Oa.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){oi(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Oa.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Ha.waitFor(o).next(function(){return c})}function xu(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ii();e=t.noDocument}return JSON.stringify(e).length}Iu.DEFAULT_COLLECTION_PERCENTILE=10,Iu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Iu.DEFAULT=new Iu(41943040,Iu.DEFAULT_COLLECTION_PERCENTILE,Iu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Iu.DISABLED=new Iu(-1,0,0);var Au=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return oi(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ku(t).$t({index:Aa.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=Du(t),s=ku(t);return s.add({}).next(function(a){oi("number"==typeof a);for(var u=new ru(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return oa(t.Lt,e)}),i=n.mutations.map(function(e){return oa(t.Lt,e)});return new Aa(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new _s(function(t,e){return ci(t.canonicalString(),e.canonicalString())}),f=0,d=r;f<d.length;f++){var p=d[f],g=Oa.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(g,Oa.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Qt[a]=u.keys()}),Ha.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return ku(t).get(e).next(function(t){return t?(oi(t.userId===n.userId),du(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?Ha.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return ku(t).$t({index:Aa.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(oi(e.batchId>=r),o=du(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return ku(t).$t({index:Aa.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ku(t).Nt(Aa.userMutationsIndex,n).next(function(t){return t.map(function(t){return du(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Oa.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Du(t).$t({range:i},function(r,i,s){var a=r[0],u=r[2],c=Ta(r[1]);if(a===n.userId&&e.path.isEqual(c))return ku(t).get(u).next(function(t){if(!t)throw ii();oi(t.userId===n.userId),o.push(du(n.R,t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new _s(ci),i=[];return e.forEach(function(e){var o=Oa.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Du(t).$t({range:s},function(t,i,o){var s=t[0],a=t[2],u=Ta(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),Ha.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Oa.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new _s(ci);return Du(t).$t({range:s},function(t,e,o){var s=t[0],u=t[2],c=Ta(t[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(ku(t).get(e).next(function(t){if(null===t)throw ii();oi(t.userId===n.userId),r.push(du(n.R,t))}))}),Ha.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Cu(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),Ha.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Ha.resolve();var r=IDBKeyRange.lowerBound(Oa.prefixForUser(e.userId)),i=[];return Du(t).$t({range:r},function(t,n,r){if(t[0]===e.userId){var o=Ta(t[1]);i.push(o)}else r.done()}).next(function(){oi(0===i.length)})})},t.prototype.containsKey=function(t,e){return Ou(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return Nu(t).get(this.userId).next(function(t){return t||new xa(e.userId,-1,"")})},t}();function Ou(t,e,n){var r=Oa.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Du(t).$t({range:o,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function ku(t){return nu(t,Aa.store)}function Du(t){return nu(t,Oa.store)}function Nu(t){return nu(t,xa.store)}var Ru=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Pu=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new Ru(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return di.fromTimestamp(new fi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Lu(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return oi(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return Lu(t).$t(function(s,a){var u=pu(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return Ha.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return Lu(t).$t(function(t,n){var r=pu(n);e(r)})},t.prototype.Xt=function(t){return Mu(t).get(Ma.key).next(function(t){return oi(null!==t),t})},t.prototype.Zt=function(t,e){return Mu(t).put(Ma.key,e)},t.prototype.te=function(t,e){return Lu(t).put(gu(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=Xi(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Lu(t).$t({range:r,index:Pa.queryTargetsIndexName},function(t,n,r){var o=pu(n);to(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Fu(t);return e.forEach(function(e){var s=_a(e.path);i.push(o.put(new La(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))}),Ha.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Fu(t);return Ha.forEach(e,function(e){var o=_a(e.path);return Ha.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Fu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Fu(t),i=ks();return r.$t({range:n,kt:!0},function(t,e,n){var r=Ta(t[1]),o=new Ri(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=_a(e.path),r=IDBKeyRange.bound([n],[hi(n)],!1,!0),i=0;return Fu(t).$t({index:La.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return Lu(t).get(e).next(function(t){return t?pu(t):null})},t}();function Lu(t){return nu(t,Pa.store)}function Mu(t){return nu(t,Ma.store)}function Fu(t){return nu(t,La.store)}function Uu(t){return(0,Zr.mG)(this,void 0,void 0,function(){return(0,Zr.Jh)(this,function(e){if(t.code!==Yr.FAILED_PRECONDITION||t.message!==Ba)throw t;return ti("LocalStore","Unexpectedly lost primary lease"),[2]})})}function ju(t,e){var n=t[1],r=e[1],i=ci(t[0],e[0]);return 0===i?ci(n,r):i}var Vu=function(){function t(t){this.ne=t,this.buffer=new _s(ju),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();ju(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),qu=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;ti("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return(0,Zr.mG)(e,void 0,void 0,function(){var e;return(0,Zr.Jh)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Ya(e=n.sent())?(ti("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Uu(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),Bu=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Ha.resolve(Wr.o);var r=new Vu(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(ti("LruGarbageCollector","Garbage collection skipped; disabled"),Ha.resolve(Tu)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(ti("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Tu):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(ti("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),Xr()<=H.in.DEBUG&&ti("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Ha.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),Gu=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Bu(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return zu(t,n)},t.prototype.removeReference=function(t,e,n){return zu(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return zu(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return Nu(t).Ot(function(r){return Ou(t,r,e).next(function(t){return t&&(n=!0),Ha.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(s,a){if(a<=e){var u=n._e(t,s).next(function(e){if(!e)return o++,r.getEntry(t,s).next(function(){return r.removeEntry(s),Fu(t).delete([0,_a(s.path)])})});i.push(u)}}).next(function(){return Ha.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return zu(t,e)},t.prototype.we=function(t,e){var n,r=Fu(t),i=Wr.o;return r.$t({index:La.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Wr.o&&e(new Ri(Ta(n)),i),i=s,n=o):i=Wr.o}).next(function(){i!==Wr.o&&e(new Ri(Ta(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function zu(t,e){return Fu(t).put(function(t,e){return new La(0,_a(t.path),e)}(e,t.currentSequenceNumber))}var Hu=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){gi(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return mi(this.inner)},t}(),$u=function(){function t(){this.changes=new Hu(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:di.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Yi.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Ha.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Ku=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Yu(t).put(Qu(e),n)},t.prototype.removeEntry=function(t,e){var n=Yu(t),r=Qu(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return Yu(t).get(Qu(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return Yu(t).get(Qu(e)).next(function(t){return{document:n.ye(e,t),size:xu(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=Ts();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=Ts(),i=new ys(Ri.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,xu(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Ha.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Yu(t).$t({range:r},function(t,e,r){for(var s=Ri.fromSegments(t);o&&Ri.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Ts(),o=e.path.length+1,s={};if(n.isEqual(di.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=cu(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Na.collectionReadTimeIndex}return Yu(t).$t(s,function(t,n,s){if(t.length===o){var a=au(r.R,n);e.path.isPrefixOf(a.key.path)?No(e,a)&&(i=i.insert(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new Zu(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Wu(t).get(Ra.key).next(function(t){return oi(!!t),t})},t.prototype.me=function(t,e){return Wu(t).put(Ra.key,e)},t.prototype.ye=function(t,e){if(e){var n=au(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(di.min()))return n}return Yi.newInvalidDocument(t)},t}(),Zu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Hu(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return(0,Zr.ZT)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new _s(function(t,e){return ci(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=uu(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=xu(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=uu(e.Ie.R,Yi.newNoDocument(o,di.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),Ha.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}($u);function Wu(t){return nu(t,Ra.store)}function Yu(t){return nu(t,Na.store)}function Qu(t){return t.path.toArray()}var Ju=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;oi(n<r&&n>=0&&r<=11);var o=new $a("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Ca.store)}(t),function(t){t.createObjectStore(xa.store,{keyPath:xa.keyPath}),t.createObjectStore(Aa.store,{keyPath:Aa.keyPath,autoIncrement:!0}).createIndex(Aa.userMutationsIndex,Aa.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Oa.store)}(t),Xu(t),function(t){t.createObjectStore(Na.store)}(t));var s=Ha.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(La.store),t.deleteObjectStore(Pa.store),t.deleteObjectStore(Ma.store)}(t),Xu(t)),s=s.next(function(){return function(t){var e=t.store(Ma.store),n=new Ma(0,0,di.min().toTimestamp(),0);return e.put(Ma.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(Aa.store).Nt().next(function(n){t.deleteObjectStore(Aa.store),t.createObjectStore(Aa.store,{keyPath:Aa.keyPath,autoIncrement:!0}).createIndex(Aa.userMutationsIndex,Aa.userMutationsKeyPath,{unique:!0});var r=e.store(Aa.store),i=n.map(function(t){return r.put(t)});return Ha.waitFor(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(Ua.store,{keyPath:Ua.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Re(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(Ra.store)}(t),i.be(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ve(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Na.store);e.createIndex(Na.readTimeIndex,Na.readTimeIndexPath,{unique:!1}),e.createIndex(Na.collectionReadTimeIndex,Na.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Ve(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(ja.store,{keyPath:ja.keyPath})}(t),function(t){t.createObjectStore(Va.store,{keyPath:Va.keyPath})}(t)})),s},t.prototype.be=function(t){var e=0;return t.store(Na.store).$t(function(t,n){e+=xu(n)}).next(function(){var n=new Ra(e);return t.store(Ra.store).put(Ra.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(xa.store),r=t.store(Aa.store);return n.Nt().next(function(n){return Ha.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Aa.userMutationsIndex,i).next(function(r){return Ha.forEach(r,function(r){oi(r.userId===n.userId);var i=du(e.R,r);return Cu(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(La.store),n=t.store(Na.store);return t.store(Ma.store).get(Ma.key).next(function(t){var r=[];return n.$t(function(n,i){var o=new yi(n),s=function(t){return[0,_a(t)]}(o);r.push(e.get(s).next(function(n){return n?Ha.resolve():function(n){return e.put(new La(0,_a(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Ha.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(Fa.store,{keyPath:Fa.keyPath});var n=e.store(Fa.store),r=new _u,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:_a(i)})}};return e.store(Na.store).$t({kt:!0},function(t,e){var n=new yi(t);return i(n.popLast())}).next(function(){return e.store(Oa.store).$t({kt:!0},function(t,e){var n=Ta(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(Pa.store);return n.$t(function(t,r){var i=pu(r),o=gu(e.R,i);return n.put(o)})},t}();function Xu(t){t.createObjectStore(La.store,{keyPath:La.keyPath}).createIndex(La.documentTargetsIndex,La.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Pa.store,{keyPath:Pa.keyPath}).createIndex(Pa.queryTargetsIndexName,Pa.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Ma.store)}var tc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ec=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Qr(Yr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Gu(this,i),this.Le=n+"main",this.R=new su(u),this.Be=new Ka(this.Le,11,new Ju(this.R)),this.qe=new Pu(this.referenceDelegate,this.R),this.Ut=new Su,this.Ue=function(t,e){return new Ku(t,e)}(this.R,this.Ut),this.Qe=new vu,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&ei("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Qr(Yr.FAILED_PRECONDITION,tc);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new Wr(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return(0,Zr.mG)(e,void 0,void 0,function(){return(0,Zr.Jh)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return(0,Zr.mG)(e,void 0,void 0,function(){return(0,Zr.Jh)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return(0,Zr.mG)(e,void 0,void 0,function(){return(0,Zr.Jh)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return rc(e).put(new Ua(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(Ya(e))return ti("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return ti("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return nc(t).get(Ca.key).next(function(t){return Ha.resolve(e.tn(t))})},t.prototype.en=function(t){return rc(t).delete(this.clientId)},t.prototype.nn=function(){return(0,Zr.mG)(this,void 0,void 0,function(){var t,e,n,r=this;return(0,Zr.Jh)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=nu(t,Ua.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Ha.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Ha.resolve(!0):nc(t).get(Ca.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Qr(Yr.FAILED_PRECONDITION,tc);return!1}}return!(!e.networkEnabled||!e.inForeground)||rc(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&ti("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return(0,Zr.mG)(this,void 0,void 0,function(){var t=this;return(0,Zr.Jh)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Ca.store,Ua.store],function(e){var n=new eu(e,Wr.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return rc(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Au.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return ti("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",qa,function(o){return r=new eu(o,i.Ne?i.Ne.next():Wr.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw ei("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new Qr(Yr.FAILED_PRECONDITION,Ba);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return nc(t).get(Ca.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Qr(Yr.FAILED_PRECONDITION,tc)})},t.prototype.Ze=function(t){var e=new Ca(this.clientId,this.allowTabSynchronization,Date.now());return nc(t).put(Ca.key,e)},t.yt=function(){return Ka.yt()},t.prototype.Xe=function(t){var e=this,n=nc(t);return n.get(Ca.key).next(function(t){return e.tn(t)?(ti("IndexedDbPersistence","Releasing primary lease."),n.delete(Ca.key)):Ha.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(ei("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return ti("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return ei("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){ei("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function nc(t){return nu(t,Ca.store)}function rc(t){return nu(t,Ua.store)}function ic(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var oc=function(t,e){this.progress=t,this.wn=e},sc=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return Ri.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Io(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new Ri(e)).next(function(t){var e=Cs();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=Cs();return this.Ut.getCollectionParents(t,i).next(function(s){return Ha.forEach(s,function(s){var a=function(t,e){return new yo(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=Yi.newInvalidDocument(c),r=r.insert(c,l)),ns(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){No(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=ks(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof as&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),ac=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=ks(),i=ks(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),uc=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(di.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var s=i.Cn(e,o);return(_o(e)||So(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(Xr()<=H.in.DEBUG&&ti("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Do(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new _s(Ro(t));return e.forEach(function(e,r){No(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Xr()<=H.in.DEBUG&&ti("QueryEngine","Using full collection scan to execute query:",Do(e)),this.Sn.getDocumentsMatchingQuery(t,e,di.min())},t}(),cc=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new ys(ci),this.kn=new Hu(function(t){return Xi(t)},to),this.$n=di.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new sc(this.On,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function lc(t,e,n,r){return new cc(t,e,n,r)}function hc(t,e){return(0,Zr.mG)(this,void 0,void 0,function(){var n,r,i,o;return(0,Zr.Jh)(this,function(s){switch(s.label){case 0:return n=si(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new sc(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],s=ks(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.pn(t,s).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function fc(t,e){var n=si(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Ha.resolve();return o.forEach(function(t){s=s.next(function(){return r.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);oi(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),s.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function dc(t){var e=si(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function pc(t,e){var n=si(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return oi(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.qe.updateTargetData(t,c))}}});var a=Ts();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),s.push(gc(t,o,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(di.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});s.push(u)}return Ha.waitFor(s).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function gc(t,e,n,r,i){var o=ks();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=Ts();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(di.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):ti("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function mc(t,e){var n=si(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function vc(t,e){var n=si(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?Ha.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new ou(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function yc(t,e,n){return(0,Zr.mG)(this,void 0,void 0,function(){var r,i,o,s;return(0,Zr.Jh)(this,function(a){switch(a.label){case 0:r=si(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Ya(s=a.sent()))throw s;return ti("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function bc(t,e,n){var r=si(t),i=di.min(),o=ks();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=si(t),i=r.kn.get(n);return void 0!==i?Ha.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,xo(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:di.min(),n?o:ks())}).next(function(t){return{documents:t,Bn:o}})})}function wc(t,e){var n=si(t),r=si(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function _c(t){var e=si(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=si(t),i=Ts(),o=cu(n),s=Yu(e),a=IDBKeyRange.lowerBound(o,!0);return s.$t({index:Na.readTimeIndex,range:a},function(t,e){var n=au(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:lu(o)}})}(e.On,t,e.$n)}).then(function(t){var n=t.wn;return e.$n=t.readTime,n})}function Sc(t){return(0,Zr.mG)(this,void 0,void 0,function(){var e;return(0,Zr.Jh)(this,function(n){return[2,(e=si(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Yu(t),n=di.min();return e.$t({index:Na.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=lu(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$n=t})]})})}function Ec(t,e,n,r){return(0,Zr.mG)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,f,d;return(0,Zr.Jh)(this,function(p){switch(p.label){case 0:for(i=si(t),o=ks(),s=Ts(),a=As(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,vc(i,function(t){return xo(wo(yi.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return gc(t,f,s,di.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.qe.addMatchingKeys(t,o,d.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function Tc(t,e,n){return void 0===n&&(n=ks()),(0,Zr.mG)(this,void 0,void 0,function(){var r,i;return(0,Zr.Jh)(this,function(o){switch(o.label){case 0:return[4,vc(t,xo(mu(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=si(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=Zs(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(t,e);var s=r.withResumeToken(Si.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(t,e)})})]}})})}var Ic=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Ha.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:Zs(n.createTime)}),Ha.resolve()},t.prototype.getNamedQuery=function(t,e){return Ha.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:mu(t.bundledQuery),readTime:Zs(t.readTime)}}(e)),Ha.resolve()},t}(),Cc=function(){function t(){this.Wn=new _s(xc.Gn),this.zn=new _s(xc.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new xc(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new xc(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new Ri(new yi([])),r=new xc(n,t),i=new xc(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new Ri(new yi([])),n=new xc(e,t),r=new xc(e,t+1),i=ks();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new xc(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),xc=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return Ri.comparator(t.key,e.key)||ci(t.ns,e.ns)},t.Hn=function(t,e){return ci(t.ns,e.ns)||Ri.comparator(t.key,e.key)},t}(),Ac=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new _s(xc.Gn)}return t.prototype.checkEmpty=function(t){return Ha.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new ru(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new xc(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Ha.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Ha.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return Ha.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Ha.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Ha.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new xc(e,0),i=new xc(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),Ha.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new _s(ci);return e.forEach(function(t){var e=new xc(t,0),i=new xc(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),Ha.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Ri.isDocumentKey(i)||(i=i.child(""));var o=new xc(new Ri(i),0),s=new _s(ci);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)},o),Ha.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;oi(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Ha.forEach(e.mutations,function(i){var o=new xc(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new xc(e,0),r=this.rs.firstAfterOrEqual(n);return Ha.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Ha.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Oc=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new ys(Ri.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Ha.resolve(n?n.document.clone():Yi.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Ts();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Yi.newInvalidDocument(t))}),Ha.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Ts(),i=new Ri(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||No(e,u)&&(r=r.insert(u.key,u.clone()))}return Ha.resolve(r)},t.prototype.fs=function(t,e){return Ha.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new kc(this)},t.prototype.getSize=function(t){return Ha.resolve(this.size)},t}(),kc=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return(0,Zr.ZT)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),Ha.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}($u),Dc=function(){function t(t){this.persistence=t,this.ds=new Hu(function(t){return Xi(t)},to),this.lastRemoteSnapshotVersion=di.min(),this.highestTargetId=0,this.ws=0,this._s=new Cc,this.targetCount=0,this.ys=Ru.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),Ha.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Ha.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Ha.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Ha.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Ha.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Ru(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Ha.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Ha.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Ha.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Ha.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return Ha.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Ha.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Ha.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),Ha.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Ha.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Ha.resolve(n)},t.prototype.containsKey=function(t,e){return Ha.resolve(this._s.containsKey(e))},t}(),Nc=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Wr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Dc(this),this.Ut=new wu,this.Ue=function(t,e){return new Oc(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new su(e),this.Qe=new Ic(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Ac(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;ti("MemoryPersistence","Starting transaction:",t);var i=new Rc(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return Ha.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),Rc=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return(0,Zr.ZT)(e,t),e}(Ga),Pc=function(){function t(t){this.persistence=t,this.As=new Cc,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw ii()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Ha.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Ha.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Ha.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ha.forEach(this.vs,function(r){var i=Ri.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Ha.or([function(){return Ha.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),Lc=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function Mc(t,e){return"firestore_clients_"+t+"_"+e}function Fc(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Uc(t,e){return"firestore_targets_"+t+"_"+e}Lc.UNAUTHENTICATED=new Lc(null),Lc.GOOGLE_CREDENTIALS=new Lc("google-credentials-uid"),Lc.FIRST_PARTY=new Lc("first-party-uid");var jc=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Qr(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(ei("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Vc=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Qr(i.error.code,i.error.message)),o?new t(e,i.state,r):(ei("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),qc=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Ns(),s=0;i&&s<r.activeTargetIds.length;++s)i=Ni(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(ei("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Bc=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(ei("SharedClientState","Failed to parse online state: "+e),null)},t}(),Gc=function(){function t(){this.activeTargetIds=Ns()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),zc=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new ys(ci),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=Mc(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Gc),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return(0,Zr.mG)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return(0,Zr.Jh)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(Mc(this.persistenceKey,r)))&&(o=qc.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.$s;u<c.length;u++)this.Fs(c[u]);return this.$s=[],this.window.addEventListener("pagehide",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Uc(this.persistenceKey,t));if(n){var r=Vc.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Uc(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return ti("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){ti("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){ti("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(ti("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void ei("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,Zr.mG)(e,void 0,void 0,function(){var t,e,r,i,o,s;return(0,Zr.Jh)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=Wr.o;if(null!=t)try{var n=JSON.parse(t);oi("number"==typeof n),e=n}catch(t){ei("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Wr.o&&this.sequenceNumberHandler(s);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new jc(this.currentUser,t,e,n),i=Fc(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=Fc(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=Uc(this.persistenceKey,t),i=new Vc(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return qc.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return jc.Vs(new Lc(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Vc.Vs(r,e)},t.prototype.js=function(t){return Bc.Vs(t)},t.prototype.ii=function(t){return(0,Zr.mG)(this,void 0,void 0,function(){return(0,Zr.Jh)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(ti("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.hi(s,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Ns();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),Hc=function(){function t(){this.li=new Gc,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Gc,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),$c=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),Kc=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){ti("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){ti("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Zc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Wc=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Yc=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return(0,Zr.ZT)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,o){var s=new Kr;s.listenOnce(zr.COMPLETE,function(){try{switch(s.getLastErrorCode()){case Gr.NO_ERROR:var e=s.getResponseJson();ti("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Gr.TIMEOUT:ti("Connection",'RPC "'+t+'" timed out'),o(new Qr(Yr.DEADLINE_EXCEEDED,"Request time out"));break;case Gr.HTTP_ERROR:var n=s.getStatus();if(ti("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Yr).indexOf(e)>=0?e:Yr.UNKNOWN}(r.status);o(new Qr(a,r.message))}else o(new Qr(Yr.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Qr(Yr.UNAVAILABLE,"Connection failed."));break;default:ii()}}finally{ti("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Ur,i=Ve(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(o.initMessageHeaders,e),(0,z.uI)()||(0,z.b$)()||(0,z.d)()||(0,z.w1)()||(0,z.Mn)()||(0,z.ru)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");ti("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new Wc({Ei:function(t){c?ti("Connection","Not sending because WebChannel is closed:",t):(u||(ti("Connection","Opening WebChannel transport."),a.open(),u=!0),ti("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,$r.EventType.OPEN,function(){c||ti("Connection","WebChannel transport opened.")}),h(a,$r.EventType.CLOSE,function(){c||(c=!0,ti("Connection","WebChannel transport closed"),l.Vi())}),h(a,$r.EventType.ERROR,function(t){c||(c=!0,ni("Connection","WebChannel transport errored:",t),l.Vi(new Qr(Yr.UNAVAILABLE,"The operation could not be completed")))}),h(a,$r.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];oi(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){ti("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=hs[t];if(void 0!==e)return vs(e)}(i),s=r.message;void 0===o&&(o=Yr.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new Qr(o,s)),a.close()}else ti("Connection","WebChannel received:",n),l.Si(n)}}),h(i,Hr.STAT_EVENT,function(t){10===t.stat?ti("Connection","Detected buffering proxy"):11===t.stat&&ti("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);ti("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then(function(t){return ti("RestConnection","Received: ",t),t},function(e){throw ni("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.6.3",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+Zc[t]},t}());function Qc(){return"undefined"!=typeof window?window:null}function Jc(){return"undefined"!=typeof document?document:null}function Xc(t){return new zs(t,!0)}var tl=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&ti("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),el=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new tl(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return(0,Zr.mG)(this,void 0,void 0,function(){return(0,Zr.Jh)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return(0,Zr.mG)(this,void 0,void 0,function(){return(0,Zr.Jh)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return(0,Zr.mG)(this,void 0,void 0,function(){return(0,Zr.Jh)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Yr.RESOURCE_EXHAUSTED?(ei(e.toString()),ei("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===Yr.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new Qr(Yr.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return(0,Zr.mG)(t,void 0,void 0,function(){return(0,Zr.Jh)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return ti("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(ti("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),nl=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return(0,Zr.ZT)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:ii()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(oi(void 0===e||"string"==typeof e),Si.fromBase64String(e||"")):(oi(void 0===e||e instanceof Uint8Array),Si.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Yr.UNKNOWN:vs(t.code);return new Qr(e,t.message||"")}(a);n=new Fs(r,i,o,s||null)}else if("documentChange"in e){i=Js(t,(r=e.documentChange).document.name),o=Zs(r.document.updateTime);var a=new Zi({mapValue:{fields:r.document.fields}}),u=(s=Yi.newFoundDocument(i,o,a),r.targetIds||[]);n=new Ls(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Js(t,(r=e.documentDelete).document),o=r.readTime?Zs(r.readTime):di.min(),a=Yi.newNoDocument(i,o),n=new Ls([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Js(t,(r=e.documentRemove).document),n=new Ls([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return ii();var c=e.filter;i=new gs(r=c.count||0),n=new Ms(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return di.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?di.min():e.readTime?Zs(e.readTime):di.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=ea(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=eo(r)?{documents:aa(t,r)}:{query:ua(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=$s(t,e.resumeToken):e.snapshotVersion.compareTo(di.min())>0&&(n.readTime=Hs(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ii()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=ea(this.R),e.removeTarget=t,this.cr(e)},e}(el),rl=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return(0,Zr.ZT)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(oi(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(oi(void 0!==e),t.map(function(t){return function(t,e){var n=Zs(t.updateTime?t.updateTime:e);return n.isEqual(di.min())&&(n=Zs(e)),new Qo(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=Zs(t.commitTime);return this.listener.Tr(n,e)}return oi(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=ea(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return oa(e.R,t)})};this.cr(n)},e}(el),il=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,Zr.ZT)(e,t),e.prototype.br=function(){if(this.Rr)throw new Qr(Yr.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Yr.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Qr(Yr.UNKNOWN,t.toString())})},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Yr.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Qr(Yr.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),ol=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(ei(e),this.Vr=!1):ti("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),sl=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return(0,Zr.mG)(o,void 0,void 0,function(){return(0,Zr.Jh)(this,function(t){switch(t.label){case 0:return gl(this)?(ti("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return(0,Zr.mG)(this,void 0,void 0,function(){var e;return(0,Zr.Jh)(this,function(n){switch(n.label){case 0:return(e=si(t)).Or.add(4),[4,ul(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,al(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new ol(n,r)};function al(t){return(0,Zr.mG)(this,void 0,void 0,function(){var e,n;return(0,Zr.Jh)(this,function(r){switch(r.label){case 0:if(!gl(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function ul(t){return(0,Zr.mG)(this,void 0,void 0,function(){var e,n;return(0,Zr.Jh)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function cl(t,e){var n=si(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),pl(n)?dl(n):kl(n).er()&&hl(n,e))}function ll(t,e){var n=si(t),r=kl(n);n.$r.delete(e),r.er()&&fl(n,e),0===n.$r.size&&(r.er()?r.ir():gl(n)&&n.Br.set("Unknown"))}function hl(t,e){t.qr.U(e.targetId),kl(t).mr(e)}function fl(t,e){t.qr.U(e),kl(t).yr(e)}function dl(t){t.qr=new js({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),kl(t).start(),t.Br.Sr()}function pl(t){return gl(t)&&!kl(t).tr()&&t.$r.size>0}function gl(t){return 0===si(t).Or.size}function ml(t){t.qr=void 0}function vl(t){return(0,Zr.mG)(this,void 0,void 0,function(){return(0,Zr.Jh)(this,function(e){return t.$r.forEach(function(e,n){hl(t,e)}),[2]})})}function yl(t,e){return(0,Zr.mG)(this,void 0,void 0,function(){return(0,Zr.Jh)(this,function(n){return ml(t),pl(t)?(t.Br.Nr(e),dl(t)):t.Br.set("Unknown"),[2]})})}function bl(t,e,n){return(0,Zr.mG)(this,void 0,void 0,function(){var r,i,o;return(0,Zr.Jh)(this,function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof Fs&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return(0,Zr.mG)(this,void 0,void 0,function(){var n,r,i,o;return(0,Zr.Jh)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.$r.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.$r.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),ti("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,wl(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Ls?t.qr.X(e):e instanceof Ms?t.qr.rt(e):t.qr.et(e),n.isEqual(di.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,dc(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(Si.EMPTY_BYTE_STRING,n.snapshotVersion)),fl(t,e);var r=new ou(n.target,e,1,n.sequenceNumber);hl(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return ti("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,wl(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function wl(t,e,n){return(0,Zr.mG)(this,void 0,void 0,function(){var r=this;return(0,Zr.Jh)(this,function(i){switch(i.label){case 0:if(!Ya(e))throw e;return t.Or.add(1),[4,ul(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return dc(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return(0,Zr.mG)(r,void 0,void 0,function(){return(0,Zr.Jh)(this,function(e){switch(e.label){case 0:return ti("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,al(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function _l(t,e){return e().catch(function(n){return wl(t,n,e)})}function Sl(t){return(0,Zr.mG)(this,void 0,void 0,function(){var e,n,r,i,o;return(0,Zr.Jh)(this,function(s){switch(s.label){case 0:e=si(t),n=Dl(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return gl(t)&&t.kr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,mc(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=Dl(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,wl(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return El(e)&&Tl(e),[2]}})})}function El(t){return gl(t)&&!Dl(t).tr()&&t.kr.length>0}function Tl(t){Dl(t).start()}function Il(t){return(0,Zr.mG)(this,void 0,void 0,function(){return(0,Zr.Jh)(this,function(e){return Dl(t).Ar(),[2]})})}function Cl(t){return(0,Zr.mG)(this,void 0,void 0,function(){var e,n,r;return(0,Zr.Jh)(this,function(i){for(e=Dl(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function xl(t,e,n){return(0,Zr.mG)(this,void 0,void 0,function(){var r,i;return(0,Zr.Jh)(this,function(o){switch(o.label){case 0:return r=t.kr.shift(),i=iu.from(r,e,n),[4,_l(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,Sl(t)];case 2:return o.sent(),[2]}})})}function Al(t,e){return(0,Zr.mG)(this,void 0,void 0,function(){return(0,Zr.Jh)(this,function(n){switch(n.label){case 0:return e&&Dl(t).pr?[4,function(t,e){return(0,Zr.mG)(this,void 0,void 0,function(){var n,r;return(0,Zr.Jh)(this,function(i){switch(i.label){case 0:return ms(r=e.code)&&r!==Yr.ABORTED?(n=t.kr.shift(),Dl(t).sr(),[4,_l(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Sl(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return El(t)&&Tl(t),[2]}})})}function Ol(t,e){return(0,Zr.mG)(this,void 0,void 0,function(){var n;return(0,Zr.Jh)(this,function(r){switch(r.label){case 0:return n=si(t),e?(n.Or.delete(2),[4,al(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,ul(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function kl(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=si(t);return r.br(),new nl(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:vl.bind(null,t),Ri:yl.bind(null,t),_r:bl.bind(null,t)}),t.Mr.push(function(n){return(0,Zr.mG)(e,void 0,void 0,function(){return(0,Zr.Jh)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),pl(t)?dl(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),ml(t),e.label=3;case 3:return[2]}})})})),t.Ur}function Dl(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=si(t);return r.br(),new rl(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Il.bind(null,t),Ri:Al.bind(null,t),Ir:Cl.bind(null,t),Tr:xl.bind(null,t)}),t.Mr.push(function(n){return(0,Zr.mG)(e,void 0,void 0,function(){return(0,Zr.Jh)(this,function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,Sl(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(ti("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Qr}var Nl=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new za,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Qr(Yr.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Rl(t,e){if(ei("AsyncQueue",e+": "+t),Ya(t))return new Qr(Yr.UNAVAILABLE,e+": "+t);throw t}var Pl=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Ri.comparator(e.key,n.key)}:function(t,e){return Ri.comparator(t.key,e.key)},this.keyedMap=Cs(),this.sortedSet=new ys(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Ll=function(){function t(){this.Kr=new ys(Ri.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):ii():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Ml=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,Pl.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Oo(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Fl=function(){this.Wr=void 0,this.listeners=[]},Ul=function(){this.queries=new Hu(function(t){return ko(t)},Oo),this.onlineState="Unknown",this.Gr=new Set};function jl(t,e){return(0,Zr.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return(0,Zr.Jh)(this,function(c){switch(c.label){case 0:if(n=si(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new Fl),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=Rl(a,"Initialization of query '"+Do(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&Gl(n),[2]}})})}function Vl(t,e){return(0,Zr.mG)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,Zr.Jh)(this,function(a){return n=si(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function ql(t,e){for(var n=si(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(r=!0);a.Wr=s}}r&&Gl(n)}function Bl(t,e,n){var r=si(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Gl(t){t.Gr.forEach(function(t){t.next()})}var zl=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Ml(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=Ml.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Hl=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),$l=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Js(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?ia(this.R,t.document,!1):Yi.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return Zs(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new $l(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||ks()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return(0,Zr.mG)(this,void 0,void 0,function(){var t,e,n,r,i;return(0,Zr.Jh)(this,function(o){switch(o.label){case 0:return[4,Ec(this.localStore,new $l(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Tc(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new oc(Object.assign({},this.progress),t))]}})})}}();var Kl=function(t){this.key=t},Zl=function(t){this.key=t},Wl=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=ks(),this.mutatedKeys=ks(),this.lo=Ro(t),this.fo=new Pl(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new Ll,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=_o(this.query)&&i.size===this.query.limit?i.last():null,c=So(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=No(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),_o(this.query)||So(this.query))for(;s.size>this.query.limit;){var l=_o(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ii()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new Ml(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Ll,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=ks(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new Zl(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new Kl(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=ks();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return Ml.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Yl=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Ql=function(t){this.key=t,this.bo=!1},Jl=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Hu(function(t){return ko(t)},Oo),this.Vo=new Map,this.So=new Set,this.Do=new ys(Ri.comparator),this.Co=new Map,this.No=new Cc,this.xo={},this.Fo=new Map,this.ko=Ru.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function Xl(t,e){return(0,Zr.mG)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,Zr.Jh)(this,function(a){switch(a.label){case 0:return n=Ah(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,vc(n.localStore,xo(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,th(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&cl(n.remoteStore,o),a.label=4;case 4:return[2,r]}})})}function th(t,e,n,r){return(0,Zr.mG)(this,void 0,void 0,function(){var i,o,s,a,u,c;return(0,Zr.Jh)(this,function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return(0,Zr.mG)(this,void 0,void 0,function(){var i,o,s;return(0,Zr.Jh)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,bc(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(dh(t,e.targetId,s.To),s.snapshot)]}})})}(t,e,n,r)},[4,bc(t.localStore,e,!0)];case 1:return i=l.sent(),o=new Wl(e,i.Bn),s=o._o(i.documents),a=Ps.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),dh(t,n,u.To),c=new Yl(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function eh(t,e){return(0,Zr.mG)(this,void 0,void 0,function(){var n,r,i;return(0,Zr.Jh)(this,function(o){switch(o.label){case 0:return n=si(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!Oo(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,yc(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),ll(n.remoteStore,r.targetId),hh(n,r.targetId)}).catch(Uu)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return hh(n,r.targetId),[4,yc(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function nh(t,e,n){return(0,Zr.mG)(this,void 0,void 0,function(){var r,i,o,s;return(0,Zr.Jh)(this,function(a){switch(a.label){case 0:r=Oh(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=si(t),i=fi.now(),o=e.reduce(function(t,e){return t.add(e.key)},ks());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=rs(c,n.get(c.key));null!=l&&s.push(new as(c.key,l,Wi(l.value.mapValue),Jo.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new ys(ci)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,mh(r,i.changes)];case 3:return a.sent(),[4,Sl(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Rl(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function rh(t,e){return(0,Zr.mG)(this,void 0,void 0,function(){var n,r;return(0,Zr.Jh)(this,function(i){switch(i.label){case 0:n=si(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,pc(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(oi(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?oi(r.bo):t.removedDocuments.size>0&&(oi(r.bo),r.bo=!1))}),[4,mh(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Uu(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function ih(t,e,n){var r=si(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=si(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)}),r&&Gl(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function oh(t,e,n){return(0,Zr.mG)(this,void 0,void 0,function(){var r,i,o,s,a,u;return(0,Zr.Jh)(this,function(c){switch(c.label){case 0:return(r=si(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new ys(Ri.comparator)).insert(o,Yi.newNoDocument(o,di.min())),a=ks().add(o),u=new Rs(di.min(),new Map,new _s(ci),s,a),[4,rh(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),gh(r),[3,4];case 2:return[4,yc(r.localStore,e,!1).then(function(){return hh(r,e,n)}).catch(Uu)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function sh(t,e){return(0,Zr.mG)(this,void 0,void 0,function(){var n,r,i;return(0,Zr.Jh)(this,function(o){switch(o.label){case 0:n=si(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,fc(n.localStore,e)];case 2:return i=o.sent(),lh(n,r,null),ch(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,mh(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Uu(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function ah(t,e,n){return(0,Zr.mG)(this,void 0,void 0,function(){var r,i;return(0,Zr.Jh)(this,function(o){switch(o.label){case 0:r=si(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=si(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return oi(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),lh(r,e,n),ch(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,mh(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Uu(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function uh(t,e){return(0,Zr.mG)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,Zr.Jh)(this,function(a){switch(a.label){case 0:gl((n=si(t)).remoteStore)||ti("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=si(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=Rl(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function ch(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function lh(t,e,n){var r=si(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function hh(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||fh(t,e)})}function fh(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(ll(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),gh(t))}function dh(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Kl?(t.No.addReference(o.key,e),ph(t,o)):o instanceof Zl?(ti("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||fh(t,o.key)):ii()}}function ph(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(ti("SyncEngine","New document in limbo: "+n),t.So.add(r),gh(t))}function gh(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Ri(yi.fromString(e)),r=t.ko.next();t.Co.set(r,new Ql(n)),t.Do=t.Do.insert(n,r),cl(t.remoteStore,new ou(xo(wo(n.path)),r,2,Wr.o))}}function mh(t,e,n){return(0,Zr.mG)(this,void 0,void 0,function(){var r,i,o,s;return(0,Zr.Jh)(this,function(a){switch(a.label){case 0:return r=si(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){s.push(r.Oo(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=ac.Pn(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return(0,Zr.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return(0,Zr.Jh)(this,function(l){switch(l.label){case 0:n=si(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Ha.forEach(e,function(e){return Ha.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return Ha.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Ya(r=l.sent()))throw r;return ti("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.Fn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(a,c));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function vh(t,e){return(0,Zr.mG)(this,void 0,void 0,function(){var n,r;return(0,Zr.Jh)(this,function(i){switch(i.label){case 0:return(n=si(t)).currentUser.isEqual(e)?[3,3]:(ti("SyncEngine","User change. New user:",e.toKey()),[4,hc(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new Qr(Yr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,mh(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function yh(t,e){var n=si(t),r=n.Co.get(e);if(r&&r.bo)return ks().add(r.key);var i=ks(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Po.get(a[s]);i=i.unionWith(u.view.wo)}return i}function bh(t,e){return(0,Zr.mG)(this,void 0,void 0,function(){var n,r,i;return(0,Zr.Jh)(this,function(o){switch(o.label){case 0:return[4,bc((n=si(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&dh(n,e.targetId,i.To),i)]}})})}function wh(t){return(0,Zr.mG)(this,void 0,void 0,function(){var e;return(0,Zr.Jh)(this,function(n){return[2,_c((e=si(t)).localStore).then(function(t){return mh(e,t)})]})})}function _h(t,e,n,r){return(0,Zr.mG)(this,void 0,void 0,function(){var i,o;return(0,Zr.Jh)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=si(t),r=si(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):Ha.resolve(null)})})}((i=si(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Sl(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(lh(i,e,r||null),ch(i,e),function(t,e){si(si(t)._n).Gt(e)}(i.localStore,e)):ii(),s.label=4;case 4:return[4,mh(i,o)];case 5:return s.sent(),[3,7];case 6:ti("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function Sh(t,e){return(0,Zr.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return(0,Zr.Jh)(this,function(c){switch(c.label){case 0:return Ah(n=si(t)),Oh(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Eh(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,Ol(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)cl(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return hh(n,e),yc(n.localStore,e,!0)}),ll(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,Eh(n,a)];case 5:return c.sent(),function(t){var e=si(t);e.Co.forEach(function(t,n){ll(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new ys(Ri.comparator)}(n),n.$o=!1,[4,Ol(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Eh(t,e,n){return(0,Zr.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return(0,Zr.Jh)(this,function(g){switch(g.label){case 0:n=si(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Vo.get(a=s[o]))&&0!==c.length?[4,vc(n.localStore,xo(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,bh(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,wc(n.localStore,a)];case 8:return p=g.sent(),[4,vc(n.localStore,p)];case 9:return u=g.sent(),[4,th(n,Th(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function Th(t){return bo(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Ih(t){var e=si(t);return si(si(e.localStore).persistence).fn()}function Ch(t,e,n,r){return(0,Zr.mG)(this,void 0,void 0,function(){var i,o,s;return(0,Zr.Jh)(this,function(a){switch(a.label){case 0:return(i=si(t)).$o?(ti("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,_c(i.localStore)];case 3:return o=a.sent(),s=Rs.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,mh(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,yc(i.localStore,e,!0)];case 6:return a.sent(),hh(i,e,r),[3,8];case 7:ii(),a.label=8;case 8:return[2]}})})}function xh(t,e,n){return(0,Zr.mG)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return(0,Zr.Jh)(this,function(f){switch(f.label){case 0:if(!(r=Ah(t)).$o)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?(ti("SyncEngine","Adding an already active target "+s),[3,5]):[4,wc(r.localStore,s)]:[3,6];case 2:return a=f.sent(),[4,vc(r.localStore,a)];case 3:return u=f.sent(),[4,th(r,Th(a),u.targetId,!1)];case 4:f.sent(),cl(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return(0,Zr.Jh)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,yc(r.localStore,t,!1).then(function(){ll(r.remoteStore,t),hh(r,t)}).catch(Uu)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Ah(t){var e=si(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rh.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yh.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oh.bind(null,e),e.vo._r=ql.bind(null,e.eventManager),e.vo.Mo=Bl.bind(null,e.eventManager),e}function Oh(t){var e=si(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sh.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ah.bind(null,e),e}var kh=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return(0,Zr.mG)(this,void 0,void 0,function(){return(0,Zr.Jh)(this,function(e){switch(e.label){case 0:return this.R=Xc(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return lc(this.persistence,new uc,t.initialUser,this.R)},t.prototype.qo=function(t){return new Nc(Pc.bs,this.R)},t.prototype.Bo=function(t){return new Hc},t.prototype.terminate=function(){return(0,Zr.mG)(this,void 0,void 0,function(){return(0,Zr.Jh)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),Dh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,Zr.ZT)(e,t),e.prototype.initialize=function(e){return(0,Zr.mG)(this,void 0,void 0,function(){return(0,Zr.Jh)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Sc(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,Oh(this.Ko.syncEngine)];case 4:return n.sent(),[4,Sl(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){return lc(this.persistence,new uc,t.initialUser,this.R)},e.prototype.Uo=function(t){return new qu(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=ic(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Iu.withCacheSize(this.cacheSizeBytes):Iu.DEFAULT;return new ec(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Qc(),Jc(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Hc},e}(kh),Nh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,Zr.ZT)(e,t),e.prototype.initialize=function(e){return(0,Zr.mG)(this,void 0,void 0,function(){var n,r=this;return(0,Zr.Jh)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof zc?(this.sharedClientState.syncEngine={ui:_h.bind(null,n),ai:Ch.bind(null,n),hi:xh.bind(null,n),fn:Ih.bind(null,n),ci:wh.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return(0,Zr.mG)(r,void 0,void 0,function(){return(0,Zr.Jh)(this,function(e){switch(e.label){case 0:return[4,Sh(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=Qc();if(!zc.yt(e))throw new Qr(Yr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=ic(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new zc(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Dh),Rh=function(){function t(){}return t.prototype.initialize=function(t,e){return(0,Zr.mG)(this,void 0,void 0,function(){var n=this;return(0,Zr.Jh)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return ih(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=vh.bind(null,this.syncEngine),[4,Ol(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new Ul},t.prototype.createDatastore=function(t){var e=Xc(t.databaseInfo.databaseId),n=new Yc(t.databaseInfo);return function(t,e,n){return new il(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return ih(s.syncEngine,t,0)},o=Kc.yt()?new Kc:new $c,new sl(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new Jl(t,e,n,r,i,o);return s&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return(0,Zr.mG)(this,void 0,void 0,function(){var e;return(0,Zr.Jh)(this,function(n){switch(n.label){case 0:return e=si(t),ti("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,ul(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),Ph=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Lh=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new za,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return(0,Zr.mG)(this,void 0,void 0,function(){return(0,Zr.Jh)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return(0,Zr.mG)(this,void 0,void 0,function(){return(0,Zr.Jh)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return(0,Zr.mG)(this,void 0,void 0,function(){var t,e,n,r;return(0,Zr.Jh)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Hl(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return(0,Zr.mG)(this,void 0,void 0,function(){var t,e;return(0,Zr.Jh)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return(0,Zr.mG)(this,void 0,void 0,function(){var e;return(0,Zr.Jh)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return(0,Zr.mG)(this,void 0,void 0,function(){var t,e;return(0,Zr.Jh)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return(0,Zr.mG)(this,void 0,void 0,function(){var e,n=this;return(0,Zr.Jh)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Qr(Yr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return(0,Zr.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a;return(0,Zr.Jh)(this,function(u){switch(u.label){case 0:return n=si(t),r=ea(n.R)+"/documents",i={documents:e.map(function(t){return Qs(n.R,t)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){oi(!!e.found);var n=Js(t,e.found.name),r=Zs(e.found.updateTime),i=new Zi({mapValue:{fields:e.found.fields}});return Yi.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){oi(!!e.missing),oi(!!e.readTime);var n=Js(t,e.missing),r=Zs(e.readTime);return Yi.newNoDocument(n,r)}(t,e):ii()}(n.R,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());oi(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new ds(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return(0,Zr.mG)(this,void 0,void 0,function(){var t,e=this;return(0,Zr.Jh)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Ri.fromPath(n);e.mutations.push(new ps(r,e.precondition(r)))}),[4,function(t,e){return(0,Zr.mG)(this,void 0,void 0,function(){var n,r,i;return(0,Zr.Jh)(this,function(o){switch(o.label){case 0:return n=si(t),r=ea(n.R)+"/documents",i={writes:e.map(function(t){return oa(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ii();e=di.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Qr(Yr.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Jo.updateTime(e):Jo.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(di.min()))throw new Qr(Yr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Jo.updateTime(e)}return Jo.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),Mh=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new tl(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return(0,Zr.mG)(t,void 0,void 0,function(){var t,e,n=this;return(0,Zr.Jh)(this,function(r){return t=new Lh(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!ki(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!ms(e)}return!1},t}(),Fh=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Lc.UNAUTHENTICATED,this.clientId=ui.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return(0,Zr.mG)(r,void 0,void 0,function(){return(0,Zr.Jh)(this,function(e){switch(e.label){case 0:return ti("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return(0,Zr.mG)(this,void 0,void 0,function(){return(0,Zr.Jh)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Qr(Yr.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new za;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,Zr.mG)(t,void 0,void 0,function(){var t,n;return(0,Zr.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Rl(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Uh(t,e){return(0,Zr.mG)(this,void 0,void 0,function(){var n,r,i=this;return(0,Zr.Jh)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),ti("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return(0,Zr.mG)(i,void 0,void 0,function(){return(0,Zr.Jh)(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,hc(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function jh(t,e){return(0,Zr.mG)(this,void 0,void 0,function(){var n,r;return(0,Zr.Jh)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Vh(t)];case 1:return n=i.sent(),ti("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return(0,Zr.mG)(this,void 0,void 0,function(){var n,r;return(0,Zr.Jh)(this,function(i){switch(i.label){case 0:return(n=si(t)).asyncQueue.verifyOperationInProgress(),ti("RemoteStore","RemoteStore received new credentials"),r=gl(n),n.Or.add(3),[4,ul(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,al(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function Vh(t){return(0,Zr.mG)(this,void 0,void 0,function(){return(0,Zr.Jh)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(ti("FirestoreClient","Using default OfflineComponentProvider"),[4,Uh(t,new kh)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function qh(t){return(0,Zr.mG)(this,void 0,void 0,function(){return(0,Zr.Jh)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(ti("FirestoreClient","Using default OnlineComponentProvider"),[4,jh(t,new Rh)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function Bh(t){return Vh(t).then(function(t){return t.persistence})}function Gh(t){return Vh(t).then(function(t){return t.localStore})}function zh(t){return qh(t).then(function(t){return t.remoteStore})}function Hh(t){return qh(t).then(function(t){return t.syncEngine})}function $h(t){return(0,Zr.mG)(this,void 0,void 0,function(){var e,n;return(0,Zr.Jh)(this,function(r){switch(r.label){case 0:return[4,qh(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Xl.bind(null,e.syncEngine),n.onUnlisten=eh.bind(null,e.syncEngine),n)]}})})}function Kh(t,e,n){var r=this;void 0===n&&(n={});var i=new za;return t.asyncQueue.enqueueAndForget(function(){return(0,Zr.mG)(r,void 0,void 0,function(){var r;return(0,Zr.Jh)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Ph({next:function(o){e.enqueueAndForget(function(){return Vl(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Qr(Yr.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Qr(Yr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new zl(wo(n.path),o,{includeMetadataChanges:!0,so:!0});return jl(t,s)},[4,$h(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function Zh(t,e,n){var r=this;void 0===n&&(n={});var i=new za;return t.asyncQueue.enqueueAndForget(function(){return(0,Zr.mG)(r,void 0,void 0,function(){var r;return(0,Zr.Jh)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Ph({next:function(n){e.enqueueAndForget(function(){return Vl(t,s)}),n.fromCache&&"server"===r.source?i.reject(new Qr(Yr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new zl(n,o,{includeMetadataChanges:!0,so:!0});return jl(t,s)},[4,$h(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var Wh=function(t,e,n,r,i,o,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s},Yh=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Qh=new Map,Jh=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Xh=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(Lc.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),tf=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),ef=function(){function t(t){var e=this;this.currentUser=Lc.UNAUTHENTICATED,this.oc=new za,this.cc=0,this.changeListener=function(){return Promise.resolve()},this.uc=!1,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.ac=function(){e.cc++,e.currentUser=e.hc(),e.oc.resolve(),e.uc&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){ti("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.lc(),e.auth.addAuthTokenListener(e.ac)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):e.uc&&(ti("FirebaseCredentialsProvider","Auth not yet detected"),e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)}))}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(ti("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(oi("string"==typeof n.accessToken),new Jh(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){this.uc=!0,this.asyncQueue=t,this.changeListener=e},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.ac),this.changeListener=function(){return Promise.resolve()}},t.prototype.hc=function(){var t=this.auth&&this.auth.getUid();return oi(null===t||"string"==typeof t),new Lc(t)},t.prototype.lc=function(){var t=this;this.uc&&(this.uc=!1,this.asyncQueue.enqueueRetryable(function(){return(0,Zr.mG)(t,void 0,void 0,function(){return(0,Zr.Jh)(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,this.changeListener(this.currentUser)];case 2:return t.sent(),this.uc=!0,[2]}})})}))},t}(),nf=function(){function t(t,e,n){this.fc=t,this.dc=e,this.wc=n,this.type="FirstParty",this.user=Lc.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.dc},e=this.fc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.wc&&(t["X-Goog-Iam-Authorization-Token"]=this.wc),t},enumerable:!1,configurable:!0}),t}(),rf=function(){function t(t,e,n){this.fc=t,this.dc=e,this.wc=n}return t.prototype.getToken=function(){return Promise.resolve(new nf(this.fc,this.dc,this.wc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(Lc.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function of(t,e,n){if(!n)throw new Qr(Yr.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function sf(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Qr(Yr.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function af(t,e,n,r){if(!0===e&&!0===r)throw new Qr(Yr.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function uf(t){if(!Ri.isDocumentKey(t))throw new Qr(Yr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function cf(t){if(Ri.isDocumentKey(t))throw new Qr(Yr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function lf(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":ii()}function hf(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Qr(Yr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=lf(t);throw new Qr(Yr.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function ff(t,e){if(e<=0)throw new Qr(Yr.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var df=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Qr(Yr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Qr(Yr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,af("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),pf=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new df({}),this._settingsFrozen=!1,t instanceof Yh?(this._databaseId=t,this._credentials=new Xh):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Qr(Yr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yh(t.options.projectId)}(t),this._credentials=new ef(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Qr(Yr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Qr(Yr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new df(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Xh;switch(t.type){case"gapi":var e=t.client;return oi(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new rf(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Qr(Yr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Qh.get(this))&&(ti("ComponentProvider","Removing Datastore"),Qh.delete(this),t.terminate()),Promise.resolve();var t},t}(),gf=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new vf(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),mf=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),vf=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,wo(r))||this)._path=r,i.type="collection",i}return(0,Zr.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new gf(this.firestore,null,new Ri(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(mf);function yf(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=(0,z.m9)(t),of("collection","path",e),t instanceof pf)return cf(n=yi.fromString.apply(yi,(0,Zr.ev)([e],r))),new vf(t,null,n);if(!(t instanceof gf||t instanceof vf))throw new Qr(Yr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return cf(n=yi.fromString.apply(yi,(0,Zr.ev)([t.path],r)).child(yi.fromString(e))),new vf(t.firestore,null,n)}function bf(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=(0,z.m9)(t),1===arguments.length&&(e=ui.u()),of("doc","path",e),t instanceof pf)return uf(n=yi.fromString.apply(yi,(0,Zr.ev)([e],r))),new gf(t,null,new Ri(n));if(!(t instanceof gf||t instanceof vf))throw new Qr(Yr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return uf(n=t._path.child(yi.fromString.apply(yi,(0,Zr.ev)([e],r)))),new gf(t.firestore,t instanceof vf?t.converter:null,new Ri(n))}function wf(t,e){return t=(0,z.m9)(t),e=(0,z.m9)(e),(t instanceof gf||t instanceof vf)&&(e instanceof gf||e instanceof vf)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function _f(t,e){return t=(0,z.m9)(t),e=(0,z.m9)(e),t instanceof mf&&e instanceof mf&&t.firestore===e.firestore&&Oo(t._query,e._query)&&t.converter===e.converter}var Sf=function(){function t(){var t=this;this._c=Promise.resolve(),this.mc=[],this.yc=!1,this.gc=[],this.Ec=null,this.Tc=!1,this.Ic=[],this.Zi=new tl(this,"async_queue_retry"),this.Ac=function(){var e=Jc();e&&ti("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Jc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ac)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.yc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Rc(),this.bc(t)},t.prototype.enterRestrictedMode=function(){if(!this.yc){this.yc=!0;var t=Jc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ac)}},t.prototype.enqueue=function(t){return this.Rc(),this.yc?new Promise(function(t){}):this.bc(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.mc.push(t),e.vc()})},t.prototype.vc=function(){return(0,Zr.mG)(this,void 0,void 0,function(){var t,e=this;return(0,Zr.Jh)(this,function(n){switch(n.label){case 0:if(0===this.mc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.mc[0]()];case 2:return n.sent(),this.mc.shift(),this.Zi.reset(),[3,4];case 3:if(!Ya(t=n.sent()))throw t;return ti("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.mc.length>0&&this.Zi.ji(function(){return e.vc()}),n.label=5;case 5:return[2]}})})},t.prototype.bc=function(t){var e=this,n=this._c.then(function(){return e.Tc=!0,t().catch(function(t){throw e.Ec=t,e.Tc=!1,ei("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.Tc=!1,t})});return this._c=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Rc(),this.Ic.indexOf(t)>-1&&(e=0);var i=Nl.createAndSchedule(this,t,e,n,function(t){return r.Pc(t)});return this.gc.push(i),i},t.prototype.Rc=function(){this.Ec&&ii()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Vc=function(){return(0,Zr.mG)(this,void 0,void 0,function(){var t;return(0,Zr.Jh)(this,function(e){switch(e.label){case 0:return[4,t=this._c];case 1:e.sent(),e.label=2;case 2:if(t!==this._c)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Sc=function(t){for(var e=0,n=this.gc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Dc=function(t){var e=this;return this.Vc().then(function(){e.gc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.gc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Vc()})},t.prototype.Cc=function(t){this.Ic.push(t)},t.prototype.Pc=function(t){var e=this.gc.indexOf(t);this.gc.splice(e,1)},t}();function Ef(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new za,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var Tf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new Sf,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return(0,Zr.ZT)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Cf(this),this._firestoreClient.terminate()},e}(pf);function If(t){return t._firestoreClient||Cf(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Cf(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new Wh(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Fh(t._credentials,t._queue,r)}function xf(t,e,n){var r=this,i=new za;return t.asyncQueue.enqueue(function(){return(0,Zr.mG)(r,void 0,void 0,function(){var r;return(0,Zr.Jh)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Uh(t,n)];case 1:return o.sent(),[4,jh(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Yr.FAILED_PRECONDITION||t.code===Yr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Af(t){if(t._initialized||t._terminated)throw new Qr(Yr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Of=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Qr(Yr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wi(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),kf=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Si.fromBase64String(e))}catch(e){throw new Qr(Yr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Si.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Df=function(t){this._methodName=t},Nf=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Qr(Yr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Qr(Yr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return ci(this._lat,t._lat)||ci(this._long,t._long)},t}(),Rf=/^__.*__$/,Pf=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new as(t,this.data,this.fieldMask,e,this.fieldTransforms):new ss(t,this.data,e,this.fieldTransforms)},t}(),Lf=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new as(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function Mf(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ii()}}var Ff=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Nc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"xc",{get:function(){return this.settings.xc},enumerable:!1,configurable:!0}),t.prototype.Fc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fc({path:n,$c:!1});return r.Oc(t),r},t.prototype.Mc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fc({path:n,$c:!1});return r.Nc(),r},t.prototype.Lc=function(t){return this.Fc({path:void 0,$c:!0})},t.prototype.Bc=function(t){return rd(t,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Uc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Nc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Oc(this.path.get(t))},t.prototype.Oc=function(t){if(0===t.length)throw this.Bc("Document fields must not be empty");if(Mf(this.xc)&&Rf.test(t))throw this.Bc('Document fields cannot begin and end with "__"')},t}(),Uf=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Xc(t)}return t.prototype.Qc=function(t,e,n,r){return void 0===r&&(r=!1),new Ff({xc:t,methodName:e,Uc:n,path:wi.emptyPath(),$c:!1,qc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function jf(t){var e=t._freezeSettings(),n=Xc(t._databaseId);return new Uf(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Vf(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Qc(o.merge||o.mergeFields?2:0,e,n,i);Xf("Data must be an object, but it was:",s,r);var a,u,c=Qf(r,s);if(o.merge)a=new _i(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=td(e,f[h],n);if(!s.contains(d))throw new Qr(Yr.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");id(l,d)||l.push(d)}a=new _i(l),u=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=s.fieldTransforms;return new Pf(new Zi(c),a,u)}var qf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Zr.ZT)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.xc)throw t.Bc(1===t.xc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Df);function Bf(t,e,n){return new Ff({xc:3,Uc:e.settings.Uc,methodName:t._methodName,$c:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Gf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Zr.ZT)(e,t),e.prototype._toFieldTransform=function(t){return new Yo(t.path,new Bo)},e.prototype.isEqual=function(t){return t instanceof e},e}(Df),zf=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return(0,Zr.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=Bf(this,t,!0),n=this.Kc.map(function(t){return Yf(t,e)}),r=new Go(n);return new Yo(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Df),Hf=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return(0,Zr.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=Bf(this,t,!0),n=this.Kc.map(function(t){return Yf(t,e)}),r=new Ho(n);return new Yo(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Df),$f=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return(0,Zr.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=new Ko(t.R,Fo(t.R,this.jc));return new Yo(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Df);function Kf(t,e,n,r){var i=t.Qc(1,e,n);Xf("Data must be an object, but it was:",i,r);var o=[],s=Zi.empty();gi(r,function(t,r){var a=nd(e,t,n);r=(0,z.m9)(r);var u=i.Mc(a);if(r instanceof qf)o.push(a);else{var c=Yf(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new _i(o);return new Lf(s,a,i.fieldTransforms)}function Zf(t,e,n,r,i,o){var s=t.Qc(1,e,n),a=[td(e,r,n)],u=[i];if(o.length%2!=0)throw new Qr(Yr.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(td(e,o[c])),u.push(o[c+1]);for(var l=[],h=Zi.empty(),f=a.length-1;f>=0;--f)if(!id(l,a[f])){var d=a[f],p=u[f];p=(0,z.m9)(p);var g=s.Mc(d);if(p instanceof qf)l.push(d);else{var m=Yf(p,g);null!=m&&(l.push(d),h.set(d,m))}}var v=new _i(l);return new Lf(h,v,s.fieldTransforms)}function Wf(t,e,n,r){return void 0===r&&(r=!1),Yf(n,t.Qc(r?4:3,e))}function Yf(t,e){if(Jf(t=(0,z.m9)(t)))return Xf("Unsupported field value:",e,t),Qf(t,e);if(t instanceof Df)return function(t,e){if(!Mf(e.xc))throw e.Bc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Bc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.$c&&4!==e.xc)throw e.Bc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Yf(o[i],e.Lc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,z.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Fo(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=fi.fromDate(t);return{timestampValue:Hs(e.R,n)}}if(t instanceof fi)return n=new fi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Hs(e.R,n)};if(t instanceof Nf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof kf)return{bytesValue:$s(e.R,t._byteString)};if(t instanceof gf){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Bc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Ws(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Bc("Unsupported field value: "+lf(t))}(t,e)}function Qf(t,e){var n={};return mi(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gi(t,function(t,r){var i=Yf(r,e.kc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Jf(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof fi||t instanceof Nf||t instanceof kf||t instanceof gf||t instanceof Df)}function Xf(t,e,n){if(!Jf(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=lf(n);throw e.Bc("an object"===r?t+" a custom object":t+" "+r)}}function td(t,e,n){if((e=(0,z.m9)(e))instanceof Of)return e._internalPath;if("string"==typeof e)return nd(t,e);throw rd("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var ed=new RegExp("[~\\*/\\[\\]]");function nd(t,e,n){if(e.search(ed)>=0)throw rd("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Of.bind.apply(Of,(0,Zr.ev)([void 0],e.split(".")))))._internalPath}catch(ut){throw rd("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function rd(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new Qr(Yr.INVALID_ARGUMENT,(a+=". ")+t+u)}function id(t,e){return t.some(function(t){return t.isEqual(e)})}var od=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new gf(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new sd(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(ad("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),sd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Zr.ZT)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(od);function ad(t,e){return"string"==typeof e?nd(t,e):e instanceof Of?e._internalPath:e._delegate._internalPath}var ud=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),cd=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return(0,Zr.ZT)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new ld(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(ad("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(od),ld=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Zr.ZT)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(cd),hd=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new ud(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new ld(n._firestore,n._userDataWriter,r.key,r,new ud(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Qr(Yr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new ld(t._firestore,t._userDataWriter,e.doc.key,e.doc,new ud(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new ld(t._firestore,t._userDataWriter,e.doc.key,e.doc,new ud(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:fd(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function fd(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ii()}}function dd(t,e){return t instanceof cd&&e instanceof cd?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof hd&&e instanceof hd&&t._firestore===e._firestore&&_f(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function pd(t){if(So(t)&&0===t.explicitOrderBy.length)throw new Qr(Yr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var gd=function(){};function md(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var vd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Wc=e,i.Gc=n,i.zc=r,i.type="where",i}return(0,Zr.ZT)(e,t),e.prototype._apply=function(t){var e=jf(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Qr(Yr.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Td(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(Ed(r,t,l[c]));a={arrayValue:{values:u}}}else a=Ed(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Td(s,o),a=Wf(n,"where",s,"in"===o||"not-in"===o);var h=no.create(i,o,a);return function(t,e){if(e.g()){var n=To(t);if(null!==n&&!n.isEqual(e.field))throw new Qr(Yr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Eo(t);null!==r&&Id(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Qr(Yr.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Wc,this.Gc,this.zc);return new mf(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new yo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(gd),yd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Wc=e,r.Hc=n,r.type="orderBy",r}return(0,Zr.ZT)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Qr(Yr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Qr(Yr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new po(e,n);return function(t,e){if(null===Eo(t)){var n=To(t);null!==n&&Id(0,n,e.field)}}(t,r),r}(t._query,this.Wc,this.Hc);return new mf(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new yo(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(gd),bd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return(0,Zr.ZT)(e,t),e.prototype._apply=function(t){return new mf(t.firestore,t.converter,Ao(t._query,this.Jc,this.Yc))},e}(gd),wd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return(0,Zr.ZT)(e,t),e.prototype._apply=function(t){var e=Sd(t,this.type,this.Xc,this.Zc);return new mf(t.firestore,t.converter,function(t,e){return new yo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(gd),_d=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return(0,Zr.ZT)(e,t),e.prototype._apply=function(t){var e=Sd(t,this.type,this.Xc,this.Zc);return new mf(t.firestore,t.converter,function(t,e){return new yo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(gd);function Sd(t,e,n,r){if(n[0]=(0,z.m9)(n[0]),n[0]instanceof od)return function(t,e,n,r,i){if(!r)throw new Qr(Yr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Co(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(qi(e,r.key));else{var c=r.data.field(u.field);if(xi(c))throw new Qr(Yr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Qr(Yr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new ho(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=jf(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new Qr(Yr.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new Qr(Yr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Io(t)&&-1!==c.indexOf("/"))throw new Qr(Yr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(yi.fromString(c));if(!Ri.isDocumentKey(l))throw new Qr(Yr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Ri(l);a.push(qi(e,h))}else{var f=Wf(n,r,c);a.push(f)}}return new ho(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function Ed(t,e,n){if("string"==typeof(n=(0,z.m9)(n))){if(""===n)throw new Qr(Yr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Io(e)&&-1!==n.indexOf("/"))throw new Qr(Yr.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(yi.fromString(n));if(!Ri.isDocumentKey(r))throw new Qr(Yr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return qi(t,new Ri(r))}if(n instanceof gf)return qi(t,n._key);throw new Qr(Yr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+lf(n)+".")}function Td(t,e){if(!Array.isArray(t)||0===t.length)throw new Qr(Yr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Qr(Yr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Id(t,e,n){if(!n.isEqual(e))throw new Qr(Yr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Cd=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Pi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ii(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ci(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ii()}},t.prototype.convertObject=function(t,e){var n=this,r={};return gi(t.fields,function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new Nf(Ii(t.latitude),Ii(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=Ai(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Oi(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Ti(t);return new fi(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=yi.fromString(t);oi(wa(n));var r=new Yh(n.get(1),n.get(3)),i=new Ri(n.popFirst(5));return r.isEqual(e)||ei("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function xd(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Ad=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,Zr.ZT)(e,t),e.prototype.convertBytes=function(t){return new kf(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new gf(this.firestore,null,e)},e}(Cd),Od=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=jf(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=kd(t,this._firestore),i=xd(r.converter,e,n),o=Vf(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Jo.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=kd(t,this._firestore);return o="string"==typeof(e=(0,z.m9)(e))||e instanceof Of?Zf(this._dataReader,"WriteBatch.update",s._key,e,n,r):Kf(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,Jo.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=kd(t,this._firestore);return this._mutations=this._mutations.concat(new ds(e._key,Jo.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Qr(Yr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function kd(t,e){if((t=(0,z.m9)(t)).firestore!==e)throw new Qr(Yr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Dd=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,Zr.ZT)(e,t),e.prototype.convertBytes=function(t){return new kf(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new gf(this.firestore,null,e)},e}(Cd);function Nd(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=hf(t,gf);var o=hf(t.firestore,Tf),s=jf(o);return Pd(o,[("string"==typeof(e=(0,z.m9)(e))||e instanceof Of?Zf(s,"updateDoc",t._key,e,n,r):Kf(s,"updateDoc",t._key,e)).toMutation(t._key,Jo.exists(!0))])}function Rd(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=(0,z.m9)(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Ef(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(Ef(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof gf)c=hf(t.firestore,Tf),l=wo(t._key.path),u={next:function(e){i[a]&&i[a](Ld(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=hf(t,mf);c=hf(d.firestore,Tf),l=d._query;var p=new Dd(c);u={next:function(t){i[a]&&i[a](new hd(c,p,d,t))},error:i[a+1],complete:i[a+2]},pd(t._query)}return function(t,e,n,r){var i=this,o=new Ph(r),s=new zl(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return(0,Zr.mG)(i,void 0,void 0,function(){var e;return(0,Zr.Jh)(this,function(n){switch(n.label){case 0:return e=jl,[4,$h(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return(0,Zr.mG)(i,void 0,void 0,function(){var e;return(0,Zr.Jh)(this,function(n){switch(n.label){case 0:return e=Vl,[4,$h(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(If(c),l,h,u)}function Pd(t,e){return function(t,e){var n=this,r=new za;return t.asyncQueue.enqueueAndForget(function(){return(0,Zr.mG)(n,void 0,void 0,function(){var n;return(0,Zr.Jh)(this,function(i){switch(i.label){case 0:return n=nh,[4,Hh(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(If(t),e)}function Ld(t,e,n){var r=n.docs.get(e._key),i=new Dd(t);return new cd(t,i,e._key,r,new ud(n.hasPendingWrites,n.fromCache),e.converter)}var Md=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return(0,Zr.ZT)(e,t),e.prototype.get=function(e){var n=this,r=kd(e,this._firestore),i=new Dd(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new cd(n._firestore,i,r._key,t._document,new ud(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=jf(t)}return t.prototype.get=function(t){var e=this,n=kd(t,this._firestore),r=new Ad(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return ii();var i=t[0];if(i.isFoundDocument())return new od(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new od(e._firestore,r,n._key,null,n.converter);throw ii()})},t.prototype.set=function(t,e,n){var r=kd(t,this._firestore),i=xd(r.converter,e,n),o=Vf(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=kd(t,this._firestore);return o="string"==typeof(e=(0,z.m9)(e))||e instanceof Of?Zf(this._dataReader,"Transaction.update",s._key,e,n,r):Kf(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=kd(t,this._firestore);return this._transaction.delete(e._key),this},t}());function Fd(){if("undefined"==typeof Uint8Array)throw new Qr(Yr.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Ud(){if("undefined"==typeof atob)throw new Qr(Yr.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var jd=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return Ud(),new t(kf.fromBase64String(e))},t.fromUint8Array=function(e){return Fd(),new t(kf.fromUint8Array(e))},t.prototype.toBase64=function(){return Ud(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return Fd(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Vd=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Af(t=hf(t,Tf));var n=If(t),r=t._freezeSettings(),i=new Rh;return xf(n,i,new Dh(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Af(t=hf(t,Tf));var e=If(t),n=t._freezeSettings(),r=new Rh;return xf(e,r,new Nh(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Qr(Yr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new za;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,Zr.mG)(e,void 0,void 0,function(){var e;return(0,Zr.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return(0,Zr.mG)(this,void 0,void 0,function(){return(0,Zr.Jh)(this,function(e){switch(e.label){case 0:return Ka.yt()?[4,Ka.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(ic(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),qd=function(){function t(t,e,n){var r=this;this._delegate=e,this.tu=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Yh||(this.eu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||ni("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=hf(t,pf))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&ni("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=(0,z.Sg)(r.mockUserToken),s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Qr(Yr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new tf(new Jh(o,new Lc(s)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,Zr.mG)(e,void 0,void 0,function(){var e,n;return(0,Zr.Jh)(this,function(r){switch(r.label){case 0:return[4,Bh(t)];case 1:return e=r.sent(),[4,zh(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=si(t);return e.Or.delete(0),al(e)}(n))]}})})})}(If(hf(this._delegate,Tf)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,Zr.mG)(e,void 0,void 0,function(){var e,n;return(0,Zr.Jh)(this,function(r){switch(r.label){case 0:return[4,Bh(t)];case 1:return e=r.sent(),[4,zh(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return(0,Zr.mG)(this,void 0,void 0,function(){var e;return(0,Zr.Jh)(this,function(n){switch(n.label){case 0:return(e=si(t)).Or.add(0),[4,ul(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(If(hf(this._delegate,Tf)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&af("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.tu.enableMultiTabIndexedDbPersistence(this):this.tu.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.tu.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.eu&&(this.eu._removeServiceInstance("firestore"),this.eu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new za;return t.asyncQueue.enqueueAndForget(function(){return(0,Zr.mG)(e,void 0,void 0,function(){var e;return(0,Zr.Jh)(this,function(r){switch(r.label){case 0:return e=uh,[4,Hh(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(If(hf(this._delegate,Tf)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Ph(e);return t.asyncQueue.enqueueAndForget(function(){return(0,Zr.mG)(n,void 0,void 0,function(){var e;return(0,Zr.Jh)(this,function(n){switch(n.label){case 0:return e=function(t,e){si(t).Gr.add(e),e.next()},[4,$h(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return(0,Zr.mG)(n,void 0,void 0,function(){var e;return(0,Zr.Jh)(this,function(n){switch(n.label){case 0:return e=function(t,e){si(t).Gr.delete(e)},[4,$h(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(If(t=hf(t,Tf)),Ef(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.eu)throw new Qr(Yr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.eu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new ep(this,yf(this._delegate,t))}catch(t){throw Kd(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new $d(this,bf(this._delegate,t))}catch(t){throw Kd(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Jd(this,function(t,e){if(t=hf(t,pf),of("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Qr(Yr.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new mf(t,null,function(t){return new yo(yi.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Kd(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new za;return t.asyncQueue.enqueueAndForget(function(){return(0,Zr.mG)(n,void 0,void 0,function(){var n;return(0,Zr.Jh)(this,function(i){switch(i.label){case 0:return[4,function(t){return qh(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new Mh(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(If(t),function(n){return e(new Md(t,n))})}(this._delegate,function(n){return t(new Gd(e,n))})},t.prototype.batch=function(){var t=this;return If(this._delegate),new zd(new Od(this._delegate,function(e){return Pd(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new Qr(Yr.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Qr(Yr.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Bd=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,Zr.ZT)(e,t),e.prototype.convertBytes=function(t){return new jd(new kf(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return $d.nu(e,this.firestore,null)},e}(Cd),Gd=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Bd(t)}return t.prototype.get=function(t){var e=this,n=np(t);return this._delegate.get(n).then(function(t){return new Yd(e._firestore,new cd(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=np(t);return n?(sf("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=np(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,(0,Zr.ev)([s,e,n],i)),this},t.prototype.delete=function(t){var e=np(t);return this._delegate.delete(e),this},t}(),zd=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=np(t);return n?(sf("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=np(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,(0,Zr.ev)([s,e,n],i)),this},t.prototype.delete=function(t){var e=np(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Hd=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new ld(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Qd(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.su=function(e,n){var r=t.iu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new Bd(e),n),i.set(n,o)),o},t}();Hd.iu=new WeakMap;var $d=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Bd(t)}return t.ru=function(e,n,r){if(e.length%2!=0)throw new Qr(Yr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new gf(n._delegate,r,new Ri(e)))},t.nu=function(e,n,r){return new t(n,new gf(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new ep(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new ep(this.firestore,yf(this._delegate,t))}catch(t){throw Kd(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=(0,z.m9)(t))instanceof gf&&wf(this._delegate,t)},t.prototype.set=function(t,e){e=sf("DocumentReference.set",e);try{return function(t,e,n){t=hf(t,gf);var r=hf(t.firestore,Tf),i=xd(t.converter,e,n);return Pd(r,[Vf(jf(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Jo.none())])}(this._delegate,t,e)}catch(t){throw Kd(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Nd(this._delegate,t):Nd.apply(void 0,(0,Zr.ev)([this._delegate,t,e],n))}catch(t){throw Kd(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Pd(hf((t=this._delegate).firestore,Tf),[new ds(t._key,Jo.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Zd(e),i=Wd(e,function(e){return new Yd(t.firestore,new cd(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return Rd(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=hf(t,gf);var e=hf(t.firestore,Tf),n=If(e),r=new Dd(e);return function(t,e){var n=this,r=new za;return t.asyncQueue.enqueueAndForget(function(){return(0,Zr.mG)(n,void 0,void 0,function(){var n;return(0,Zr.Jh)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,Zr.mG)(this,void 0,void 0,function(){var r,i;return(0,Zr.Jh)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=si(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Qr(Yr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Rl(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Gh(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new cd(e,r,t._key,n,new ud(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=hf(t,gf);var e=hf(t.firestore,Tf);return Kh(If(e),t._key,{source:"server"}).then(function(n){return Ld(e,t,n)})}(this._delegate):function(t){t=hf(t,gf);var e=hf(t.firestore,Tf);return Kh(If(e),t._key).then(function(n){return Ld(e,t,n)})}(this._delegate)).then(function(t){return new Yd(e.firestore,new cd(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Hd.su(this.firestore,e):null))},t}();function Kd(t,e,n){return t.message=t.message.replace(e,n),t}function Zd(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Ef(r))return r}return{}}function Wd(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Ef(t[0])?t[0]:Ef(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Yd=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new $d(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return dd(this._delegate,t._delegate)},t}(),Qd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Zr.ZT)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Yd),Jd=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Bd(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,md(this._delegate,function(t,e,n){var r=e,i=ad("where",t);return new vd(i,r,n)}(e,n,r)))}catch(e){throw Kd(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,md(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=ad("orderBy",t);return new yd(r,n)}(e,n)))}catch(e){throw Kd(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,md(this._delegate,function(t){return ff("limit",t),new bd("limit",t,"F")}(e)))}catch(e){throw Kd(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,md(this._delegate,function(t){return ff("limitToLast",t),new bd("limitToLast",t,"L")}(e)))}catch(e){throw Kd(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,md(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new wd("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw Kd(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,md(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new wd("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw Kd(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,md(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new _d("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw Kd(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,md(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new _d("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw Kd(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return _f(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=hf(t,mf);var e=hf(t.firestore,Tf),n=If(e),r=new Dd(e);return function(t,e){var n=this,r=new za;return t.asyncQueue.enqueueAndForget(function(){return(0,Zr.mG)(n,void 0,void 0,function(){var n;return(0,Zr.Jh)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,Zr.mG)(this,void 0,void 0,function(){var r,i,o,s,a;return(0,Zr.Jh)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,bc(t,e,!0)];case 1:return a=u.sent(),r=new Wl(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=Rl(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,Gh(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new hd(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=hf(t,mf);var e=hf(t.firestore,Tf),n=If(e),r=new Dd(e);return Zh(n,t._query,{source:"server"}).then(function(n){return new hd(e,r,t,n)})}(this._delegate):function(t){t=hf(t,mf);var e=hf(t.firestore,Tf),n=If(e),r=new Dd(e);return pd(t._query),Zh(n,t._query).then(function(n){return new hd(e,r,t,n)})}(this._delegate)).then(function(t){return new tp(e.firestore,new hd(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Zd(e),i=Wd(e,function(e){return new tp(t.firestore,new hd(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return Rd(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Hd.su(this.firestore,e):null))},t}(),Xd=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Qd(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),tp=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Jd(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new Qd(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new Xd(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new Qd(n._firestore,r))})},t.prototype.isEqual=function(t){return dd(this._delegate,t._delegate)},t}(),ep=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return(0,Zr.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new $d(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new $d(this.firestore,void 0===t?bf(this._delegate):bf(this._delegate,t))}catch(t){throw Kd(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=hf(t.firestore,Tf),r=bf(t),i=xd(t.converter,e);return Pd(n,[Vf(jf(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Jo.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new $d(e.firestore,t)})},e.prototype.isEqual=function(t){return wf(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Hd.su(this.firestore,t):null))},e}(Jd);function np(t){return hf(t,gf)}var rp,ip=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Of.bind.apply(Of,(0,Zr.ev)([void 0],t)))}return t.documentId=function(){return new t(wi.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=(0,z.m9)(t))instanceof Of&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),op=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Gf("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new qf("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new zf("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Hf("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new $f("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),sp=n(5119),ap={Firestore:qd,GeoPoint:Nf,Timestamp:fi,Blob:jd,Transaction:Gd,WriteBatch:zd,DocumentReference:$d,DocumentSnapshot:Yd,Query:Jd,QueryDocumentSnapshot:Qd,QuerySnapshot:tp,CollectionReference:ep,FieldPath:ip,FieldValue:op,setLogLevel:function(t){Jr.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new sp.wA("firestore",function(t){return function(t,e){return new qd(t,new Tf(t,e),new Vd)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},ap)))})(rp=G.Z),rp.registerVersion("@firebase/firestore","2.3.2");var up=n(5959),cp=n(1906),lp=n(4689),hp=n(8303),fp=n(3530);function dp(t,e){return e?(0,lp.w)(()=>t,e):(0,lp.w)(()=>t)}var pp=n(4187);const gp=new i.OlP("angularfire2.auth.use-emulator"),mp=new i.OlP("angularfire2.auth.settings"),vp=new i.OlP("angularfire2.auth.tenant-id"),yp=new i.OlP("angularfire2.auth.langugage-code"),bp=new i.OlP("angularfire2.auth.use-device-language"),wp=new i.OlP("angularfire.auth.persistence");let _p=(()=>{class t{constructor(t,e,r,i,o,a,u,c,l,h){const f=new s.HU(i),d=(0,s.ss)(f),p=new up.xQ,g=(0,O.of)(void 0).pipe((0,V.QV)(f.outsideAngular),(0,lp.w)(()=>i.runOutsideAngular(()=>n.e(420).then(n.bind(n,7420)))),(0,L.U)(()=>(0,s.on)(t,i,e)),(0,L.U)(t=>i.runOutsideAngular(()=>{const e=o,n=a;return(0,s.sI)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());if(e&&r.useEmulator(`http://${e.join(":")}`),u&&(r.tenantId=u),r.languageCode=c,l&&r.useDeviceLanguage(),n)for(const[t,e]of Object.entries(n))r.settings[t]=e;return h&&r.setPersistence(h),r},[e,u,c,l,n,h])})),(0,hp.d)({bufferSize:1,refCount:!1}));if((0,q.PM)(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,O.of)(null);else{g.pipe((0,fp.P)()).subscribe();const t=g.pipe((0,lp.w)(t=>t.getRedirectResult().then(t=>t,()=>null)),d,(0,hp.d)({bufferSize:1,refCount:!1})),e=t=>new x.y(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=g.pipe((0,lp.w)(t=>e(t.onAuthStateChanged.bind(t)))),r=g.pipe((0,lp.w)(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(dp(n),(0,pp.R)(f.outsideAngular),(0,V.QV)(f.insideAngular)),this.user=t.pipe(dp(r),(0,pp.R)(f.outsideAngular),(0,V.QV)(f.insideAngular)),this.idToken=this.user.pipe((0,lp.w)(t=>t?(0,A.D)(t.getIdToken()):(0,O.of)(null))),this.idTokenResult=this.user.pipe((0,lp.w)(t=>t?(0,A.D)(t.getIdTokenResult()):(0,O.of)(null))),this.credential=(0,cp.T)(t,p,this.authState.pipe((0,j.h)(t=>!t))).pipe((0,L.U)(t=>(null==t?void 0:t.user)?t:null),(0,pp.R)(f.outsideAngular),(0,V.QV)(f.insideAngular))}return(0,s.pX)(this,g,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>p.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(s.Dh),i.LFG(s.xv,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(gp,8),i.LFG(mp,8),i.LFG(vp,8),i.LFG(yp,8),i.LFG(bp,8),i.LFG(wp,8))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(s.Dh),i.LFG(s.xv,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(gp,8),i.LFG(mp,8),i.LFG(vp,8),i.LFG(yp,8),i.LFG(bp,8),i.LFG(wp,8))},token:t,providedIn:"any"}),t})();function Sp(t,e){return function(t,e=C.z){return new x.y(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function Ep(t,e){return Sp(t,e).pipe((0,L.U)(t=>({payload:t,type:"query"})))}function Tp(t,e){return Ep(t,e).pipe((0,k.O)(void 0),N(),(0,L.U)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function Ip(t,e,n){return Tp(t,n).pipe((0,M.R)((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Cp(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Cp(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Cp(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new F(void 0,void 0)),(0,L.U)(t=>t.map(t=>({type:t.type,payload:t}))))}function Cp(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function xp(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(0,s.GT)(_p,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class Ap{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=Tp(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,L.U)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe((0,k.O)(void 0),N(),(0,j.h)(([t,e])=>e.length>0||!t),(0,L.U)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe((0,M.R)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=xp(t);return Ip(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Ep(this.query,this.afs.schedulers.outsideAngular).pipe((0,L.U)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,A.D)(this.query.get(t)).pipe((0,V.QV)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Op(this.ref.doc(t),this.afs)}}class Op{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Lp(n,e);return new Ap(r,i,this.afs)}snapshotChanges(){return Sp(this.ref,this.afs.schedulers.outsideAngular).pipe((0,k.O)(void 0),N(),(0,L.U)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe((0,L.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,A.D)(this.ref.get(t)).pipe((0,V.QV)(this.afs.schedulers.insideAngular))}}class kp{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Tp(this.query,this.afs.schedulers.outsideAngular).pipe((0,L.U)(e=>e.filter(e=>t.indexOf(e.type)>-1)),(0,j.h)(t=>t.length>0),this.afs.keepUnstableUntilFirst):Tp(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe((0,M.R)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=xp(t);return Ip(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Ep(this.query,this.afs.schedulers.outsideAngular).pipe((0,L.U)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,A.D)(this.query.get(t)).pipe((0,V.QV)(this.afs.schedulers.insideAngular))}}const Dp=new i.OlP("angularfire2.enableFirestorePersistence"),Np=new i.OlP("angularfire2.firestore.persistenceSettings"),Rp=new i.OlP("angularfire2.firestore.settings"),Pp=new i.OlP("angularfire2.firestore.use-emulator");function Lp(t,e=(t=>t)){return{query:e(t),ref:t}}let Mp=(()=>{class t{constructor(t,e,n,r,i,o,a,u,c){this.schedulers=new s.HU(o),this.keepUnstableUntilFirst=(0,s.ss)(this.schedulers);const l=(0,s.on)(t,o,e);!B.Z.auth&&c&&(0,s.yq)();const h=u;[this.firestore,this.persistenceEnabled$]=(0,s.sI)(`${l.name}.firestore`,"AngularFirestore",l,()=>{const t=o.runOutsideAngular(()=>l.firestore());if(r&&t.settings(r),h&&t.useEmulator(...h),n&&!(0,q.PM)(i)){const e=()=>{try{return(0,A.D)(t.enablePersistence(a||void 0).then(()=>!0,()=>!1))}catch(rp){return"undefined"!=typeof console&&console.warn(rp),(0,O.of)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,(0,O.of)(!1)]},[r,h,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Lp(n,e),o=this.schedulers.ngZone.run(()=>r);return new Ap(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new kp(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Op(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(s.Dh),i.LFG(s.xv,8),i.LFG(Dp,8),i.LFG(Rp,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(Np,8),i.LFG(Pp,8),i.LFG(gp,8))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(s.Dh),i.LFG(s.xv,8),i.LFG(Dp,8),i.LFG(Rp,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(Np,8),i.LFG(Pp,8),i.LFG(gp,8))},token:t,providedIn:"any"}),t})();const Fp=function(){return[""]};let Up=(()=>{class t{constructor(t){this.setting=t}ngOnInit(){}toggleTheme(t){return this.setting.changeTheme(t.target.checked?"dark":"light")}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(a.RC))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-header"]],decls:23,vars:3,consts:[[1,"app-header"],[1,"brand"],[3,"usefulRouterLink"],["src","/assets/images/logo.svg","alt","Angular UI/UX starters"],[1,"font-head"],[1,"nav"],["href","https://lamnhan.com/hire","target","_blank"],["href","https://lamnhan.com/donate","target","_blank"],[1,"themer"],[1,"switch"],["type","checkbox",3,"checked","change"],[1,"slider","round"],[1,"action"],["href","https://github.com/lamnhan/nguix-starter","target","_blank",1,"button-outline-light"],[1,"icon","icon-github-light"]],template:function(t,e){1&t&&(i.TgZ(0,"header",0),i.TgZ(1,"div",1),i.TgZ(2,"a",2),i.TgZ(3,"em"),i._UZ(4,"img",3),i.qZA(),i.TgZ(5,"span",4),i._uU(6,"NGUIX Starter"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(7,"ul",5),i.TgZ(8,"li"),i.TgZ(9,"a",6),i._uU(10,"Hire me"),i.qZA(),i.qZA(),i.TgZ(11,"li"),i.TgZ(12,"a",7),i._uU(13,"Buy me coffee"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(14,"div",8),i.TgZ(15,"label",9),i.TgZ(16,"input",10),i.NdJ("change",function(t){return e.toggleTheme(t)}),i.qZA(),i._UZ(17,"span",11),i.qZA(),i.qZA(),i.TgZ(18,"div",12),i.TgZ(19,"a",13),i._UZ(20,"i",14),i.TgZ(21,"span"),i._uU(22,"Source code"),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(2),i.Q6J("usefulRouterLink",i.DdM(2,Fp)),i.xp6(14),i.Q6J("checked","dark"===e.setting.theme))},directives:[a.jY],styles:[".app-header[_ngcontent-%COMP%]{width:100%;height:64px;padding:.5rem 1rem;position:fixed;top:0;left:0;z-index:9999999;display:flex;align-items:center;flex-wrap:nowrap;background:var(--app-color-primary);color:var(--app-color-primary-contrast);border-bottom:var(--app-size-border) solid var(--app-color-primary-shade)}.app-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]{flex:1}.app-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--app-color-primary-contrast);text-decoration:none;display:flex;align-items:center}.app-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .app-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none}.app-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{display:block}.app-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px}.app-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none;margin:0 0 0 .5rem;font-size:1.3rem;font-weight:700}.app-header[_ngcontent-%COMP%]   ul.nav[_ngcontent-%COMP%]{list-style:none;margin:0;flex:1;display:none;align-items:center;justify-content:flex-end;padding:0 1rem 0 0;border-right:1px solid var(--app-color-primary-shade)}.app-header[_ngcontent-%COMP%]   ul.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;width:auto;height:32px;color:var(--app-color-primary-contrast);padding:0 .5rem;opacity:.7;margin-left:.5rem}.app-header[_ngcontent-%COMP%]   ul.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .app-header[_ngcontent-%COMP%]   ul.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none;color:var(--app-color-light);opacity:1}.app-header[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%], .app-header[_ngcontent-%COMP%]   .themer[_ngcontent-%COMP%]{margin-left:1rem}.app-header[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.5rem;display:flex;align-items:center}.app-header[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, .app-header[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .app-header[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--app-color-primary-contrast);background:none}.app-header[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem}.app-header[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:.5rem}@media only screen and (min-width:768px){.app-header[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}.app-header[_ngcontent-%COMP%]   ul.nav[_ngcontent-%COMP%]{display:flex}.app-header[_ngcontent-%COMP%]   ul.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:0 .75rem}}"]}),t})();const jp=function(){return[""]},Vp=function(){return{exact:!0}},qp=function(){return["guides"]},Bp=function(){return["components"]},Gp=function(){return["pages"]},zp=function(){return["splashscreens"]},Hp=function(){return["templates"]};let $p=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-header2nd"]],decls:20,vars:14,consts:[[1,"app-header2nd"],[1,"nav"],["usefulRouterLinkActive","active",3,"usefulRouterLink","usefulRouterLinkActiveOptions"],["usefulRouterLinkActive","active",3,"usefulRouterLink"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"ul",1),i.TgZ(2,"li"),i.TgZ(3,"a",2),i._uU(4,"Home"),i.qZA(),i.qZA(),i.TgZ(5,"li"),i.TgZ(6,"a",3),i._uU(7,"Guides"),i.qZA(),i.qZA(),i.TgZ(8,"li"),i.TgZ(9,"a",3),i._uU(10,"Components"),i.qZA(),i.qZA(),i.TgZ(11,"li"),i.TgZ(12,"a",3),i._uU(13,"Pages"),i.qZA(),i.qZA(),i.TgZ(14,"li"),i.TgZ(15,"a",3),i._uU(16,"Splashscreens"),i.qZA(),i.qZA(),i.TgZ(17,"li"),i.TgZ(18,"a",3),i._uU(19,"Templates"),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(3),i.Q6J("usefulRouterLink",i.DdM(7,jp))("usefulRouterLinkActiveOptions",i.DdM(8,Vp)),i.xp6(3),i.Q6J("usefulRouterLink",i.DdM(9,qp)),i.xp6(3),i.Q6J("usefulRouterLink",i.DdM(10,Bp)),i.xp6(3),i.Q6J("usefulRouterLink",i.DdM(11,Gp)),i.xp6(3),i.Q6J("usefulRouterLink",i.DdM(12,zp)),i.xp6(3),i.Q6J("usefulRouterLink",i.DdM(13,Hp)))},directives:[a.jY],styles:[".app-header2nd[_ngcontent-%COMP%]{width:100%;height:48px;padding:.25rem 1rem;position:fixed;top:64px;left:0;z-index:9999999;display:flex;align-items:center;flex-wrap:nowrap;background:var(--app-color-background);color:var(--app-color-background-contrast);border-bottom:var(--app-size-border) solid var(--app-color-background-shade)}.app-header2nd[_ngcontent-%COMP%]   ul.nav[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none;flex:1;display:flex;align-items:center}.app-header2nd[_ngcontent-%COMP%]   ul.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--app-color-foreground-tint);opacity:.7;padding:0 .5rem;margin-left:.5rem}.app-header2nd[_ngcontent-%COMP%]   ul.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .app-header2nd[_ngcontent-%COMP%]   ul.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none;color:var(--app-color-foreground-shade);opacity:1}.app-header2nd[_ngcontent-%COMP%]   ul.nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], .app-header2nd[_ngcontent-%COMP%]   ul.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:var(--app-color-primary);font-weight:700;opacity:1}"]}),t})(),Kp=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-footer"]],decls:20,vars:0,consts:[[1,"app-footer"],[1,"attr"],["href","https://lamnhan.com"],[1,"links"],["href","mailto:dev@lamnhan.com"],["href","https://m.me/lamhiennhan","target","_blank"],["href","https://github.com/lamnhan","target","_blank"]],template:function(t,e){1&t&&(i.TgZ(0,"footer",0),i.TgZ(1,"div",1),i._uU(2," Developed by "),i.TgZ(3,"a",2),i.TgZ(4,"strong"),i._uU(5,"Lam Nhan"),i.qZA(),i.qZA(),i._uU(6," with \ud83d\udc9d, unders the "),i.TgZ(7,"strong"),i._uU(8,"MIT"),i.qZA(),i._uU(9," license. "),i.qZA(),i.TgZ(10,"ul",3),i.TgZ(11,"li"),i.TgZ(12,"a",4),i._uU(13,"Email"),i.qZA(),i.qZA(),i.TgZ(14,"li"),i.TgZ(15,"a",5),i._uU(16,"Messenger"),i.qZA(),i.qZA(),i.TgZ(17,"li"),i.TgZ(18,"a",6),i._uU(19,"Github"),i.qZA(),i.qZA(),i.qZA(),i.qZA())},styles:[".app-footer[_ngcontent-%COMP%]{width:100%;padding:1rem;background:var(--app-color-background);border-top:var(--app-size-border) solid var(--app-color-background-shade)}.app-footer[_ngcontent-%COMP%]   .attr[_ngcontent-%COMP%]{width:100%;text-align:center}.app-footer[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]{list-style:none;padding:0;margin:1rem 0 0;display:flex;justify-content:center;flex-wrap:nowrap}.app-footer[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;padding:0 1rem}@media only screen and (min-width:768px){.app-footer[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center}.app-footer[_ngcontent-%COMP%]   .attr[_ngcontent-%COMP%]{flex:1;text-align:left}.app-footer[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]{margin-top:0}}"]}),t})(),Zp=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u,c){this.firebaseFirestore=t,this.localstorageService=e,this.cacheService=n,this.fetchService=r,this.appService=i,this.metaService=o,this.navService=s,this.settingService=a,this.personaService=u,this.databaseService=c,this.initialize()}initialize(){this.localstorageService.init(),this.cacheService.init(),this.fetchService.init({cacheTime:1440},{cacheService:this.cacheService}),this.databaseService.init(this.firebaseFirestore,{driver:"firestore",cacheTime:1440},{cacheService:this.cacheService}),this.appService.init({splashScreen:!0}),this.settingService.init({browserColor:!0,onReady:()=>this.appService.hideSplashScreen()},{},{localstorageService:this.localstorageService}),this.navService.init({},{settingService:this.settingService}),this.personaService.init({},{},{settingService:this.settingService}),this.metaService.init({title:"NGUIX Starter",description:"Angular UI/UX starter kit.",image:"https://nguix-starter.lamnhan.com/assets/images/featured.jpg",url:"https://nguix-starter.lamnhan.com/",lang:"en",ogLocale:"en-US",ogSiteName:"NGUIX Starter"},{},{settingService:this.settingService})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Mp),i.Y36(a.gr),i.Y36(a.QM),i.Y36(a.rX),i.Y36(a.zi),i.Y36(a.Rj),i.Y36(a.tZ),i.Y36(a.RC),i.Y36(a.J$),i.Y36(a.k9))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"page-container"]],template:function(t,e){1&t&&(i._UZ(0,"app-header"),i._UZ(1,"app-header2nd"),i.TgZ(2,"main",0),i._UZ(3,"router-outlet"),i.qZA(),i._UZ(4,"app-footer"))},directives:[Up,$p,u.lC,Kp],styles:[".page-container[_ngcontent-%COMP%]{width:100%;max-width:1200px;margin:114px auto auto;min-height:calc(100vh - 65px - 49px - 121px)}@media only screen and (min-width:480px){.page-container[_ngcontent-%COMP%]{min-height:calc(100vh - 65px - 49px - 71px)}}@media only screen and (min-width:768px){.page-container[_ngcontent-%COMP%]{min-height:calc(100vh - 65px - 49px - 57px)}}@media only screen and (min-width:992px){.page-container[_ngcontent-%COMP%]{min-height:calc(100vh - 65px - 49px - 57px)}}"]}),t})(),Wp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[a.Pf]]}),t})(),Yp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[a.Pf]]}),t})(),Qp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[a.Pf]]}),t})(),Jp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t,bootstrap:[Zp]}),t.\u0275inj=i.cJS({providers:[a.gr,a.QM,a.rX,a.zi,a.Rj,a.tZ,a.RC,a.J$,a.k9,a.QX],imports:[[r.b2,I,s.hO.initializeApp(o),a.Pf,Wp,Yp,Qp]]}),t})();(0,i.G48)(),r.q6().bootstrapModule(Jp).catch(t=>console.error(t))},4762:(t,e,n)=>{"use strict";n.d(e,{ZT:()=>i,pi:()=>o,mG:()=>s,Jh:()=>a,XA:()=>u,CR:()=>c,ev:()=>l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}}},t=>{"use strict";t(t.s=3275)}]);