<ng-container *transloco="let t">

<div class="host" *ngIf="pageData$ | async; let pageData">

  <section class="title">
    <h3 class="text-medium">{{ !pageData.i18n ? pageData.title : t('APP.SETTING') || pageData.title }}</h3>
  </section>

  <section class="theme">
    <div class="title">{{ !pageData.i18n ? pageData.themeTitle : t('THEME.TITLE') || pageData.themeTitle }}</div>
    <div class="body">
      <label class="text" for="theming">{{ !pageData.i18n ? pageData.themeDarkMode : t('THEME.DARK_MODE') || pageData.themeDarkMode }}</label>
      <label class="form-switch">
        <input type="checkbox"
          id="theming"
          [checked]="settingService.theme==='dark'"
          (change)="toggleTheme($event)">
        <span class="slider"></span>
      </label>
    </div>

  </section>

  <section class="locale">
    <div class="title">{{ !pageData.i18n ? pageData.localeTitle : t('LOCALE.TITLE') || pageData.localeTitle }}</div>
    <div class="body">
      <button
        *ngFor="let localeItem of settingService.locales"
        [class]="settingService.locale === localeItem.value ? 'button-primary' : 'button-outline-medium'"
        (click)="settingService.changeLocale(localeItem.value)"
      >{{ localeItem.text }}</button>
    </div>
  </section>

  <section class="persona">
    <div class="title">{{ !pageData.i18n ? pageData.personaTitle : t('PERSONA.TITLE') || pageData.personaTitle }}</div>
    <div class="body">
      <ul>
        <li *ngFor="let personaItem of settingService.personas">
          <button
            [class]="settingService.persona === personaItem.value ? 'button-secondary' : 'button-outline-medium'"
            (click)="settingService.changePersona(personaItem.value)"
          >{{ !pageData.i18n ? personaItem.text : t(personaItem.text) || personaItem.text }}</button>
        </li>
      </ul>
    </div>
  </section>

</div>
</ng-container>
