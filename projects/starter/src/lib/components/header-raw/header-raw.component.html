<div class="header">

  <div class="toggler">
    <button (click)="mobileMenuExpanded=!mobileMenuExpanded">
      <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAAKUlEQVRIiWNgGOqAkYGB4T8tLWCipeGjYBQMETCa0UbBKKADGM1oAw8A4D4DB6WZLegAAAAASUVORK5CYII="/>
    </button>
  </div>

  <nav class="nav">

    <div class="brand" [class.has-logo]="logo">
      <a [routerLink]="['/']">
        <img *ngIf="logo" [src]="logo" [alt]="title">
        <h1 [innerHtml]="title"></h1>
      </a>
    </div>

    <div
      class="menu"
      [class]="mobileMenuMode"
    >
      <div class="container" [class.expanded]="mobileMenuExpanded">

        <ul class="main">
          <li
            *ngFor="let menuItem of menuItems"
            (click)="mobileMenuExpanded=false"
          >
            <a
              [href]="menuItem.link"
              [routerLink]="menuItem.routerLink"
              routerLinkActive="active"
            >
              <img *ngIf="menuItem.icon" [src]="menuItem.icon">
              <span>{{menuItem.text}}</span>
            </a>
          </li>
        </ul>
  
        <ul class="buttons" *ngIf="menuButtons">
          <li
            *ngFor="let menuButton of menuButtons"
            (click)="mobileMenuExpanded=false"
          >
            <a [href]="menuButton.link" [routerLink]="menuButton.routerLink" target="_blank"><img [src]="menuButton.icon"></a>
          </li>
        </ul>

      </div>
    </div>

  </nav>

  <div
    class="search"
    *ngIf="searchBar"
    [class.collapsed]="searchBar==='collapsed'"
  >
    <input type="search" [placeholder]="searchPlaceholder" />
    <button (click)="searchBar=(searchBar==='collapsed'?true:'collapsed')">
      <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAABL0lEQVRIie3UsUpDQRCF4U9RREwlWCqonZYpxE4fwDfwCQJJa5VagkVArPQJRBstU6axsLHUQgtBEQRtVMQiWuwGJCZk15BGPHBZLnf2/DN7Z5Z/DaBJVNDEI95xjX0UBzVfwS0+cY5d1HCIZ7Swh/Hfmr/hCqtdvhcirIUjjOSYT8bMLzHdJ7YsVFjKAVRiZt0y76YGHjCWCmgKZ56qDaGK9V4Box3vSzjLALRjl1MBU3jNALzEtZAKuMd8BmAhrnepGw6EPu+ZUYeqQlPMpQKKcUMtIXYWTzhJNW9rL0LKfcwv8IHFXMA4joX2awitOIMJocuqQuYfMaaeCyCMf0kYos+Op4XTmHl9EAhhQteE49rCpp8/dGBIira/QbIuvxy1K9kZFkA0vxkm4A/qCzQ5RK3c4OI+AAAAAElFTkSuQmCC"/>
    </button>
  </div>

  <div class="extra" *ngIf="extraButton">

    <!-- switching -->
    <label class="switch" *ngIf="extraButton==='switch'; else extraNotSwitching">
      <input type="checkbox" (change)="extra.emit({$event: $event, extraButton: extraButton})">
      <span class="slider round"></span>
    </label>

    <ng-template #extraNotSwitching>

      <!-- button -->
      <button
        class="any"
        *ngIf="!extraButton.items; else extraNotButton"
        (click)="extra.emit({$event: $event, extraButton: extraButton})"
      >
        <img [src]="getExtraButtonIcon(extraButton)"/>
      </button>

      <!-- listing -->
      <ng-template #extraNotButton>
        <div class="listing">
          <button class="display">...</button>
        </div>
      </ng-template>
 
    </ng-template>

  </div>

</div>
