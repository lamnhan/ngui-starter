<article class="article" *ngIf="post">

  <div class="head">
    <h1 class="title" [innerHtml]="mdSupported ? md2Html(post.title) : post.title"></h1>
    <div class="meta">
      <div class="author"></div>
      <div class="props"></div>
      <div class="actions"></div>
    </div>
  </div>

  <div class="body">

    <ul
      class="toc"
      *ngIf="article?.toc.length"
    >
      <li
        *ngFor="let tocItem of post.toc"
        [class]="'level-' + tocItem.level"
      >
        <a
          *ngIf="tocItem.id; else tocLinkElse"
          href="javascript:void(0)"
          (click)="selectTOCArticle(tocItem)"
          [innerHtml]="mdSupported ? md2Html(tocItem.text) : tocItem.text"></a>
        <ng-template #tocLinkElse>
          <a
            target="_blank"
            [href]="tocItem.link"
            [innerHtml]="mdSupported ? md2Html(tocItem.text) : tocItem.text"></a>
        </ng-template>          
      </li>
    </ul>
  
    <div class="tldr" *ngIf="post.tldr">
      <div [innerHtml]="mdSupported ? md2Html(post.tldr) : post.tldr"></div>
    </div>
  
    <div class="content">
      <div
        class="html"
        *ngIf="mdSupported; else markdownContentElse"
        [innerHtml]="post.content"></div>
      <ng-template #markdownContentElse>
        <div class="md">
          <markdown [data]="post.content" (ready)="markdownReady.emit($event)"></markdown>
        </div>
      </ng-template>
    </div>

  </div>

  <div class="foot">
    <div class="meta"></div>
    <div class="author"></div>
    <div class="comment"></div>
  </div>

</article>
